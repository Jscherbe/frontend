const Lr="modulepreload",_r=function(e,n){return new URL(e,n).href},xn={},Pr=function(n,t,s){let r=Promise.resolve();if(t&&t.length>0){let c=function(p){return Promise.all(p.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");r=c(t.map(p=>{if(p=_r(p,s),p in xn)return;xn[p]=!0;const u=p.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(s)for(let h=o.length-1;h>=0;h--){const m=o[h];if(m.href===p&&(!u||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Lr,u||(d.as="script"),d.crossOrigin="",d.href=p,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,m)=>{d.addEventListener("load",h),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${p}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return n().catch(i)})};function as(e,n,t,s){let r;const i=function(){const o=s||this,a=arguments,l=function(){r=null,t||e.apply(o,a)},c=t&&!r;clearTimeout(r),r=setTimeout(l,n),c&&e.apply(o,a)};return i.cancel=function(){clearTimeout(r),r=null},i}const Rr=/\s+/g;const $r=/^[{\[][\s\S]*[}\]]$/;function Nr(e,n={},t=null){try{return JSON.parse(e)}catch(s){return typeof t=="function"?t(s,e):console.warn("safeParse: Failed to parse JSON string:",e,"Error:",s),n}}function ls(){return typeof window<"u"&&typeof window.document<"u"}function cs(e){return new DOMParser().parseFromString(e,"text/html").body.firstElementChild}function Dr(e,n,t={}){const s=e.dataset[n];return Nr(s,t,r=>{console.error(`Error getting JSON from dataset (${n}) -- "${s}"
`,e,r)})}function Mr(e,n){const t=e.dataset[n];return t&&$r.test(t.trim())?Dr(e,n):t}function Ir(e,n){const t=e.getBoundingClientRect();return n.clientY<t.top||n.clientY>t.top+t.height||n.clientX<t.left||n.clientX>t.left+t.width}function ve(e,n=document){return typeof e=="string"?n.querySelector(e):e instanceof Element?e:(console.warn("getElement: Invalid target type (expected String/Node)",e),null)}function us(e,n=document){return typeof e=="string"?[...n.querySelectorAll(e)]:e instanceof Element?[e]:Array.isArray(e)||e instanceof NodeList?[...e]:(console.warn("getElement: Invalid target type (expected String/Node/Array/Node List)",e),null)}function zr(e){const t={...{scrollableChild:document.body,container:window,propertyElement:document.documentElement,propertyName:"--ulu-scrollbar-width"},...e},{scrollableChild:s,container:r,propertyElement:i,propertyName:o}=t,a=ps(s,r);i.style.setProperty(o,`${a}px`)}function ps(e=document.body,n=window){return n.innerWidth-e.clientWidth}function jr({preventShift:e=!1,container:n=document.body}){const t=n.style.overflow,s=n.style.paddingRight;if(n.style.overflow="hidden",e){const r=ps();if(r>0){const i=parseInt(s||"0px",10);n.style.paddingRight=`${i+r}px`}}return()=>{n.style.overflow=t,n.style.paddingRight=s}}ls()&&(Hr(),qr());const Vt={pageModified(e){e.dispatchEvent(ge("pageModified"))},pageResized(e){e.dispatchEvent(ge("pageResized"))},beforePrint(e){e.dispatchEvent(ge("beforePrint"))},afterPrint(e){e.dispatchEvent(ge("afterPrint"))}},Fr=Object.keys(Vt);function Ee(e,n){Vt[e]?Vt[e](n):console.warn(`Unable to dispatch non-core event: ${e}`)}function de(e){return"ulu:"+e}function J(e){return Fr.includes(e)?de(e):(console.warn(`'${e}' is not a valid core event type.`),null)}function ge(e,n=null,t={bubbles:!0}){return new CustomEvent(de(e),{detail:n,...t})}function Hr(){window.addEventListener("resize",as(()=>Ee("pageResized",document),250))}function qr(){window.addEventListener("beforeprint",()=>{Ee("beforePrint",document)}),window.addEventListener("afterprint",()=>{Ee("afterPrint",document)})}const fs={iconClassClose:"css-icon css-icon--close",iconClassDragX:"css-icon css-icon--drag-x",iconClassDragBoth:"css-icon css-icon--drag-both",iconClassPrevious:"css-icon  css-icon--angle-left",iconClassNext:"css-icon  css-icon--angle-right",cssvarPrefix:""};let $e={...fs};function Br(){return{...fs}}function ds(e){Object.assign($e,e)}function Ur(){return{...$e}}function hs(e){if(!$e.hasOwnProperty(e)){console.warn(`Attempted to access non-existent setting: ${e}`);return}return $e[e]}function ms(e,n){$e[e]=n}function se(e,n){return{toString(){const t=hs(e);return n?n(t):t}}}function Te(e){return n=>e.every(t=>Object.prototype.hasOwnProperty.call(n,t))}function Vr(e){return e.replace(/[\r\n]+/g,"")}function Wr(e){return Vr(e).replace(Rr," ").trim()}function Ue(e){return Wr(e)}function Yr(e){return e.replace(/-([a-z])/g,(n,t)=>t.toUpperCase())}function ys(e){return Yr(e.replace(/^data-/,""))}function gs(e,n={columnFirst:"position-column-first",columnLast:"position-column-last",rowFirst:"position-row-first",rowLast:"position-row-last"}){const t=[...e.children],s=[];let r;t.forEach(i=>{const o=i.getBoundingClientRect().y;r!==o&&s.push([]),s[s.length-1].push(i),r=o,i.classList.remove(...Object.values(n))}),s.forEach((i,o)=>{o===0&&i.forEach(a=>a.classList.add(n.rowFirst)),o==s.length-1&&i.forEach(a=>a.classList.add(n.rowLast)),i.forEach((a,l)=>{l===0&&a.classList.add(n.columnFirst),l==i.length-1&&a.classList.add(n.columnLast)})})}function Ke(e){return typeof e=="string"?e.split(" ").filter(n=>n!==""):Array.isArray(e)?e:e?(console.warn("resolveClassArray: Invalid class input type.",e),[]):[]}class q{static defaults={type:null,baseAttribute:null};static requiredOptions=["type","baseAttribute"];static hasRequiredOptions=Te(q.requiredOptions);constructor(n){if(!q.hasRequiredOptions(n))throw new Error(`Missing a required options: ${q.requiredOptions.join(", ")}`);this.options=Object.assign({},q.defaults,n),this.logTitle=`ULU: ${this.options.type}:
`}init(n){this.setupElements(n),n.coreEvents?.length&&n.coreEvents.forEach(t=>{const s=J(t);s&&document.addEventListener(s,()=>this.setupElements(n))})}setupElements(n){const{setup:t,key:s,withData:r,context:i}=n;this.queryAllInitial(s,r,i).forEach(a=>t(a,this))}getAttribute(n){const{baseAttribute:t}=this.options;return n?`${t}-${n}`:`${t}`}attributeSelector(n){return`[${this.getAttribute(n)}]`}attributeSelectorInitial(n){return`${this.attributeSelector(n)}:not([${this.getAttribute("init")}])`}queryAllInitial(n,t,s=document){return[...s.querySelectorAll(this.attributeSelectorInitial(n))].map(i=>({element:i,data:t?this.getData(i,n):null,initialize:()=>this.initializeElement(i)}))}initializeElement(n){n.setAttribute(this.getAttribute("init"),"")}getData(n,t){const s=ys(this.getAttribute(t));return Mr(n,s)}log(...n){console.log(this.logTitle,...n)}warn(...n){console.warn(this.logTitle,...n)}logError(...n){console.error(this.logTitle,...n)}}function Wt(e,n){var t=e.indexOf(n);t>-1&&e.splice(t,1)}function Kr(e,n){return`--${e}-${n}`}const Me={debug:!1,warningsAlways:!0,errorsAlways:!0,outputContext:!1},Xr="console"in window;function en(e){return Xr&&Me.debug&&(e?.debug||e?.options?.debug||e==null)}function Gr(e){return typeof e=="object"&&e?.constructor?.name}function tn(e,n,t){const s=Gr(n)||"Logger";console[e](s,...t),Me.outputContext&&console.log(`Context:
`,n)}function bs(e){Object.assign(Me,e)}function K(e,...n){en(e)&&tn("log",e,n)}function Yt(e,...n){(Me.warningsAlways||en(e))&&tn("warn",e,n)}function U(e,...n){(Me.errorsAlways||en(e))&&tn("error",e,n)}const Jr=e=>Kr(e,"breakpoint");class le{static instances=[];static globalsInitialized=!1;static _initializeGlobals(){le.globalsInitialized||!ls()||(window.addEventListener(J("pageResized"),()=>{le.instances.forEach(n=>n.update())}),le.globalsInitialized=!0)}static defaults={element:document?.documentElement,valueFromPseudo:!1,customProperty:"--breakpoint",customProperty:se("cssvarPrefix",Jr),pseudoSelector:":before",order:["none","small","medium","large"],debug:!1};constructor(n){le._initializeGlobals(),Object.assign(this,le.defaults,n),this.active=null,this.previous=null,this.activeIndex=null,this.resizeDirection=null,this.previousIndex=null,this.breakpoints={},this.onChangeCallbacks=[],this.order.forEach(t=>this.breakpoints[t]=new Zr(t,this)),K(this,this),this.update(),le.instances.push(this)}onChange(n){this.onChangeCallbacks.push(n)}removeOnChange(n){Wt(this.onChangeCallbacks,n)}getBreakpointInPseudo(){return window.getComputedStyle(this.element,this.pseudoSelector).content.replace(/^"|"$/g,"")}getBreakpointInProperty(){return getComputedStyle(this.element).getPropertyValue(this.customProperty).trim()}getBreakpoint(){return this.valueFromPseudo?this.getBreakpointInPseudo():this.getBreakpointInProperty()}update(){const n=this.getBreakpoint();if(!n){U(this,"Unable to get current breakpoint, maybe order is incorrect? Breakpoint check skipped!");return}if(n===this.active)return;this.previous=this.active,this.previousIndex=this.activeIndex;const t=this.order.indexOf(n);this.active=n,this.activeIndex=t,this.order.forEach((s,r)=>{const i=this.breakpoints[s],o=this.activeIndex;i._setDirection("min",r<=o),i._setDirection("max",r>o),i._setDirection("only",r===o)}),this.previousIndex!==null&&(this.resizeDirection=this.previousIndex<t?"up":"down"),this.onChangeCallbacks.forEach(s=>s(this))}at(n){const t=this.breakpoints[n];return n||U(this,"Unable to find breakpoint for:",t),t}}class pt{constructor(n,t){this.direction=n,this.active=!1,this.on=[],this.off=[],this.breakpoint=t}change(n){this.active!==n&&(n?this._call(!0):this.active&&this._call(!1),this.active=n)}_call(n){(n?this.on:this.off).forEach(s=>s()),K(this.breakpoint._manager,`Handlers called (${n?"on":"off"}): ${this.direction}`)}getHandlers(n){return typeof n!="object"?{on:n}:n}add(n){const t=this.getHandlers(n);t.on&&this.on.push(t.on),t.off&&this.off.push(t.off),this.active&&t.on&&(t.on(),K(this.breakpoint._manager,`Handler called immediately: ${this.direction}`,t.on))}remove(n){const t=this.getHandlers(n);t.on&&Wt(this.on,t.on),t.off&&Wt(this.off,t.off)}}class Zr{constructor(n,t){this.directions={max:new pt("max",this),min:new pt("min",this),only:new pt("only",this)},this._manager=t,this.name=n}_setDirection(n,t){this.directions[n].change(t)}max(n){this.directions.max.add(n)}min(n){this.directions.min.add(n)}only(n){this.directions.only.add(n)}remove(n,t){(t?[t]:["max","min","only"]).forEach(r=>{this.directions[r]&&this.directions[r].remove(n)})}log(...n){n.unshift(`Breakpoint (${this.name}):`),this._manager.log.apply(this._manager,n)}}let Qr=0;function et(){return`ulu-uid-${++Qr}`}function he(e){e.id||(e.id=et())}class tt{static defaults={clickOutsideCloses:!1,focusoutCloses:!1,escapeCloses:!1,selfManaged:!1,startOpen:!1,openClass:"is-active",debug:!0,onChange(n){}};constructor(n,t){const{trigger:s,content:r}=n;if(!s||!r){U(this,"missing required elements (trigger or content)");return}const i=Object.assign({},tt.defaults,t);this.elements=n,this.options=i,this.isOpen=!1,this.handlers={},he(s),he(r),this.debugLog(this,this),i.selfManaged||this.attachHandlers(),this.setup()}attachHandlers(){const{trigger:n,content:t}=this.elements,{focusoutCloses:s}=this.options;this.clickHandler=r=>{this.onClick(r)},this.focusoutHandler=r=>{s&&document.addEventListener("focusin",()=>{t.contains(document.activeElement)||this.close(r)},{once:!0})},n.addEventListener("click",this.clickHandler),t.addEventListener("focusout",this.focusoutHandler)}removeHandlers(){const{trigger:n,content:t}=this.elements;n.removeEventListener("click",this.clickHandler),t.removeEventListener("focusout",this.focusoutHandler)}onClick(n){this.toggle(n)}destroy(){this.removeHandlers(),this.destroyTemporaryHandlers()}debugLog(...n){this.options.debug&&K(this,...n)}setup(){const{trigger:n,content:t}=this.elements,{startOpen:s}=this.options;n.setAttribute("role","button"),n.setAttribute("aria-controls",t.id),t.setAttribute("aria-labelledby",n.id),this.setState(s)}createEvent(n,t){return new CustomEvent(de("collapsible:"+n),{detail:t})}setState(n,t){const s={collapsible:this,isOpen:n,event:t};this.debugLog(this,"Set state",s);const{trigger:r,content:i}=this.elements,{openClass:o}=this.options,a=l=>l.classList[n?"add":"remove"](o);r.setAttribute("aria-expanded",n?"true":"false"),a(r),a(i),this.isOpen=n,this.options.onChange(s),r.dispatchEvent(this.createEvent("change",s)),n?this.setupTemporaryHandlers():this.destroyTemporaryHandlers()}setupTemporaryHandlers(){const{content:n,trigger:t}=this.elements,{clickOutsideCloses:s,escapeCloses:r}=this.options,i=a=>{const{target:l}=a,c=t.contains(l),p=n.contains(l);s&&!c&&!p&&this.close(a)},o=a=>{r&&a.key==="Escape"&&this.close(a)};document.addEventListener("click",i),document.addEventListener("keydown",o),this.handlers.onDocumentClick=i,this.handlers.onDocumentKeydown=o}destroyTemporaryHandlers(){const{onDocumentClick:n,onDocumentKeydown:t}=this.handlers;n&&document.removeEventListener("click",n),n&&document.removeEventListener("keydown",t)}open(n){this.setState(!0,n)}close(n){this.setState(!1,n)}toggle(n){this.setState(!this.isOpen,n)}}const nt=new q({type:"details-group",baseAttribute:"data-ulu-details-group"}),ft=nt.getAttribute("child-init"),Tr={onlyOneOpen:!0,childSelector:":scope > details"};function xs(){nt.init({withData:!0,coreEvents:["pageModified"],setup({element:e,data:n,initialize:t}){vs(e,n),t()}})}function vs(e,n){const t=Object.assign({},Tr,n);try{r()}catch(a){console.error(a)}function s(){return e.querySelectorAll(t.childSelector)}function r(){s().forEach(a=>{a.hasAttribute(ft)||(a.setAttribute(ft,""),a.addEventListener("toggle",i))})}function i({target:a}){t.onlyOneOpen&&a.open&&s().forEach(l=>{l!==a&&l.open&&(l.open=!1)})}function o(){s().forEach(a=>{a.removeEventListener("toggle",i),a.removeAttribute(ft)}),e.removeAttribute(nt.getAttribute("init"))}return{destroy:o,element:e,setupChildren:r}}const ei=[".youtube-embedded-video",'iframe[title*="YouTube video player"]','iframe[src*="youtube.com/embed"]'];function Es(e=document){ks(e).forEach(t=>{try{t.contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*")}catch(s){console.error(s)}})}function Ss(e=document){ks(e).forEach(t=>{const{src:s}=t;s&&(t.src=s.split("?")[0]+"?rel=0&enablejsapi=1")})}function ks(e){return e.querySelectorAll(ei.join(", "))}const nn="data-ulu-dialog",Se=new q({type:"dialog",baseAttribute:nn}),As=Se.getAttribute("close"),sn={nonModal:!1,documentEnd:!1,clickOutsideCloses:!0,pauseVideos:!0,preventScroll:!0,preventScrollShift:!0};let Xe={...sn};function ti(e){Xe=Object.assign({},Xe,e)}function Cs(){Se.init({coreEvents:["pageModified"],withData:!0,setup({element:e,initialize:n,data:t}){Os(e,t),n()}}),Se.init({key:"trigger",coreEvents:["pageModified"],withData:!0,setup({element:e,initialize:n,data:t}){ws(e,t),n()}})}function ws(e,n){e.addEventListener("click",t);function t(s){s.target.closest("a")&&s.preventDefault();const i=document.getElementById(n);if(!i){console.error("Could not locate dialog (id)",n);return}if(i?.tagName?.toLowerCase()!=="dialog"){console.error("Attempted to trigger non <dialog> element. Did you mean to use modal builder?");return}const o=Ls(i);i[o.nonModal?"show":"showModal"]()}}function Os(e,n){const t=Object.assign({},Xe,n),s=document.body,{preventScrollShift:r}=t;let i;if(e.addEventListener(de("resizer:start"),a),e.addEventListener(de("resizer:end"),l),e.addEventListener("click",o),t.documentEnd&&s.appendChild(e),t.pauseVideos&&ni(e),!t.nonModal&&t.preventScroll){let c;e.addEventListener("toggle",p=>{p.newState==="open"?c=jr({preventShift:r}):c&&c()})}function o(c){const{target:p}=c,u=p===e,f=p.closest(Se.attributeSelector("close"));(!i&&t.clickOutsideCloses&&u&&Ir(e,c)||f)&&(t.pauseVideos&&si(e),e.close())}function a(c){i=c.pointerId}function l(c){i===c.pointerId&&setTimeout(()=>{i=null},0)}}function Ls(e){return Object.assign({},Xe,Se.getData(e))}function ni(e){Ss(e)}function si(e){Es(e),e.querySelectorAll("video").forEach(t=>t.pause())}const Ve=new q({type:"flipcard",baseAttribute:"data-ulu-flipcard"});function _s(){Ve.init({withData:!0,coreEvents:["pageModified"],setup({element:e,data:n,initialize:t}){const s=Object.assign({},n),r=e.querySelector(Ve.attributeSelector("front")),i=e.querySelector(Ve.attributeSelector("back"));new be(e,r,i,s),t()}})}class be{static instances=[];static defaults={namespace:"Flipcard",proxyClick:{allowSelection:!0,selectionMin:10,exclude:"a, input, textarea, button"}};constructor(n,t,s,r){s||U(this,"Missing an element (container, front, back)"),this.options=Object.assign({},be.defaults,r);const{namespace:i}=this.options;be.instances.push(this),this.elements={container:n,front:t,back:s},this.isOpen=!1,this.uid=`${i}-id-${be.instances.length}`,this.stateAttr=`data-${i}-state`.toLowerCase(),this.setup(),this.setVisibility(!1),K(this,this)}toggle(){this.setVisibility(!this.isOpen)}setup(){const{uid:n}=this,{namespace:t,proxyClick:s}=this.options,{container:r,front:i,back:o}=this.elements,a=this.elements.control=document.createElement("button");a.classList.add(this.getClass("control-button")),a.setAttribute("type","button"),a.innerHTML=this.createControlContent(),a.style.gridArea=t,a.style.zIndex="-1",a.addEventListener("focusin",()=>{a.style.zIndex="20"}),a.addEventListener("focusout",()=>{a.style.zIndex="-1"}),a.addEventListener("click",this.toggle.bind(this)),o.parentNode.insertBefore(a,o),r.classList.add(this.options.namespace),r.setAttribute("style",Ue(this.containerCss())),s&&r.addEventListener("click",this.onProxyClick.bind(this)),i.style.gridArea=t,o.style.gridArea=t,a.id=`${n}-control`,a.setAttribute("aria-controls",o.id),a.setAttribute("aria-expanded","false"),o.id=`${n}-back`,o.setAttribute("aria-labelledby",a.id),o.setAttribute("aria-hidden","true")}onProxyClick({target:n}){const{exclude:t,allowSelection:s,selectionMin:r}=this.options.proxyClick,i=window.getSelection();t&&!n.matches(t)&&(!s||i.toString().length<r)&&this.toggle()}getClass(n){const{namespace:t}=this.options;return n?`${t}__${n}`:t}createControlContent(){return`
      <span class="hidden-visually">Show More Information</span>
    `}setVisibility(n){const{back:t,container:s,control:r}=this.elements,i=n?"open":"closed";t.style.zIndex=n?"10":"1",t.style.visibility=n?"visible":"hidden",s.setAttribute(this.stateAttr,i),t.setAttribute("aria-hidden",n?"false":"true"),r.setAttribute("aria-expanded",n?"true":"false"),this.isOpen=n}containerCss(){return`
      display: -ms-grid;
      display: grid;
      position: relative; 
      -ms-grid-columns: 1fr; 
      grid-template-columns: 1fr;
      justify-items: stretch;
      grid-template-areas: "${this.options.namespace}";
      cursor: pointer;
    `}panelCss(n=1){return`
      grid-area: ${this.options.namespace};
      z-index: ${n}
    `}}const Ps=new q({type:"grid",baseAttribute:"data-grid"});function Rs(e){Ps.init({coreEvents:["pageModified","pageResized"],setup({element:n,initialize:t}){gs(n,e),t()}})}class st{static defaults={debug:!1,multiplier:1,overrideMaxDimensions:!1,fromX:null,fromY:null,keyboardStep:10,keyboardDebounceTime:200,manageEvents:!0,manageAriaLabel:!1,enablePointerResizing:!0,enableKeyboardResizing:!0};#s;#r;#t;#e;#i;#o;#n;#a;#l;constructor(n,t,s){if(!t||!n){U(this,"Missing required elements: control, container");return}const r=Object.assign({},st.defaults,s);this.options=r,this.container=n,this.control=t,this.debug=r.debug;const i=["left","right"],o=["top","bottom"],{fromX:a,fromY:l}=r;if(!i.includes(a)&&a!==null){U(this,`Invalid fromX: ${a} (left|right|null)`);return}if(!o.includes(l)&&l!==null){U(this,`Invalid fromY: ${l} (top|bottom|null)`);return}if(!a&&!l){U(this,"Invalid fromX/fromY, failed to setup resizer (at least one of fromX or fromY must be set)");return}this.resizeHorizontal=r.fromX!==null,this.resizeVertical=r.fromY!==null,r.manageEvents&&(this.#s=this.onPointerdown.bind(this),this.#r=this.onKeydown.bind(this),r.enablePointerResizing&&t.addEventListener("pointerdown",this.#s),r.enableKeyboardResizing&&t.addEventListener("keydown",this.#r)),this.#c(),r.manageAriaLabel&&t.setAttribute("aria-label",this.getAriaLabel())}#c(){this.#t=null,this.#e={width:0,height:0},this.#i=0,this.#o=0,this.#n=!1,this.#a=0,this.#l=0}destroy(){const{control:n,options:t}=this;t.manageEvents&&(t.enablePointerResizing&&n.removeEventListener("pointerdown",this.#s),t.enableKeyboardResizing&&n.removeEventListener("keydown",this.#r)),this.#t&&clearTimeout(this.#t),this.#c(),t.manageAriaLabel&&n.removeAttribute("aria-label"),K(this,"Resizer destroyed.")}#u(n){const{container:t,options:s}=this;if(this.#n){s.overrideMaxDimensions&&(this.resizeHorizontal&&(t.style.maxWidth="none"),this.resizeVertical&&(t.style.maxHeight="none"));return}const i=document.defaultView.getComputedStyle(t);this.#e.width=parseInt(i.width,10),this.#e.height=parseInt(i.height,10),s.overrideMaxDimensions&&(this.resizeHorizontal&&(t.style.maxWidth="none"),this.resizeVertical&&(t.style.maxHeight="none")),this.#n=!0,this.dispatchEvent("resizer:start",n),K(this,"Resize started.",{initialWidth:this.#e.width,initialHeight:this.#e.height,...n})}#p(){this.#n&&(this.dispatchEvent("resizer:end"),this.#c(),K(this,"Resize ended."))}#f(n,t,s){let r=this.#e.width,i=this.#e.height;const{fromX:o,fromY:a,multiplier:l}=this.options;this.resizeHorizontal&&(o==="right"?r=this.#e.width+n*l:o==="left"&&(r=this.#e.width-n*l),this.container.style.width=`${Math.max(0,r)}px`),this.resizeVertical&&(a==="bottom"?i=this.#e.height+t*l:a==="top"&&(i=this.#e.height-t*l),this.container.style.height=`${Math.max(0,i)}px`);const c={newWidth:r,newHeight:i,totalDeltaX:n,totalDeltaY:t,event:s};this.dispatchEvent("resizer:update",c),K(this,"Resizing update.",c)}onPointerdown(n){if(!this.options.enablePointerResizing){K(this,"Pointer resizing disabled. Ignoring pointerdown event.");return}n.preventDefault();const t=document.documentElement;this.#a=n.clientX,this.#l=n.clientY,this.#u({inputType:"pointer",startX:n.clientX,startY:n.clientY,pointerId:n.pointerId}),this.control.setPointerCapture(n.pointerId);const s=i=>{const o=i.clientX-this.#a,a=i.clientY-this.#l;this.#f(o,a,i)},r=i=>{t.removeEventListener("pointermove",s,!1),t.removeEventListener("pointerup",r,{capture:!0,once:!0}),this.control.hasPointerCapture(i.pointerId)&&this.control.releasePointerCapture(i.pointerId),this.#p()};t.addEventListener("pointermove",s,!1),t.addEventListener("pointerup",r,{capture:!0,once:!0})}onKeydown(n){if(!this.options.enableKeyboardResizing){K(this,"Keyboard resizing disabled. Ignoring keydown event.");return}const{key:t}=n,{keyboardStep:s,keyboardDebounceTime:r}=this.options;let i=0,o=0,a=!1;this.resizeHorizontal&&(t==="ArrowLeft"?(i=-s,a=!0):t==="ArrowRight"&&(i=s,a=!0)),this.resizeVertical&&(t==="ArrowUp"?(o=-s,a=!0):t==="ArrowDown"&&(o=s,a=!0)),a&&(n.preventDefault(),n.stopPropagation(),(!this.#n||this.#t===null)&&this.#u({inputType:"keyboard",keyboardKey:t}),this.#i+=i,this.#o+=o,this.#f(this.#i,this.#o,n),this.#t&&clearTimeout(this.#t),this.#t=setTimeout(()=>{this.#p(),this.#t=null},r))}getAriaLabel(){const{fromY:n,fromX:t}=this.options,s=[n,t].filter(r=>r);return s.length===0?"Resize control":`Resize from ${s.join(" ")} edge`}dispatchEvent(n,t={}){this.container.dispatchEvent(ge(n,t))}}const pe=new q({type:"modal-builder",baseAttribute:"data-ulu-modal-builder"}),$s={title:null,titleIcon:null,titleClass:"",labelledby:null,describedby:null,nonModal:!1,documentEnd:!0,allowResize:!1,position:"center",bodyFills:!1,noBackdrop:!1,size:"default",print:!1,noMinHeight:!1,class:"",baseClass:"modal",footerElement:null,footerHtml:null,classClose:"button button--icon",classCloseIcon:se("iconClassClose",e=>`${e} button__icon`),classResizerIcon:se("iconClassDragX"),classResizerIconBoth:se("iconClassDragBoth"),debug:!1,templateCloseIcon(e){const{baseClass:n,classCloseIcon:t}=e;return`<span class="${n}__close-icon ${t}" aria-hidden="true"></span>`},templateResizerIcon(e){const{baseClass:n,classResizerIcon:t,classResizerIconBoth:s}=e,r=e.position==="center"?s:t;return`<span class="${n}__resizer-icon ${r}" aria-hidden="true"></span>`},template(e,n){const{baseClass:t,describedby:s,footerHtml:r}=n,i=[t,`${t}--${n.position}`,`${t}--${n.size}`,`${t}--${n.allowResize?"resize":"no-resize"}`,...n.title?[]:[`${t}--no-header`],...n.bodyFills?[`${t}--body-fills`]:[],...n.noBackdrop?[`${t}--no-backdrop`]:[],...n.noMinHeight?[`${t}--no-min-height`]:[],...n.class?[n.class]:[]],o=n.title?`${e}--title`:n.labelledby;return`
      <dialog 
        id="${e}" 
        class="${i.join(" ")}" 
        ${o?`aria-labelledby="${o}"`:""}
        ${s?`aria-describedby="${s}"`:""}
      >
        ${n.title?`
          <header class="${t}__header">
            <h2 id="${o}" class="${t}__title ${n.titleClass}">
              ${n.titleIcon?`<span class="${t}__title-icon ${n.titleIcon}" aria-hidden="true"></span>`:""}
              <span class="${t}__title-text">${n.title}</span>
            </h2>
            <button class="${t}__close ${n.classClose}" aria-label="Close modal" ${As} autofocus>
              ${n.templateCloseIcon(n)}
            </button>
          </header>
        `:""}
        <div class="${t}__body" ${pe.getAttribute("body")}></div>
        ${r?`<div class="${t}__footer">${r}</div>`:""}
        ${n.allowResize?`<button class="${t}__resizer" type="button" ${pe.getAttribute("resizer")}>
            ${n.templateResizerIcon(n)}
          </button>`:""}
      </dialog>
    `}};let Kt={...$s};function ri(e){Kt=Object.assign({},Kt,e)}function Ns(){pe.init({withData:!0,coreEvents:["pageModified"],setup({element:e,data:n}){rn(e,n)}})}function rn(e,n){const t=Object.assign({},Kt,n),{position:s}=t;if(t.debug&&pe.log(t,e),!e.id)throw new Error("Missing ID on modal");const r=t.template(e.id,t),i=cs(r.trim()),o=h=>i.querySelector(pe.attributeSelector(h)),a=o("body"),l=o("resizer"),c=ii(t);if(e.removeAttribute("id"),e.removeAttribute("hidden"),e.removeAttribute(pe.getAttribute()),e.parentNode.replaceChild(i,e),a.appendChild(e),i.setAttribute(nn,JSON.stringify(c)),t.footerElement){const h=ve(t.footerElement);h&&(h.classList.add(`${t.baseClass}__footer`),a.after(h))}let p;const u=["left","right","center"],f=s==="center",d=s==="right";if(t.allowResize)if(u.includes(s)){const h=f?{fromX:"right",fromY:"bottom",multiplier:2}:{fromX:d?"left":"right"};p=new st(i,l,h)}else console.warn(`${s} is not supported for resizing`);if(t.print){let h;document.addEventListener(J("beforePrint"),()=>{h=e.cloneNode(!0),i.after(h)}),document.addEventListener(J("afterPrint"),()=>{h.remove()})}return{modal:i,resizer:p}}function ii(e){return Object.keys(sn).reduce((n,t)=>(t in e&&(n[t]=e[t]),n),{})}class on{static defaults={triggerSelector:"[data-ulu-programmatic-modal-trigger]",triggerInitAttr:"data-ulu-programmatic-modal-init"};constructor(n){const t=Object.assign({},on.defaults,n);this.options=t,this.triggers=null,this.cachedTrigger=null,this.triggerListener,this.onTriggerClick=s=>{const r=s.target.closest(t.triggerSelector);r&&(this.cachedTrigger=r)},this.onPageModified=()=>{this.setupTriggers()},document.addEventListener(J("pageModified"),this.onPageModified),this.setupTriggers()}setupTriggers(){const{triggerSelector:n,triggerInitAttr:t}=this.options;document.querySelectorAll(`${n}:not([${t}])`).forEach(r=>{r.addEventListener("click",this.onTriggerClick)})}destroy(){const{triggerSelector:n}=this.options;document.querySelectorAll(n).forEach(s=>{s.removeEventListener("click",this.onTriggerClick)})}createAndOpen(n,t){const{noClickTrigger:s,removeOnClose:r,element:i,classes:o}=n,a=ve(i);a.id||(a.id=et()),o&&a.classList.add(...o);let l;if(s||(l=this.cachedTrigger,this.cachedTrigger=null),!a){console.error("No element found from config.element. ",n);return}const{modal:c}=rn(a,n.modal),p={trigger:l,modal:c,config:n};t&&t(p);const u=()=>{r&&c.remove(),l&&l.focus()};return c.addEventListener("close",u,{once:!0}),!r&&l&&l.addEventListener("click",f=>{f.preventDefault(),c.showModal()}),Ee("pageModified",c),c.showModal(),p}}const oi=["track","controls"];class rt{static instances=[];static defaults={namespace:"OverflowScroller",events:{},horizontal:!0,offsetStart:100,offsetEnd:100,amount:"auto",buttonClasses:["button","button--icon"],iconClassPrevious:se("iconClassPrevious"),iconClassNext:se("iconClassNext")};constructor(n,t){this.options=Object.assign({},rt.defaults,t),Te(oi)||U(this,"Missing a required Element"),this.elements={...n,...this.createControls(n.controls)},this.nextEnabled=!0,this.previousEnabled=!0,this.scrollHandler=s=>this.onScroll(s),this.elements.track.addEventListener("scroll",this.scrollHandler,{passive:!0}),this.checkOverflow(),this.onScroll()}checkOverflow(){const{track:n}=this.elements;this.hasOverflow=n.scrollWidth>n.clientWidth}createControls(n){const t=document.createElement("ul"),s=document.createElement("li"),r=document.createElement("li"),i=this.createControlButton("previous"),o=this.createControlButton("next"),a=this.getClass("controls-item");return r.classList.add(a),r.classList.add(a+"--next"),s.classList.add(a),s.classList.add(a+"--previous"),t.classList.add(this.getClass("controls")),s.appendChild(i),r.appendChild(o),t.appendChild(s),t.appendChild(r),i.addEventListener("click",this.previous.bind(this)),o.addEventListener("click",this.next.bind(this)),n.appendChild(t),{controls:t,previousItem:s,nextItem:r,previous:i,next:o}}createControlButton(n){const t=document.createElement("button");return t.classList.add(this.getClass("control-button")),t.classList.add(this.getClass(`control-button--${n}`)),t.classList.add(...this.options.buttonClasses),t.setAttribute("type","button"),t.innerHTML=this.getControlContent(n),t}getControlContent(n){const t=this.options[n==="next"?"iconClassNext":"iconClassPrevious"];return`
      <span class="hidden-visually">${n}</span>
      <span class="${t}" aria-hidden="true"></span>
    `}onScroll(n){this.hasOverflow&&this.onScrollHorizontal()}onScrollHorizontal(){const{nextEnabled:n,previousEnabled:t}=this,{track:s}=this.elements,{offsetStart:r,offsetEnd:i}=this.options,{scrollWidth:o,clientWidth:a,scrollLeft:l}=s,c=l<=r,p=o-l-i<=a;c&&t?this.setControlState("previous",!1):!c&&!t&&this.setControlState("previous",!0),p&&n?this.setControlState("next",!1):!p&&!n&&this.setControlState("next",!0)}setControlState(n,t){const s=n==="next",{next:r,nextItem:i,previous:o,previousItem:a}=this.elements,l=s?i:a,c=s?r:o,p=t?"remove":"add";l.classList[p](this.getClass("controls-item--disabled")),c.classList[t?"remove":"add"](this.getClass("control--disabled")),t?c.removeAttribute("disabled"):c.setAttribute("disabled",""),this[s?"nextEnabled":"previousEnabled"]=t}resolveAmount(n){const t=n==="next",{amount:s}=this.options,{scrollLeft:r,offsetWidth:i}=this.elements.track;return s==="auto"?t?r+i:r-i:typeof s=="function"?s(this,n):typeof s=="number"?t?r+s:r-s:(U("Unable to resolve amount for scroll"),500)}next(){this.elements.track.scrollTo({top:0,left:this.resolveAmount("next"),behavior:"smooth"})}previous(){this.elements.track.scrollTo({top:0,left:this.resolveAmount("previous"),behavior:"smooth"})}getClass(n){const{namespace:t}=this.options;return`${t}__${n}`}}function Ds(){return function(n,t){const s=t==="next",{track:r}=n.elements;if(!r.children)return 400;const o=window.getComputedStyle(r).getPropertyValue("scroll-padding-left").replace("auto","0px"),a=parseInt(o,10),{scrollLeft:l,offsetWidth:c}=r,p=l+c,u=[...r.children].map(d=>{const{offsetLeft:h,offsetWidth:m}=d;return{element:d,offsetLeft:h,offsetRight:h+m}});let f;if(s)f=u.find(d=>d.offsetRight>=p);else{let d=u.findLastIndex(h=>h.offsetLeft<=l);if(d){let h=u[d];f=u.slice(0,d+1).find(b=>b.offsetLeft+a+c>=h.offsetRight)}}return f?s?f.offsetLeft:f.offsetLeft+a:400}}function Ms(){zr()}const re=Math.min,T=Math.max,Ge=Math.round,qe=Math.floor,ce=e=>({x:e,y:e}),ai={left:"right",right:"left",bottom:"top",top:"bottom"},li={start:"end",end:"start"};function Xt(e,n,t){return T(e,re(n,t))}function we(e,n){return typeof e=="function"?e(n):e}function ie(e){return e.split("-")[0]}function Ie(e){return e.split("-")[1]}function Is(e){return e==="x"?"y":"x"}function an(e){return e==="y"?"height":"width"}function ze(e){return["top","bottom"].includes(ie(e))?"y":"x"}function ln(e){return Is(ze(e))}function ci(e,n,t){t===void 0&&(t=!1);const s=Ie(e),r=ln(e),i=an(r);let o=r==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return n.reference[i]>n.floating[i]&&(o=Je(o)),[o,Je(o)]}function ui(e){const n=Je(e);return[Gt(e),n,Gt(n)]}function Gt(e){return e.replace(/start|end/g,n=>li[n])}function pi(e,n,t){const s=["left","right"],r=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return t?n?r:s:n?s:r;case"left":case"right":return n?i:o;default:return[]}}function fi(e,n,t,s){const r=Ie(e);let i=pi(ie(e),t==="start",s);return r&&(i=i.map(o=>o+"-"+r),n&&(i=i.concat(i.map(Gt)))),i}function Je(e){return e.replace(/left|right|bottom|top/g,n=>ai[n])}function di(e){return{top:0,right:0,bottom:0,left:0,...e}}function cn(e){return typeof e!="number"?di(e):{top:e,right:e,bottom:e,left:e}}function ke(e){const{x:n,y:t,width:s,height:r}=e;return{width:s,height:r,top:t,left:n,right:n+s,bottom:t+r,x:n,y:t}}function vn(e,n,t){let{reference:s,floating:r}=e;const i=ze(n),o=ln(n),a=an(o),l=ie(n),c=i==="y",p=s.x+s.width/2-r.width/2,u=s.y+s.height/2-r.height/2,f=s[a]/2-r[a]/2;let d;switch(l){case"top":d={x:p,y:s.y-r.height};break;case"bottom":d={x:p,y:s.y+s.height};break;case"right":d={x:s.x+s.width,y:u};break;case"left":d={x:s.x-r.width,y:u};break;default:d={x:s.x,y:s.y}}switch(Ie(n)){case"start":d[o]-=f*(t&&c?-1:1);break;case"end":d[o]+=f*(t&&c?-1:1);break}return d}const hi=async(e,n,t)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:o}=t,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(n));let c=await o.getElementRects({reference:e,floating:n,strategy:r}),{x:p,y:u}=vn(c,s,l),f=s,d={},h=0;for(let m=0;m<a.length;m++){const{name:b,fn:x}=a[m],{x:w,y:A,data:_,reset:C}=await x({x:p,y:u,initialPlacement:s,placement:f,strategy:r,middlewareData:d,rects:c,platform:o,elements:{reference:e,floating:n}});p=w??p,u=A??u,d={...d,[b]:{...d[b],..._}},C&&h<=50&&(h++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:e,floating:n,strategy:r}):C.rects),{x:p,y:u}=vn(c,f,l)),m=-1)}return{x:p,y:u,placement:f,strategy:r,middlewareData:d}};async function zs(e,n){var t;n===void 0&&(n={});const{x:s,y:r,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:p="viewport",elementContext:u="floating",altBoundary:f=!1,padding:d=0}=we(n,e),h=cn(d),b=a[f?u==="floating"?"reference":"floating":u],x=ke(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(b)))==null||t?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:p,strategy:l})),w=u==="floating"?{x:s,y:r,width:o.floating.width,height:o.floating.height}:o.reference,A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),_=await(i.isElement==null?void 0:i.isElement(A))?await(i.getScale==null?void 0:i.getScale(A))||{x:1,y:1}:{x:1,y:1},C=ke(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:A,strategy:l}):w);return{top:(x.top-C.top+h.top)/_.y,bottom:(C.bottom-x.bottom+h.bottom)/_.y,left:(x.left-C.left+h.left)/_.x,right:(C.right-x.right+h.right)/_.x}}const mi=e=>({name:"arrow",options:e,async fn(n){const{x:t,y:s,placement:r,rects:i,platform:o,elements:a,middlewareData:l}=n,{element:c,padding:p=0}=we(e,n)||{};if(c==null)return{};const u=cn(p),f={x:t,y:s},d=ln(r),h=an(d),m=await o.getDimensions(c),b=d==="y",x=b?"top":"left",w=b?"bottom":"right",A=b?"clientHeight":"clientWidth",_=i.reference[h]+i.reference[d]-f[d]-i.floating[h],C=f[d]-i.reference[d],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let R=L?L[A]:0;(!R||!await(o.isElement==null?void 0:o.isElement(L)))&&(R=a.floating[A]||i.floating[h]);const N=_/2-C/2,j=R/2-m[h]/2-1,$=re(u[x],j),V=re(u[w],j),D=$,W=R-m[h]-V,M=R/2-m[h]/2+N,I=Xt(D,M,W),z=!l.arrow&&Ie(r)!=null&&M!==I&&i.reference[h]/2-(M<D?$:V)-m[h]/2<0,F=z?M<D?M-D:M-W:0;return{[d]:f[d]+F,data:{[d]:I,centerOffset:M-I-F,...z&&{alignmentOffset:F}},reset:z}}});const yi=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var t,s;const{placement:r,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=n,{mainAxis:p=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...b}=we(e,n);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const x=ie(r),w=ie(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),_=f||(w||!m?[Je(a)]:ui(a));!f&&h!=="none"&&_.push(...fi(a,m,h,A));const C=[a,..._],L=await zs(n,b),R=[];let N=((s=i.flip)==null?void 0:s.overflows)||[];if(p&&R.push(L[x]),u){const D=ci(r,o,A);R.push(L[D[0]],L[D[1]])}if(N=[...N,{placement:r,overflows:R}],!R.every(D=>D<=0)){var j,$;const D=(((j=i.flip)==null?void 0:j.index)||0)+1,W=C[D];if(W)return{data:{index:D,overflows:N},reset:{placement:W}};let M=($=N.filter(I=>I.overflows[0]<=0).sort((I,z)=>I.overflows[1]-z.overflows[1])[0])==null?void 0:$.placement;if(!M)switch(d){case"bestFit":{var V;const I=(V=N.map(z=>[z.placement,z.overflows.filter(F=>F>0).reduce((F,Y)=>F+Y,0)]).sort((z,F)=>z[1]-F[1])[0])==null?void 0:V[0];I&&(M=I);break}case"initialPlacement":M=a;break}if(r!==M)return{reset:{placement:M}}}return{}}}};function js(e){const n=re(...e.map(i=>i.left)),t=re(...e.map(i=>i.top)),s=T(...e.map(i=>i.right)),r=T(...e.map(i=>i.bottom));return{x:n,y:t,width:s-n,height:r-t}}function gi(e){const n=e.slice().sort((r,i)=>r.y-i.y),t=[];let s=null;for(let r=0;r<n.length;r++){const i=n[r];!s||i.y-s.y>s.height/2?t.push([i]):t[t.length-1].push(i),s=i}return t.map(r=>ke(js(r)))}const bi=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(n){const{placement:t,elements:s,rects:r,platform:i,strategy:o}=n,{padding:a=2,x:l,y:c}=we(e,n),p=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(s.reference))||[]),u=gi(p),f=ke(js(p)),d=cn(a);function h(){if(u.length===2&&u[0].left>u[1].right&&l!=null&&c!=null)return u.find(b=>l>b.left-d.left&&l<b.right+d.right&&c>b.top-d.top&&c<b.bottom+d.bottom)||f;if(u.length>=2){if(ze(t)==="y"){const $=u[0],V=u[u.length-1],D=ie(t)==="top",W=$.top,M=V.bottom,I=D?$.left:V.left,z=D?$.right:V.right,F=z-I,Y=M-W;return{top:W,bottom:M,left:I,right:z,width:F,height:Y,x:I,y:W}}const b=ie(t)==="left",x=T(...u.map($=>$.right)),w=re(...u.map($=>$.left)),A=u.filter($=>b?$.left===w:$.right===x),_=A[0].top,C=A[A.length-1].bottom,L=w,R=x,N=R-L,j=C-_;return{top:_,bottom:C,left:L,right:R,width:N,height:j,x:L,y:_}}return f}const m=await i.getElementRects({reference:{getBoundingClientRect:h},floating:s.floating,strategy:o});return r.reference.x!==m.reference.x||r.reference.y!==m.reference.y||r.reference.width!==m.reference.width||r.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};async function xi(e,n){const{placement:t,platform:s,elements:r}=e,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),o=ie(t),a=Ie(t),l=ze(t)==="y",c=["left","top"].includes(o)?-1:1,p=i&&l?-1:1,u=we(n,e);let{mainAxis:f,crossAxis:d,alignmentAxis:h}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return a&&typeof h=="number"&&(d=a==="end"?h*-1:h),l?{x:d*p,y:f*c}:{x:f*c,y:d*p}}const vi=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var t,s;const{x:r,y:i,placement:o,middlewareData:a}=n,l=await xi(n,e);return o===((t=a.offset)==null?void 0:t.placement)&&(s=a.arrow)!=null&&s.alignmentOffset?{}:{x:r+l.x,y:i+l.y,data:{...l,placement:o}}}}},Ei=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:t,y:s,placement:r}=n,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x,y:w}=b;return{x,y:w}}},...l}=we(e,n),c={x:t,y:s},p=await zs(n,l),u=ze(ie(r)),f=Is(u);let d=c[f],h=c[u];if(i){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=d+p[b],A=d-p[x];d=Xt(w,d,A)}if(o){const b=u==="y"?"top":"left",x=u==="y"?"bottom":"right",w=h+p[b],A=h-p[x];h=Xt(w,h,A)}const m=a.fn({...n,[f]:d,[u]:h});return{...m,data:{x:m.x-t,y:m.y-s}}}}};function Oe(e){return Fs(e)?(e.nodeName||"").toLowerCase():"#document"}function G(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function ae(e){var n;return(n=(Fs(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function Fs(e){return e instanceof Node||e instanceof G(e).Node}function ee(e){return e instanceof Element||e instanceof G(e).Element}function te(e){return e instanceof HTMLElement||e instanceof G(e).HTMLElement}function En(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof G(e).ShadowRoot}function je(e){const{overflow:n,overflowX:t,overflowY:s,display:r}=Q(e);return/auto|scroll|overlay|hidden|clip/.test(n+s+t)&&!["inline","contents"].includes(r)}function Si(e){return["table","td","th"].includes(Oe(e))}function un(e){const n=pn(),t=Q(e);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(t.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(t.contain||"").includes(s))}function ki(e){let n=ue(e);for(;te(n)&&!Ae(n);){if(un(n))return n;n=ue(n)}return null}function pn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ae(e){return["html","body","#document"].includes(Oe(e))}function Q(e){return G(e).getComputedStyle(e)}function it(e){return ee(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ue(e){if(Oe(e)==="html")return e;const n=e.assignedSlot||e.parentNode||En(e)&&e.host||ae(e);return En(n)?n.host:n}function Hs(e){const n=ue(e);return Ae(n)?e.ownerDocument?e.ownerDocument.body:e.body:te(n)&&je(n)?n:Hs(n)}function Ne(e,n,t){var s;n===void 0&&(n=[]),t===void 0&&(t=!0);const r=Hs(e),i=r===((s=e.ownerDocument)==null?void 0:s.body),o=G(r);return i?n.concat(o,o.visualViewport||[],je(r)?r:[],o.frameElement&&t?Ne(o.frameElement):[]):n.concat(r,Ne(r,[],t))}function qs(e){const n=Q(e);let t=parseFloat(n.width)||0,s=parseFloat(n.height)||0;const r=te(e),i=r?e.offsetWidth:t,o=r?e.offsetHeight:s,a=Ge(t)!==i||Ge(s)!==o;return a&&(t=i,s=o),{width:t,height:s,$:a}}function fn(e){return ee(e)?e:e.contextElement}function xe(e){const n=fn(e);if(!te(n))return ce(1);const t=n.getBoundingClientRect(),{width:s,height:r,$:i}=qs(n);let o=(i?Ge(t.width):t.width)/s,a=(i?Ge(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Ai=ce(0);function Bs(e){const n=G(e);return!pn()||!n.visualViewport?Ai:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function Ci(e,n,t){return n===void 0&&(n=!1),!t||n&&t!==G(e)?!1:n}function me(e,n,t,s){n===void 0&&(n=!1),t===void 0&&(t=!1);const r=e.getBoundingClientRect(),i=fn(e);let o=ce(1);n&&(s?ee(s)&&(o=xe(s)):o=xe(e));const a=Ci(i,t,s)?Bs(i):ce(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,p=r.width/o.x,u=r.height/o.y;if(i){const f=G(i),d=s&&ee(s)?G(s):s;let h=f,m=h.frameElement;for(;m&&s&&d!==h;){const b=xe(m),x=m.getBoundingClientRect(),w=Q(m),A=x.left+(m.clientLeft+parseFloat(w.paddingLeft))*b.x,_=x.top+(m.clientTop+parseFloat(w.paddingTop))*b.y;l*=b.x,c*=b.y,p*=b.x,u*=b.y,l+=A,c+=_,h=G(m),m=h.frameElement}}return ke({width:p,height:u,x:l,y:c})}const wi=[":popover-open",":modal"];function dn(e){return wi.some(n=>{try{return e.matches(n)}catch{return!1}})}function Oi(e){let{elements:n,rect:t,offsetParent:s,strategy:r}=e;const i=r==="fixed",o=ae(s),a=n?dn(n.floating):!1;if(s===o||a&&i)return t;let l={scrollLeft:0,scrollTop:0},c=ce(1);const p=ce(0),u=te(s);if((u||!u&&!i)&&((Oe(s)!=="body"||je(o))&&(l=it(s)),te(s))){const f=me(s);c=xe(s),p.x=f.x+s.clientLeft,p.y=f.y+s.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+p.x,y:t.y*c.y-l.scrollTop*c.y+p.y}}function Li(e){return Array.from(e.getClientRects())}function Us(e){return me(ae(e)).left+it(e).scrollLeft}function _i(e){const n=ae(e),t=it(e),s=e.ownerDocument.body,r=T(n.scrollWidth,n.clientWidth,s.scrollWidth,s.clientWidth),i=T(n.scrollHeight,n.clientHeight,s.scrollHeight,s.clientHeight);let o=-t.scrollLeft+Us(e);const a=-t.scrollTop;return Q(s).direction==="rtl"&&(o+=T(n.clientWidth,s.clientWidth)-r),{width:r,height:i,x:o,y:a}}function Pi(e,n){const t=G(e),s=ae(e),r=t.visualViewport;let i=s.clientWidth,o=s.clientHeight,a=0,l=0;if(r){i=r.width,o=r.height;const c=pn();(!c||c&&n==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:i,height:o,x:a,y:l}}function Ri(e,n){const t=me(e,!0,n==="fixed"),s=t.top+e.clientTop,r=t.left+e.clientLeft,i=te(e)?xe(e):ce(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,l=r*i.x,c=s*i.y;return{width:o,height:a,x:l,y:c}}function Sn(e,n,t){let s;if(n==="viewport")s=Pi(e,t);else if(n==="document")s=_i(ae(e));else if(ee(n))s=Ri(n,t);else{const r=Bs(e);s={...n,x:n.x-r.x,y:n.y-r.y}}return ke(s)}function Vs(e,n){const t=ue(e);return t===n||!ee(t)||Ae(t)?!1:Q(t).position==="fixed"||Vs(t,n)}function $i(e,n){const t=n.get(e);if(t)return t;let s=Ne(e,[],!1).filter(a=>ee(a)&&Oe(a)!=="body"),r=null;const i=Q(e).position==="fixed";let o=i?ue(e):e;for(;ee(o)&&!Ae(o);){const a=Q(o),l=un(o);!l&&a.position==="fixed"&&(r=null),(i?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||je(o)&&!l&&Vs(e,o))?s=s.filter(p=>p!==o):r=a,o=ue(o)}return n.set(e,s),s}function Ni(e){let{element:n,boundary:t,rootBoundary:s,strategy:r}=e;const o=[...t==="clippingAncestors"?dn(n)?[]:$i(n,this._c):[].concat(t),s],a=o[0],l=o.reduce((c,p)=>{const u=Sn(n,p,r);return c.top=T(u.top,c.top),c.right=re(u.right,c.right),c.bottom=re(u.bottom,c.bottom),c.left=T(u.left,c.left),c},Sn(n,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Di(e){const{width:n,height:t}=qs(e);return{width:n,height:t}}function Mi(e,n,t){const s=te(n),r=ae(n),i=t==="fixed",o=me(e,!0,i,n);let a={scrollLeft:0,scrollTop:0};const l=ce(0);if(s||!s&&!i)if((Oe(n)!=="body"||je(r))&&(a=it(n)),s){const u=me(n,!0,i,n);l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}else r&&(l.x=Us(r));const c=o.left+a.scrollLeft-l.x,p=o.top+a.scrollTop-l.y;return{x:c,y:p,width:o.width,height:o.height}}function dt(e){return Q(e).position==="static"}function kn(e,n){return!te(e)||Q(e).position==="fixed"?null:n?n(e):e.offsetParent}function Ws(e,n){const t=G(e);if(dn(e))return t;if(!te(e)){let r=ue(e);for(;r&&!Ae(r);){if(ee(r)&&!dt(r))return r;r=ue(r)}return t}let s=kn(e,n);for(;s&&Si(s)&&dt(s);)s=kn(s,n);return s&&Ae(s)&&dt(s)&&!un(s)?t:s||ki(e)||t}const Ii=async function(e){const n=this.getOffsetParent||Ws,t=this.getDimensions,s=await t(e.floating);return{reference:Mi(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function zi(e){return Q(e).direction==="rtl"}const ji={convertOffsetParentRelativeRectToViewportRelativeRect:Oi,getDocumentElement:ae,getClippingRect:Ni,getOffsetParent:Ws,getElementRects:Ii,getClientRects:Li,getDimensions:Di,getScale:xe,isElement:ee,isRTL:zi};function Fi(e,n){let t=null,s;const r=ae(e);function i(){var a;clearTimeout(s),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:p,width:u,height:f}=e.getBoundingClientRect();if(a||n(),!u||!f)return;const d=qe(p),h=qe(r.clientWidth-(c+u)),m=qe(r.clientHeight-(p+f)),b=qe(c),w={rootMargin:-d+"px "+-h+"px "+-m+"px "+-b+"px",threshold:T(0,re(1,l))||1};let A=!0;function _(C){const L=C[0].intersectionRatio;if(L!==l){if(!A)return o();L?o(!1,L):s=setTimeout(()=>{o(!1,1e-7)},1e3)}A=!1}try{t=new IntersectionObserver(_,{...w,root:r.ownerDocument})}catch{t=new IntersectionObserver(_,w)}t.observe(e)}return o(!0),i}function Hi(e,n,t,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=s,c=fn(e),p=r||i?[...c?Ne(c):[],...Ne(n)]:[];p.forEach(x=>{r&&x.addEventListener("scroll",t,{passive:!0}),i&&x.addEventListener("resize",t)});const u=c&&a?Fi(c,t):null;let f=-1,d=null;o&&(d=new ResizeObserver(x=>{let[w]=x;w&&w.target===c&&d&&(d.unobserve(n),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var A;(A=d)==null||A.observe(n)})),t()}),c&&!l&&d.observe(c),d.observe(n));let h,m=l?me(e):null;l&&b();function b(){const x=me(e);m&&(x.x!==m.x||x.y!==m.y||x.width!==m.width||x.height!==m.height)&&t(),m=x,h=requestAnimationFrame(b)}return t(),()=>{var x;p.forEach(w=>{r&&w.removeEventListener("scroll",t),i&&w.removeEventListener("resize",t)}),u?.(),(x=d)==null||x.disconnect(),d=null,l&&cancelAnimationFrame(h)}}const qi=vi;const Bi=Ei,Ui=yi;const Vi=mi,Wi=bi;const Yi=(e,n,t)=>{const s=new Map,r={platform:ji,...t},i={...r.platform,_c:s};return hi(e,n,{...r,platform:i})},Ys={strategy:"absolute",placement:"bottom",inline:!1,offset:{mainAxis:16},shift:!0,flip:!0,arrow:!0};function hn(e,n){const t=Object.assign({},Ys,n),{placement:s,strategy:r}=t,{trigger:i,content:o,contentArrow:a}=e;return Hi(i,o,()=>{Yi(i,o,{placement:s,strategy:r,middleware:[...Re(Wi,t.inline),...Re(qi,t.offset),...Re(Ui,t.flip),...Re(Bi,t.shift),...Re(Vi,a&&t.arrow,{element:a})]}).then(l=>{const{x:c,y:p,middlewareData:u,placement:f}=l,d=u.arrow;Object.assign(o.style,{left:`${c}px`,top:`${p}px`}),o.setAttribute("data-placement",f),d&&Object.assign(a.style,{left:d?.x!=null?`${d.x}px`:"",top:d?.y!=null?`${d.y}px`:""})})})}function Re(e,n,t={}){return n?typeof n=="object"?[e({...n,...t})]:[e(t)]:[]}const oe=new q({type:"popover",baseAttribute:"data-ulu-popover"}),Ki=oe.attributeSelector("trigger-anchor"),Xi=oe.attributeSelector("arrow"),Gi=oe.getAttribute("content"),Ji=oe.attributeSelector("content"),Jt=new WeakMap,Zi={clickOutsideCloses:!0,escapeCloses:!0};function Ks(){oe.init({key:"trigger",withData:!0,coreEvents:["pageModified"],setup({element:e,data:n,initialize:t}){if(Jt.has(e))return;const s=Xs(e,n);if(!s){oe.warn("Unable to resolve popover elements for trigger.",e);return}const{elements:r,options:i,floatingOptions:o}=s;Jt.set(r,new Js(r,i,o)),t()}})}function Xs(e,n){const t=Object.assign({},n),s=Gs(e),r={trigger:e,content:s,anchor:e.querySelector(Ki)||e,contentArrow:s.querySelector(Xi)},i=t.floating||{};return delete t.floating,s?{elements:r,options:t,floatingOptions:i}:(oe.logError("Unable to make popover for",e),!1)}function Gs(e){let n;const t=e.getAttribute("aria-controls");if(t)n=document.getElementById(t);else if(e?.nextElementSibling?.hasAttribute(Gi))n=e.nextElementSibling;else{const s=Array.from(e.parentNode.children),r=s.findIndex(o=>o===e);n=s.slice(r).find(o=>o.matches(Ji))}return n||oe.logError("Unable to resolve 'content' element for popover",e),n}class Js extends tt{constructor(n,t,s){const r=Object.assign({},Zi,t);super(n,r),this.floatingOptions=s||{}}setState(n,t){super.setState(n,t),this.destroyFloatingInstance(),n&&this.createFloatingInstance()}destroy(){super.destroy(),this.destroyFloatingInstance()}createFloatingInstance(){const{content:n,anchor:t,contentArrow:s}=this.elements,r={trigger:t,contentArrow:s,content:n};this.floatingCleanup=hn(r,this.floatingOptions)}destroyFloatingInstance(){this.floatingCleanup&&(this.floatingCleanup(),this.floatingCleanup=null)}}const Ze={opened:"data-ulu-print-details-opened"},Qi=e=>`[${Ze[e]}]`,Ti={selector:"details:not([open])"};function Zs(e){const n=Object.assign({},Ti,e);document.addEventListener(J("beforePrint"),()=>{document.querySelectorAll(n.selector).forEach(t=>{t.open||(t.setAttribute(Ze.opened,!0),t.open=!0)})}),document.addEventListener(J("afterPrint"),()=>{document.querySelectorAll(Qi("opened")).forEach(t=>{t.removeAttribute(Ze.opened),t.open=!1})})}function eo(e){const n=window.open();n.document.write(e),n.print(),n.close()}function to(e){var n=e.innerHTML;eo(n)}const no=new q({type:"print",baseAttribute:"data-ulu-print"}),so={element:null};function Qs(){no.init({withData:!0,coreEvents:["pageModified"],setup({element:e,data:n,initialize:t}){ro(e,n),t()}})}function ro(e,n){const t=Object.assign({},so,n);e.addEventListener("click",()=>{if(t.element){const s=ve(t.element);s?to(s):console.error("Unable to find element to print",e,t)}else window.print()})}const Ts=new q({type:"proxy-click",baseAttribute:"data-ulu-proxy-click"}),er={selector:"[data-ulu-proxy-click-source]",selectorPreventBase:"input, select, textarea, button, a, [tabindex='-1']",selectorPrevent:"",mousedownDurationPrevent:250};let Zt={...er};function io(e){Zt=Object.assign({},Zt,e)}function tr(){Ts.init({withData:!0,coreEvents:["pageModified"],setup({element:e,data:n,initialize:t}){nr(e,n),t()}})}function nr(e,n){const t=Object.assign({},Zt,n),s=e.querySelector(t.selector);s?sr(e,s,t):console.error("Unable to locate proxy click source",t.selector)}function sr(e,n,t){const{selectorPreventBase:s,selectorPrevent:r}=t,i=`${s}${r?`, ${r}`:""}`;let o,a;e.addEventListener("mousedown",({target:l,timeStamp:c})=>{a=!1,l.matches(i)||(a=!0,o=c)}),e.addEventListener("mouseup",({timeStamp:l})=>{a&&l-o<t.mousedownDurationPrevent&&n.click()}),e.style.cursor="pointer"}const ot=new q({type:"scroll-slider",baseAttribute:"data-ulu-scroll-slider"}),oo=ot.attributeSelector("track"),ao=ot.attributeSelector("control-context"),lo=[],co={amount:Ds()};function rr(){ot.init({withData:!0,coreEvents:["pageModified"],setup({element:e,data:n,initialize:t}){uo(e,n),t()}})}function uo(e,n){const t=Object.assign({},co,n),s={track:e.querySelector(oo),controls:e.querySelector(ao)};lo.push(new rt(s,t))}const Qe=new q({type:"scrollpoint",baseAttribute:"data-ulu-scrollpoint"});function ir(){Qe.init({withData:!0,coreEvents:["pageModified"],setup({element:e,data:n,initialize:t}){const s=Object.assign({},n);new at(e,s),t()}})}class at{static defaults={root:null,rootSelector:null,debug:!1,horizontal:!1,marginStart:"-25%",marginEnd:"-55%",threshold:[0,1],exit:!0,exitForward:!0,exitReverse:!0,setClasses:!1,classPrefix:"scrollpoint",setAttribute:!0,attributeName:"data-ulu-scrollpoint-state",syncElements:[],onChange(n){}};constructor(n,t){const s=Object.assign({},at.defaults,t);if(!n){U(this,"Missing required element");return}s.rootSelector&&(s.root=document.querySelector(s.rootSelector),delete s.rootSelector),this.options=s,this.observer=null,this.lastPosition=null,this.isActive=!1,this.element=n,this.syncedElements=[n,...s.syncElements.map(r=>ve(r))],this.classes={enter:this.getClassname("enter"),enterForward:this.getClassname("enter--from-forward"),enterReverse:this.getClassname("enter--from-reverse"),exit:this.getClassname("exit"),exitForward:this.getClassname("exit--from-forward"),exitReverse:this.getClassname("exit--from-reverse")},this.setupObserver(),s.debug&&Qe.log(this)}getClassname(n){return this.options.classPrefix+"-"+n}getObserverOptions(){const{root:n,marginStart:t,marginEnd:s,threshold:r,horizontal:i}=this.options,o=i?`0px ${t} 0px ${s}`:`${t} 0px ${s} 0px`;return{root:n,rootMargin:o,threshold:r}}onObserve(n){const t=this.getScrollY(),{lastPosition:s,isActive:r,options:i}=this,o=s===null?null:s<t;n.forEach(a=>{const{isIntersecting:l}=a;l&&!r?this.setState(!0,o):!l&&r&&i.exit&&(o&&i.exitForward||!o&&i.exitReverse)&&this.setState(!1,o)}),this.lastPosition=t}setupObserver(){const n=s=>{this.onObserve(s)},t=this.getObserverOptions();this.options.debug&&Qe.log("IntersectionObserver (options)",t),this.observer=new IntersectionObserver(n,t),this.observer.observe(this.element)}getScrollY(){const{root:n}=this.options;return n===null||n===document?window.scrollY:n.scrollTop}setState(n,t){const{element:s}=this,r={isActive:n,isForward:t,element:s,instance:this},{setClasses:i,setAttribute:o,onChange:a}=this.options;i&&this.updateClasses(n,t),o&&this.updateStateAttribute(n,t),a&&a(r),this.isActive=n}getAllClasses(){return Object.values(this.classes)}updateClasses(n,t){const{classes:s}=this,r=this.getAllClasses(),i=[s.enter,t?s.enterForward:s.enterReverse],o=[s.exit,t?s.exitForward:s.exitReverse];this.syncedElements.forEach(a=>{a.classList.remove(...r),n?a.classList.add(...i):a.classList.add(...o)})}updateStateAttribute(n,t){const s=n?"enter":"exit",r=t?"forward":"reverse";this.syncedElements.forEach(i=>{i.setAttribute(this.options.attributeName,`${s}-${r}`)})}destroy(){this.observer.disconnect(),this.observer=null,this.options.setClasses&&this.element.classList.remove(...this.getAllClasses()),this.options.setAttribute&&this.element.removeAttribute(this.options.attributeName)}}function or(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function po(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var t=function s(){var r=!1;try{r=this instanceof s}catch{}return r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return e[s]}})}),t}var We={exports:{}},Aa=We.exports,An;function fo(){return An||(An=1,(function(e){"use strict";var n=Object.assign||function(s){for(var r,i=1;i<arguments.length;i++)for(var o in r=arguments[i],r)Object.prototype.hasOwnProperty.call(r,o)&&(s[o]=r[o]);return s},t=function(s,r){if(s){typeof window<"u"&&(function(){function h(m,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var x=document.createEvent("CustomEvent");return x.initCustomEvent(m,b.bubbles,b.cancelable,b.detail),x}return typeof window.CustomEvent!="function"&&(h.prototype=window.Event.prototype,void(window.CustomEvent=h))})(),r||(r={}),r=n({},{minHorizontal:10,minVertical:10,deltaHorizontal:3,deltaVertical:5,preventScroll:!1,lockAxis:!0,touch:!0,mouse:!0},r);var i=[],o=!1,a=function(){o=!0},l=function(h){o=!1,p(h)},c=function(h){o&&(h.changedTouches=[{clientX:h.clientX,clientY:h.clientY}],u(h))};r.mouse&&(s.addEventListener("mousedown",a),s.addEventListener("mouseup",l),s.addEventListener("mousemove",c));var p=function(h){var m=Math.abs,b=Math.max,x=Math.min;if(i.length){for(var w=typeof TouchEvent=="function"&&h instanceof TouchEvent,A=[],_=[],C={top:!1,right:!1,bottom:!1,left:!1},L=0;L<i.length;L++)A.push(i[L].x),_.push(i[L].y);var R=A[0],N=A[A.length-1],j=_[0],$=_[_.length-1],V={x:[R,N],y:[j,$]};if(1<i.length){var D={detail:n({touch:w,target:h.target},V)},W=new CustomEvent("swiperelease",D);s.dispatchEvent(W)}var M=A[0]-A[A.length-1],I="none";I=0<M?"left":"right";var z,F=x.apply(Math,A),Y=b.apply(Math,A);if(m(M)>=r.minHorizontal&&(I=="left"?(z=m(F-A[A.length-1]),z<=r.deltaHorizontal&&(C.left=!0)):I=="right"&&(z=m(Y-A[A.length-1]),z<=r.deltaHorizontal&&(C.right=!0))),M=_[0]-_[_.length-1],I="none",I=0<M?"top":"bottom",F=x.apply(Math,_),Y=b.apply(Math,_),m(M)>=r.minVertical&&(I=="top"?(z=m(F-_[_.length-1]),z<=r.deltaVertical&&(C.top=!0)):I=="bottom"&&(z=m(Y-_[_.length-1]),z<=r.deltaVertical&&(C.bottom=!0))),i=[],C.top||C.right||C.bottom||C.left){r.lockAxis&&((C.left||C.right)&&m(R-N)>m(j-$)?C.top=C.bottom=!1:(C.top||C.bottom)&&m(R-N)<m(j-$)&&(C.left=C.right=!1));var ne={detail:n({directions:C,touch:w,target:h.target},V)},B=new CustomEvent("swipe",ne);s.dispatchEvent(B)}else{var _e=new CustomEvent("swipecancel",{detail:n({touch:w,target:h.target},V)});s.dispatchEvent(_e)}}},u=function(h){var m=h.changedTouches[0];if(i.push({x:m.clientX,y:m.clientY}),1<i.length){var b=i[0].x,x=i[i.length-1].x,w=i[0].y,A=i[i.length-1].y,_={detail:{x:[b,x],y:[w,A],touch:typeof TouchEvent=="function"&&h instanceof TouchEvent,target:h.target}},C=new CustomEvent("swiping",_),L=r.preventScroll===!0||typeof r.preventScroll=="function"&&r.preventScroll(C);L&&h.preventDefault(),s.dispatchEvent(C)}},f=!1;try{var d=Object.defineProperty({},"passive",{get:function(){f={passive:!r.preventScroll}}});window.addEventListener("testPassive",null,d),window.removeEventListener("testPassive",null,d)}catch{}return r.touch&&(s.addEventListener("touchmove",u,f),s.addEventListener("touchend",p)),{off:function(){s.removeEventListener("touchmove",u,f),s.removeEventListener("touchend",p),s.removeEventListener("mousedown",a),s.removeEventListener("mouseup",l),s.removeEventListener("mousemove",c)}}}};e.exports=t,e.exports.default=t})(We)),We.exports}var ho=fo();const mo=or(ho),Le=new q({type:"slider",baseAttribute:"data-ulu-slider"}),yo=Le.attributeSelector("track"),go=Le.attributeSelector("track-container"),bo=Le.attributeSelector("control-context"),xo=Le.attributeSelector("slide"),vo=[],ye={once:!0},Cn=e=>`${e}ms`,Eo=["container","trackContainer","track","slides"];function ar(){Le.init({withData:!0,coreEvents:["pageModified"],setup({element:e,data:n,initialize:t}){lr(e,n),t()}})}function lr(e,n){const t=Object.assign({},n),s={container:e,track:e.querySelector(yo),trackContainer:e.querySelector(go),controlContext:e.querySelector(bo),slides:e.querySelectorAll(xo)};s.slides.length&&vo.push(new Z(s,t,!1))}class Z{static instances=[];static globalsInitialized=!1;static reduceMotion=!1;static _initializeGlobals(){Z.globalsInitialized||(addEventListener("load",()=>{addEventListener("resize",as(()=>{Z.instances.forEach(n=>n.handleResize())},250))}),Z.reduceMotion=matchMedia("(prefers-reduced-motion: reduce)").matches,Z.globalsInitialized=!0)}static defaults={classAccessiblyHidden:"hidden-visually",namespace:"Slider",events:{},transition:!0,transitionFade:!1,transitionDuration:700,transitionDurationExit:400,transitionTimingFunction:"ease-in-out",buttonClasses:["button","button--icon"],iconClassPrevious:se("iconClassPrevious"),iconClassNext:se("iconClassNext"),swipeEnabled:!0,swipeOptions:{preventScroll:!0}};constructor(n,t){Z._initializeGlobals();const s=Object.assign({},Z.defaults,t);this.options=s,this.slide=null,this.index=null,this.swipeInstance=null,this.swipeListener=null,this.swipeImageListener=null,this.transitioning=!1,Te(Eo)||U(this,"Missing a required Element"),n.slides.length||U(this,"Missing slides"),this.slides=[...n.slides].map((r,i)=>({element:r,index:i,number:i+1})),this.elements={...n,...this.createControls(n.controlContext||n.container),...this.createNav(n.navContext||n.container)},this.transition=s.transition?s.transitionFade||Z.reduceMotion?this.fadeTransition:this.slideTransition:this.noTransition,this.setup(),this.goto(0,null,"init"),K(this,"Slider Instance Created",this),Z.instances.push(this)}handleResize(){const{slide:n,transition:t,slideTransition:s}=this;t===s&&n&&this.translateTo(n.element.offsetLeft,0)}previous(n){const{index:t,slides:s}=this,r=s.length-1,i=t-1,o=i<0?r:i;this.emit("previous",[n,o]),this.goto(o,n,"previous")}next(n){const{index:t,slides:s}=this,r=t+1,i=r>s.length-1?0:r;this.emit("next",[n,i]),this.goto(i,n,"next")}ensureTransitionEnds(n,t,s){return new Promise(r=>{const i={},o=()=>{clearTimeout(i.start),i.end=setTimeout(a,t+500)},a=()=>{clearTimeout(i.start),clearTimeout(i.end),n.removeEventListener("transitionrun",o,ye),n.removeEventListener("transitionend",a,ye),n.removeEventListener("transitioncancel",a,ye),r()};n.addEventListener("transitionrun",o,ye),n.addEventListener("transitionend",a,ye),n.addEventListener("transitioncancel",a,ye),i.start=setTimeout(a,t+500),n.style.transitionDuration=Cn(t),s(),t||a()})}translateTo(n,t){const{track:s}=this.elements,r=()=>s.style.transform=`translateX(-${n}px)`;return s.style.willChange="transform",this.ensureTransitionEnds(s,t,r).then(()=>{s.style.willChange="auto"})}setVisibility(n,t){t||(n.element.style.visibility="visible"),this.slides.forEach(s=>{s!==n&&(s.element.style.visibility=t?"visible":"hidden")})}fadeSlide(n,t){const{options:s}=this,{element:r}=n,i=t?s.transitionDuration:s.transitionDurationExit;return this.ensureTransitionEnds(r,i,()=>{r.style.opacity=t?"1":"0"})}async slideTransition({slide:n,index:t,old:s,oldIndex:r,triggerType:i}){const o=this.slides.length,a=i==="previous",l=o-1,c=t===0&&r===l,p=t===l&&r===0;let u,f=this.options.transitionDuration;r&&!c&&!p&&(f=f*Math.abs(r-t)),o<3?c&&!a?u=s:p&&(u=a?n:s):c?u=s:p&&(u=n),this.setVisibility(null,!0),u&&(u.element.style.order="-1",await this.translateTo(c?0:s.element.offsetLeft,0)),await this.translateTo(n.element.offsetLeft,f),u&&(u.element.style.order="0",await this.translateTo(n.element.offsetLeft,0)),this.setVisibility(n,!1)}async fadeTransition({slide:n,old:t}){this.setVisibility(null,!0),t&&(await this.fadeSlide(t,!1),t.element.style.order="0"),n.element.style.order="-1",await this.fadeSlide(n,!0),this.setVisibility(n,!1)}noTransition({slide:n,old:t}){return this.setVisibility(n,!1),t&&(t.element.style.order="0"),n.element.style.order="-1",Promise.resolve()}goto(n,t,s){const{slide:r,index:i,slides:o,elements:a}=this,l=s==="init",c=o[n],p=this.getClass("nav-button--active"),u=this.getClass("transition",!0),f={slide:c,index:n,old:r,oldIndex:i,triggerType:s};if(n===i){Yt(this,"Could not goto slide, still performing transition");return}if(this.transitioning){Yt(this,"Cancel goto(), same slide index as current slide");return}this.elements.track.inert=!0,this.transitioning=!0,r&&r.navButton.classList.remove(p),c.navButton.classList.add(p),a.container.classList.add(u),this.transition(f).then(()=>{this.index=n,this.slide=c,this.transitioning=!1,this.elements.track.inert=!1,a.container.classList.remove(u),l||(c.element.focus(),this.emit("goto",[t,n,c]))})}setup(){const{container:n,track:t,trackContainer:s}=this.elements,r=Ue(this.trackCss()),i=Ue(this.trackContainerStyles()),o=Ue(this.slideCss());t.setAttribute("style",r),s.setAttribute("style",i),this.slides.forEach(a=>{a.element.setAttribute("style",o),a.element.setAttribute("tabindex","-1")}),n.classList.add(this.getClass()),this.options.swipeEnabled&&this.setupSwipe()}setupSwipe(){const n=this.elements.track.querySelectorAll("img");this.swipeListener=t=>{this.onSwipe(t)},this.swipeImageListener=t=>{t.preventDefault()},this.slides.forEach(t=>{const{element:s}=t;t.swipeInstance=mo(s,this.options.swipeOptions),s.addEventListener("swipe",this.swipeListener)}),n.forEach(t=>{t.addEventListener("dragstart",this.swipeImageListener)})}onSwipe(n){const{directions:t}=n.detail,s=t.left?"next":t.right?"previous":null;s&&this[s](n)}trackContainerStyles(){return`
      overflow: hidden;
    `}transitionCss(n){const{transitionTimingFunction:t,transitionDuration:s}=this.options;return`
      transition-property: ${n};
      transition-duration: ${Cn(s)};
      transition-timing-function: ${t};
    `}trackCss(){return`
      display: flex;
      position: relative;
      list-style: none;
      ${this.transition===this.slideTransition?this.transitionCss("transform"):""}
    `}slideCss(){const n=this.transition===this.fadeTransition;return`
      width: 100%;
      flex: 0 0 100%;
      ${n?this.transitionCss("opacity"):""}
      opacity: ${n?"0":"1"}
    `}getClass(n,t){const{namespace:s}=this.options;return t?`${s}--${n}`:n?`${s}__${n}`:s}createControlButton(n){const t=document.createElement("button");return t.classList.add(this.getClass("control-button")),t.classList.add(this.getClass(`control-button--${n}`)),t.classList.add(...this.options.buttonClasses),t.setAttribute("data-slider-control",n),t.setAttribute("type","button"),t.innerHTML=this.getControlContent(n),t}createControls(n){const t=document.createElement("ul"),s=document.createElement("li"),r=document.createElement("li"),i=this.createControlButton("previous"),o=this.createControlButton("next");return t.classList.add(this.getClass("controls")),s.appendChild(i),r.appendChild(o),t.appendChild(s),t.appendChild(r),i.addEventListener("click",this.previous.bind(this)),o.addEventListener("click",this.next.bind(this)),n.appendChild(t),{controls:t,previousItem:s,nextItem:r,previous:i,next:o}}createNav(n){const t=document.createElement("ul"),s=this.slides.map(this.createNavButton.bind(this)),r=s.map(i=>{const o=document.createElement("li");return o.appendChild(i),t.appendChild(o),o});return t.classList.add(this.getClass("nav")),n.appendChild(t),{nav:t,navButtons:s,navItems:r}}createNavButton(n,t){const s=document.createElement("button");return s.classList.add(this.getClass("nav-button")),s.setAttribute("type","button"),s.innerHTML=this.getNavContent(n),n.navButton=s,s.addEventListener("click",this.goto.bind(this,t)),s}getControlContent(n){const t=this.options[n==="next"?"iconClassNext":"iconClassPrevious"];return`
      <span class="${this.options.classAccessiblyHidden}">${n}</span>
      <span class="${this.getClass("control-icon")} ${t}" aria-hidden="true"></span>
    `}getNavContent(n){return`<span class="${this.options.classAccessiblyHidden}">Item ${n.number}</span>`}emit(n,t){this.options.events[n]&&this.options.events[n].apply(this,t)}}class lt{static defaults={orientation:null,initialIndex:0,allArrows:!1,openByUrlHash:!1,setUrlHash:!1,equalHeights:!1,onReady:null,onChange:null};constructor(n,t={}){if(this.tablist=n,this.options={...lt.defaults,...t},this.tabs=Array.from(this.tablist.children),this.panels=this.tabs.map(r=>{const i=r.getAttribute("aria-controls");return i?document.getElementById(i):null}).filter(Boolean),this.currentIndex=-1,this.handleKeydown=this.handleKeydown.bind(this),this.handleClick=this.handleClick.bind(this),this.updatePanelHeights=this.updatePanelHeights.bind(this),this.tabs.length===0||this.tabs.length!==this.panels.length){console.warn("TabManager: Tab/Panel count mismatch. Check aria-controls.",{tabs:this.tabs,panels:this.panels});return}this.orientation=this.options.orientation||this.tablist.getAttribute("aria-orientation")||"horizontal",this.setupAttributes(),this.attachListeners();let s=this.options.initialIndex;if(this.options.openByUrlHash){const r=window.location.hash.substring(1),i=this.tabs.findIndex(o=>o.id===r);i>-1&&(s=i)}this.activate(s,!1),this.options.equalHeights&&(this.updatePanelHeights(),document.addEventListener(J("pageResized"),this.updatePanelHeights)),this.options.onReady&&this.options.onReady(this)}setupAttributes(){this.tablist.setAttribute("role","tablist"),this.tabs.forEach((n,t)=>{const s=this.panels[t];he(n),he(s),n.setAttribute("role","tab"),n.hasAttribute("aria-controls")||n.setAttribute("aria-controls",s.id),s.setAttribute("role","tabpanel"),s.setAttribute("aria-labelledby",n.id),s.hidden=!0,n.setAttribute("tabindex","-1"),n.setAttribute("aria-selected","false")})}attachListeners(){this.tabs.forEach(n=>{n.addEventListener("click",this.handleClick),n.addEventListener("keydown",this.handleKeydown)})}handleClick(n){const t=this.tabs.indexOf(n.currentTarget);this.activate(t)}handleKeydown(n){const t=this.tabs.indexOf(n.currentTarget);let s=null;const r=this.orientation==="vertical",i=this.options.allArrows,o=(this.tablist.dir==="rtl"||document.dir==="rtl")&&this.tablist.dir!=="ltr",a=o?"ArrowLeft":"ArrowRight",l=o?"ArrowRight":"ArrowLeft";n.key==="ArrowDown"?(r||i)&&(s=(t+1)%this.tabs.length):n.key==="ArrowUp"?(r||i)&&(s=(t-1+this.tabs.length)%this.tabs.length):n.key===a?(!r||i)&&(s=(t+1)%this.tabs.length):n.key===l?(!r||i)&&(s=(t-1+this.tabs.length)%this.tabs.length):n.key==="Home"?s=0:n.key==="End"&&(s=this.tabs.length-1),s!==null&&(n.preventDefault(),this.activate(s),this.tabs[s].focus())}activate(n,t=!0){let s=-1;if(typeof n=="string"?s=this.tabs.findIndex(c=>c.id===n):s=n,s<0||s>=this.tabs.length||this.currentIndex===s)return;const r=this.currentIndex,i=r>-1?this.tabs[r]:null,o=r>-1?this.panels[r]:null;i&&(i.setAttribute("aria-selected","false"),i.setAttribute("tabindex","-1"),o.hidden=!0);const a=this.tabs[s],l=this.panels[s];a.setAttribute("aria-selected","true"),a.setAttribute("tabindex","0"),l.hidden=!1,this.currentIndex=s,t&&this.options.setUrlHash&&window.history&&window.history.replaceState(null,"",`#${a.id}`),t&&this.options.onChange&&this.options.onChange({index:s,tab:a,panel:l},{index:r,tab:i,panel:o})}activateById(n){this.activate(n,!0)}updatePanelHeights(){if(!this.panels||this.panels.length===0)return;const n=this.panels[0].parentElement;if(!n)return;const t=[...n.querySelectorAll("img")],s=i=>new Promise(o=>{if(i.complete)return o(i);i.onload=()=>o(i),i.onerror=()=>o(i)}),r=t.map(s);Promise.all(r).then(()=>{this.panels.forEach(a=>{a.style.minHeight=""});const i=this.panels.map(a=>{const l=a.hidden;a.hidden=!1;const c=a.offsetHeight;return a.hidden=l,c}),o=Math.max(...i);o>0&&this.panels.forEach(a=>{a.style.minHeight=`${o}px`})})}destroy(){this.tabs.forEach(n=>{n.removeEventListener("click",this.handleClick),n.removeEventListener("keydown",this.handleKeydown)}),this.options.equalHeights&&document.removeEventListener(J("pageResized"),this.updatePanelHeights),this.tablist.removeAttribute("role"),this.tabs.forEach(n=>{n.removeAttribute("role"),n.removeAttribute("aria-selected"),n.removeAttribute("tabindex")}),this.panels.forEach(n=>{n.removeAttribute("role"),n.removeAttribute("aria-labelledby"),n.hidden=!1,n.style.minHeight=""}),this.tablist=null,this.tabs=[],this.panels=[],this.options={},this.currentIndex=-1}}const cr=[],ur=new q({type:"tabs",baseAttribute:"data-ulu-tablist"});function pr(){const e=()=>{ur.init({coreEvents:["pageModified"],withData:!0,setup({element:n,data:t,initialize:s}){fr(n,t),s()}})};document.readyState==="complete"?e():window.addEventListener("load",e)}function fr(e,n={}){const t={...n};t.vertical&&(t.allArrows=!0),t.openByUrlHash&&(t.setUrlHash=!0),[...e.children].forEach(i=>{if(!i.hasAttribute("aria-controls")){const o=document.querySelector(`[aria-labelledby="${i.id}"]`);o&&(he(o),i.setAttribute("aria-controls",o.id))}});const r={element:e,options:n};return r.tabManager=new lt(e,t),cr.push(r),r}const X=new q({type:"theme-toggle",baseAttribute:"data-ulu-theme-toggle"}),So=X.attributeSelector("label"),ko=X.attributeSelector("icon"),dr=X.getAttribute("remote"),Qt=X.getAttribute("init"),wn=X.getAttribute("state"),Ao=e=>document.querySelectorAll(`[${dr}="${e}"]`),On=e=>document.querySelectorAll(`[${dr}="${e}"]:not([${Qt}])`),hr=["target"],Co=Te(hr),Ln=(e,n)=>e?n():null,mn={themes:{light:{label:"Light",value:"light",iconClass:"fas fa-moon",targetClass:"theme-light",mediaQuery:"(prefers-color-scheme: light)"},dark:{label:"Dark",iconClass:"fas fa-sun",targetClass:"theme-dark",mediaQuery:"(prefers-color-scheme: dark)"}},target:"body",group:null,onChange(e){},initialState:"light",checkMediaQuery:!1,savePreference:!1,storagePrefix:"ulu-theme-",debug:!1};let _n={...mn};function wo(e){_n=Object.assign({},_n,e)}function mr(){X.init({coreEvents:["pageModified"],withData:!0,setup({element:e,data:n,initialize:t}){yr(e,n),t()}})}function yr(e,n){const t=Object.assign({},mn,n);if(!Co(t)){console.error(`Missing a required option: ${hr.join(", ")}`);return}const s=t.group,r={toggle:e,options:t},i=Oo(t);if(!i){console.error("Unable to resolve initial key");return}ht(i,r),e.addEventListener("click",a),l(),document.addEventListener(J("pageModified"),l);function o(u){const d=us(t.target)[0].dataset.uluThemeToggleState,h=_o(d,t);if(!h){console.error("Issue getting next theme key");return}ht(h,{...r,event:u})}function a(u){o(u)}function l(){if(!s)return;On(s).forEach(f=>{f.addEventListener("click",a),X.initializeElement(f)})}function c(){if(!s)return;On(s).forEach(f=>{f.removeEventListener("click",a),f.removeAttribute(Qt,"")})}function p(){e.removeEventListener("click",a),e.removeAttribute(Qt,""),c(),document.removeEventListener(J("pageModified"),l)}return{destroy:p,toggle:e,options:t,toggleState:o,setState(u){ht(u,r)}}}function ht(e,n){if(!e){console.error("Missing key");return}const{toggle:t,options:s}=n,{themes:r,group:i}=s,o={targets:us(s.target),toggles:[t,...i?Ao(i):[]]};if(!o.targets.length||!o.toggles.length){console.error("Issue setting state, couldn't find needed elements",o);return}const a=r[e],l=Po(e,r),c={...n,key:e,elements:o,theme:a,otherThemes:l};s.debug&&X.log("Set state context",c);const p=Pn(l,"targetClass"),u=Pn(l,"iconClass");o.targets.forEach(f=>{f.setAttribute(wn,e),f.classList.remove(...p),f.classList.add(...Ke(a.targetClass))}),o.toggles.forEach(f=>{const d=f.querySelector(So),h=f.querySelector(ko);d&&(d.textContent=a.label),h&&(h.classList.remove(...u),h.classList.add(...Ke(a.iconClass))),f.setAttribute(wn,e)}),s.onChange&&s.onChange(c),s.savePreference&&localStorage.setItem(gr(s),e)}function Oo(e){const{savePreference:n,checkMediaQuery:t,themes:s,initialState:r}=e,i=gr(e),o=Ln(n,()=>localStorage.getItem(i)),a=Ln(t,()=>Lo(s)),l=o||a||r;return e.debug&&(X.log("Preference Saved",o),X.log("Media Query Preference",a),X.log("Initial State:",r)),l||X.logError("Failed to resolve initial theme (pass 'initialState' to options)"),l}function Lo(e){const n=Object.entries(e).find(([t,s])=>{if(s.mediaQuery)return window.matchMedia(s.mediaQuery).matches});return n?n[0]:null}function _o(e,n){const{themes:t}=n,s=Object.keys(t),r=s.findIndex(o=>o===e),i=r===-1?0:(r+1)%s.length;return s[i]}function Po(e,n){return Object.entries(n).filter(([s])=>s!==e).map(([s,r])=>r)}function Pn(e,n){return e.reduce((t,s)=>t.concat(Ke(s[n])),[])}function gr(e){const{storagePrefix:n,group:t}=e;return t?`${n}${t}`:n}const Fe=new q({type:"tooltip",baseAttribute:"data-ulu-tooltip"}),Ro=Fe.getAttribute("body"),$o=Fe.attributeSelector("body"),No=Fe.attributeSelector("arrow");function br(){Fe.init({coreEvents:["pageModified"],withData:!0,setup({element:e,data:n,initialize:t}){const s=typeof n=="object"?n:{};typeof n=="string"&&(s.content=n),t(),new De({trigger:e},s)}})}class De{static defaults={accessible:!0,content:null,openClass:"is-active",contentClass:"",isHtml:!1,fromElement:null,fromAnchor:!1,endOfDocument:!0,showEvents:["pointerenter","focus"],hideEvents:["pointerleave","blur"],delay:500,template(n){return`
        <div class="popover popover--tooltip">
          <div class="popover__inner" ${Ro}>
          </div>
          <span class="popover__arrow" data-ulu-tooltip-arrow></span>
        </div>
      `},onChange(n){}};static defaultFloatingOptions={};constructor(n,t,s){const{trigger:r}=n;if(!r){U(this,"missing required trigger");return}this.options=Object.assign({},De.defaults,t),this.floatingOptions=Object.assign({},De.defaultFloatingOptions,s),this.elements={...n},this.handlers={},this.isOpen=!1,he(r),this.setup()}setup(){this.createContentElement(),this.attachHandlers(),this.setupAccessibility()}setupAccessibility(){const{trigger:n,content:t}=this.elements,{accessible:s}=this.options;s&&n.setAttribute("aria-describedby",t.id)}destroy(){this.destroyHandlers(),this.destroyDisplay()}getInnerContent(){const{fromElement:n,content:t,isHtml:s,fromAnchor:r}=this.options;if(t)return t;if(n||r){const i=r?this.getAnchorElement():document.querySelector(n);return i?s?i.innerHTML:i.innerText:""}else U(this,"Could not resolve inner content")}getAnchorElement(){const{trigger:n}=this.elements,{href:t}=n,s=t?t.split("#")[1]:null,r=s?document.getElementById(s):null;return r||console.error("Unable to get 'fromAnchor' element",n),r}createContentElement(){const{options:n}=this,t=cs(n.template(n)),s=t.querySelector($o),r=this.getInnerContent();n.isHtml?s.innerHTML=r:s.textContent=r,t.id=et(),n.contentClass&&t.classList.add(n.contentClass),this.elements.content=t,this.elements.contentArrow=t.querySelector(No),document.body.appendChild(t)}attachHandlers(){const{trigger:n}=this.elements,{showEvents:t,hideEvents:s,delay:r}=this.options;let i=null;const o=c=>{i||(i=setTimeout(()=>{this.show(c),clearTimeout(i)},r))},a=c=>{i&&(clearTimeout(i),i=null),this.hide(c)},l=c=>{c.key==="Escape"&&this.hide(c)};t.forEach(c=>{n.addEventListener(c,o)}),s.forEach(c=>{n.addEventListener(c,a)}),document.addEventListener("keydown",l),this.handlers={onShow:o,onHide:a,onDocumentKeydown:l}}destroyHandlers(){const{trigger:n}=this,{onShow:t,onHide:s,onDocumentKeydown:r}=this.handlers,{showEvents:i,hideEvents:o}=this.options;t&&i.forEach(a=>{n.removeEventListener(a,t)}),s&&o.forEach(a=>{n.removeEventListener(a,s)}),r&&document.removeEventListener("keydown",r)}setState(n,t){const s={instance:this,isOpen:n,event:t},{trigger:r,content:i}=this.elements,{openClass:o}=this.options,a=l=>l.classList[n?"add":"remove"](o);a(r),a(i),this.isOpen=n,this.options.onChange(s),r.dispatchEvent(this.createEvent("change",s)),this.destroyFloatingInstance(),n&&this.createFloatingInstance()}createEvent(n,t){return new CustomEvent(de("tooltip:"+n),{detail:t})}createFloatingInstance(){this.floatingCleanup=hn(this.elements,this.floatingOptions)}destroyFloatingInstance(){this.floatingCleanup&&(this.floatingCleanup(),this.floatingCleanup=null)}show(n){this.setState(!0,n)}hide(n){this.setState(!1,n)}}class yn{static defaults={filename:"filesave-file.txt",type:"text/plain;charset=utf-8"};constructor(n,t){this.options=Object.assign({},yn.defaults,t),this.data=n,this.blob=new Blob([n],{type:this.options.type}),this.url=URL.createObjectURL(this.blob)}destroy(){return URL.revokeObjectURL(this.url)}getUrl(){return this.url}createLink(n){const t=document.createElement("a"),s=document.createTextNode(n);return t.setAttribute("download",this.options.filename),t.setAttribute("href",this.url),t.appendChild(s),t}static isBrowserSupported(){return"FileReader"in window}}function xr(){ds({iconClassClose:"fas fa-xmark",iconClassDragX:"fas fa-solid fa-grip-lines-vertical",iconClassPrevious:"fas fa-solid fa-chevron-left",iconClassNext:"fas fa-solid fa-chevron-right"})}const Do=Object.freeze(Object.defineProperty({__proto__:null,BreakpointManager:le,Collapsible:tt,ComponentInitializer:q,FileSave:yn,Flipcard:be,OverflowScroller:rt,Popover:Js,ProgrammaticModalManager:on,Resizer:st,Scrollpoint:at,Slider:Z,TabManager:lt,Tooltip:De,classLoggerLog:K,classLoggerLogError:U,classLoggerLogWarning:Yt,classLoggerSet:bs,createFloatingUi:hn,createUluEvent:ge,dataAttributeToDatasetKey:ys,detailsGroupInit:xs,detailsGroupInitializer:nt,detailsGroupSetupGroup:vs,dialogBaseAttribute:nn,dialogCloseAttribute:As,dialogDefaults:sn,dialogGetDialogOptions:Ls,dialogInit:Cs,dialogInitializer:Se,dialogSetDefaults:ti,dialogSetupDialog:Os,dialogSetupTrigger:ws,dispatchCoreEvent:Ee,ensureId:he,flipcardInit:_s,flipcardInitializer:Ve,floatingUiDefaults:Ys,fontAwesomeConfigureIcons:xr,getCoreEventName:J,getDefaultSettings:Br,getSetting:hs,getSettings:Ur,getUluEventName:de,gridInit:Rs,gridInitializer:Ps,modalBuilderBuildModal:rn,modalBuilderDefaults:$s,modalBuilderInit:Ns,modalBuilderInitializer:pe,modalBuilderSetDefaults:ri,newId:et,overflowScrollerCreatePager:Ds,pageInit:Ms,popoverGetContentByTrigger:Gs,popoverInit:Ks,popoverInitializer:oe,popoverInstances:Jt,popoverResolve:Xs,printDetailsAttrs:Ze,printDetailsInit:Zs,printInit:Qs,proxyClickAttachHandlers:sr,proxyClickDefaults:er,proxyClickInit:tr,proxyClickInitializer:Ts,proxyClickSetDefaults:io,proxyClickSetupProxy:nr,resolveClasses:Ke,scrollSliderInit:rr,scrollSliderInitializer:ot,scrollpointInit:ir,scrollpointInitializer:Qe,setPositionClasses:gs,sliderInit:ar,sliderInitializer:Le,sliderSetupSlider:lr,tabsInit:pr,tabsInitializer:ur,tabsInstances:cr,tabsSetup:fr,themeToggleDefaults:mn,themeToggleInit:mr,themeToggleInitializer:X,themeToggleSetDefaults:wo,themeToggleSetupToggle:yr,tooltipInit:br,tooltipInitializer:Fe,updateSetting:ms,updateSettings:ds,wrapSettingString:se,youtubePauseVideos:Es,youtubePrepVideos:Ss},Symbol.toStringTag,{value:"Module"})),gn={container:"data-list-grid",toggle:"data-list-grid-toggle",toggleItemList:"data-list-grid-toggle-list",toggleItemGrid:"data-list-grid-toggle-grid"},vr={activeClass:"is-active",localStorageKey:"siteListGrid",onChange(){}};let fe=vr;const Ce=e=>`[${gn[e]}]`;function Mo(){return localStorage.getItem(fe.localStorageKey)}function Io(e){fe=Object.assign({},vr,e)}function zo(){const e=Mo(),n=document.querySelectorAll(Ce("container"));n&&n.forEach(t=>{const s=t.querySelector(Ce("toggle"));e&&Er(t,e),s&&s.addEventListener("click",Fo)})}function Er(e,n){const t=e.querySelector(Ce("toggle"));if(e.setAttribute(gn.container,n),localStorage.setItem(fe.localStorageKey,n),t?jo(t,n):console.warn("Unable to get toggle for list grid"),fe.onChange)try{fe.onChange(e,n)}catch(s){console.error(s)}}function jo(e,n){const t=n==="list",s=e.querySelector(Ce("toggleItemList")),r=e.querySelector(Ce("toggleItemGrid"));s&&r?(s.classList[t?"add":"remove"](fe.activeClass),r.classList[t?"remove":"add"](fe.activeClass)):console.warn("Unable to get elements for setStateToggle()")}function Fo(){const e=this.closest(Ce("container"));if(!e){console.warn("Unable to find container list grid");return}const t=e.getAttribute(gn.container)==="list"?"grid":"list";Er(e,t)}var mt,Rn;function Ho(){return Rn||(Rn=1,mt=function(e){"use strict";e.trace=!1,e.debug=!1,e.cache=!0,e.noop=function(){},e.merge=function(s,r,i){return Object.keys(r).forEach(o=>{i&&!(o in s)||(s[o]=r[o])}),s},e.Error=function(s,r){this.message=s,this.name="TwigException",this.type="TwigException",this.file=r},e.Error.prototype.toString=function(){return this.name+": "+this.message},e.log={trace(...s){e.trace&&console&&console.log(Array.prototype.slice.call(s))},debug(...s){e.debug&&console&&console.log(Array.prototype.slice.call(s))}},typeof console>"u"?e.log.error=function(){}:typeof console.error<"u"?e.log.error=function(...s){console.error(...s)}:typeof console.log<"u"&&(e.log.error=function(...s){console.log(...s)}),e.token={},e.token.type={output:"output",logic:"logic",comment:"comment",raw:"raw",outputWhitespacePre:"output_whitespace_pre",outputWhitespacePost:"output_whitespace_post",outputWhitespaceBoth:"output_whitespace_both",logicWhitespacePre:"logic_whitespace_pre",logicWhitespacePost:"logic_whitespace_post",logicWhitespaceBoth:"logic_whitespace_both"},e.token.definitions=[{type:e.token.type.raw,open:"{% raw %}",close:"{% endraw %}"},{type:e.token.type.raw,open:"{% verbatim %}",close:"{% endverbatim %}"},{type:e.token.type.outputWhitespacePre,open:"{{-",close:"}}"},{type:e.token.type.outputWhitespacePost,open:"{{",close:"-}}"},{type:e.token.type.outputWhitespaceBoth,open:"{{-",close:"-}}"},{type:e.token.type.logicWhitespacePre,open:"{%-",close:"%}"},{type:e.token.type.logicWhitespacePost,open:"{%",close:"-%}"},{type:e.token.type.logicWhitespaceBoth,open:"{%-",close:"-%}"},{type:e.token.type.output,open:"{{",close:"}}"},{type:e.token.type.logic,open:"{%",close:"%}"},{type:e.token.type.comment,open:"{#",close:"#}"}],e.token.strings=['"',"'"],e.token.findStart=function(s){const r={position:null,def:null};let i=null;const o=e.token.definitions.length;let a,l,c,p;for(a=0;a<o;a++)l=e.token.definitions[a],c=s.indexOf(l.open),p=s.indexOf(l.close),e.log.trace("Twig.token.findStart: ","Searching for ",l.open," found at ",c),!(c>=0&&l.open.length!==l.close.length&&p<0)&&(c>=0&&(r.position===null||c<r.position)?(r.position=c,r.def=l,i=p):c>=0&&r.position!==null&&c===r.position&&(l.open.length>r.def.open.length?(r.position=c,r.def=l,i=p):l.open.length===r.def.open.length&&(l.close.length>r.def.close.length,p>=0&&p<i&&(r.position=c,r.def=l,i=p))));return r},e.token.findEnd=function(s,r,i){let o=null,a=!1,l=0,c=null,p=null,u=null,f=null,d=null,h=null,m,b;for(;!a;){if(c=null,p=null,u=s.indexOf(r.close,l),u>=0)o=u,a=!0;else throw new e.Error("Unable to find closing bracket '"+r.close+"' opened near template position "+i);if(r.type===e.token.type.comment||r.type===e.token.type.raw)break;for(b=e.token.strings.length,m=0;m<b;m+=1)d=s.indexOf(e.token.strings[m],l),d>0&&d<u&&(c===null||d<c)&&(c=d,p=e.token.strings[m]);if(c!==null)for(f=c+1,o=null,a=!1;;){if(h=s.indexOf(p,f),h<0)throw e.Error("Unclosed string in template");if(s.slice(h-1,h)==="\\")f=h+1;else{l=h+1;break}}}return o},e.tokenize=function(s){const r=[];let i=0,o=null,a=null;for(;s.length>0;)if(o=e.token.findStart(s),e.log.trace("Twig.tokenize: ","Found token: ",o),o.position===null)r.push({type:e.token.type.raw,value:s,position:{start:i,end:i+o.position}}),s="";else{if(o.position>0&&r.push({type:e.token.type.raw,value:s.slice(0,Math.max(0,o.position)),position:{start:i,end:i+Math.max(0,o.position)}}),s=s.slice(o.position+o.def.open.length),i+=o.position+o.def.open.length,a=e.token.findEnd(s,o.def,i),e.log.trace("Twig.tokenize: ","Token ends at ",a),r.push({type:o.def.type,value:s.slice(0,Math.max(0,a)).trim(),position:{start:i-o.def.open.length,end:i+a+o.def.close.length}}),s.slice(a+o.def.close.length,a+o.def.close.length+1)===`
`)switch(o.def.type){case"logic_whitespace_pre":case"logic_whitespace_post":case"logic_whitespace_both":case"logic":a+=1;break;default:break}s=s.slice(a+o.def.close.length),i+=a+o.def.close.length}return r},e.compile=function(s){const r=this;try{const i=[],o=[];let a=[],l=null,c=null,p=null,u=null,f=null,d=null,h=null,m=null,b=null,x=null,w=null,A=null;const _=function(L){e.expression.compile.call(r,L),o.length>0?a.push(L):i.push(L)},C=function(L){if(c=e.logic.compile.call(r,L),c.position=L.position,x=c.type,w=e.logic.handler[x].open,A=e.logic.handler[x].next,e.log.trace("Twig.compile: ","Compiled logic token to ",c," next is: ",A," open is : ",w),w!==void 0&&!w){if(u=o.pop(),h=e.logic.handler[u.type],!h.next.includes(x))throw new Error(x+" not expected after a "+u.type);u.output=u.output||[],u.output=u.output.concat(a),a=[],b={type:e.token.type.logic,token:u,position:{open:u.position,close:L.position}},o.length>0?a.push(b):i.push(b)}A!==void 0&&A.length>0?(e.log.trace("Twig.compile: ","Pushing ",c," to logic stack."),o.length>0&&(u=o.pop(),u.output=u.output||[],u.output=u.output.concat(a),o.push(u),a=[]),o.push(c)):w!==void 0&&w&&(b={type:e.token.type.logic,token:c,position:c.position},o.length>0?a.push(b):i.push(b))};for(;s.length>0;){switch(l=s.shift(),f=i[i.length-1],d=a[a.length-1],m=s[0],e.log.trace("Compiling token ",l),l.type){case e.token.type.raw:o.length>0?a.push(l):i.push(l);break;case e.token.type.logic:C.call(r,l);break;case e.token.type.comment:break;case e.token.type.output:_.call(r,l);break;case e.token.type.logicWhitespacePre:case e.token.type.logicWhitespacePost:case e.token.type.logicWhitespaceBoth:case e.token.type.outputWhitespacePre:case e.token.type.outputWhitespacePost:case e.token.type.outputWhitespaceBoth:switch(l.type!==e.token.type.outputWhitespacePost&&l.type!==e.token.type.logicWhitespacePost&&(f&&f.type===e.token.type.raw&&(i.pop(),f.value=f.value.trimEnd(),i.push(f)),d&&d.type===e.token.type.raw&&(a.pop(),d.value=d.value.trimEnd(),a.push(d))),l.type){case e.token.type.outputWhitespacePre:case e.token.type.outputWhitespacePost:case e.token.type.outputWhitespaceBoth:_.call(r,l);break;case e.token.type.logicWhitespacePre:case e.token.type.logicWhitespacePost:case e.token.type.logicWhitespaceBoth:C.call(r,l);break;default:break}l.type!==e.token.type.outputWhitespacePre&&l.type!==e.token.type.logicWhitespacePre&&m&&m.type===e.token.type.raw&&(s.shift(),m.value=m.value.trimStart(),s.unshift(m));break;default:break}e.log.trace("Twig.compile: "," Output: ",i," Logic Stack: ",o," Pending Output: ",a)}if(o.length>0)throw p=o.pop(),new Error("Unable to find an end tag for "+p.type+", expecting one of "+p.next);return i}catch(i){if(r.options.rethrow)throw i.type==="TwigException"&&!i.file&&(i.file=r.id),i;e.log.error("Error compiling twig template "+r.id+": "),i.stack?e.log.error(i.stack):e.log.error(i.toString())}};function n(s,r){if(s.template.options.rethrow)throw typeof r=="string"&&(r=new e.Error(r)),r.type==="TwigException"&&!r.file&&(r.file=s.template.id),r;if(e.log.error("Error parsing twig template "+s.template.id+": "),r.stack?e.log.error(r.stack):e.log.error(r.toString()),e.debug)return r.toString()}e.prepare=function(s){e.log.debug("Twig.prepare: ","Tokenizing ",s);const r=e.tokenize.call(this,s);e.log.debug("Twig.prepare: ","Compiling ",r);const i=e.compile.call(this,r);return e.log.debug("Twig.prepare: ","Compiled ",i),i},e.output=function(s){const{autoescape:r}=this.options;if(!r)return s.join("");const i=typeof r=="string"?r:"html",o=s.map(l=>(l&&l.twigMarkup!==!0&&l.twigMarkup!==i&&!(i==="html"&&l.twigMarkup==="html_attr")&&(l=e.filters.escape(l,[i])),l));if(o.length===0)return"";const a=o.join("");return a.length===0?"":new e.Markup(a,!0)},e.Templates={loaders:{},parsers:{},registry:{}},e.validateId=function(s){if(s==="prototype")throw new e.Error(s+" is not a valid twig identifier");if(e.cache&&Object.hasOwnProperty.call(e.Templates.registry,s))throw new e.Error("There is already a template with the ID "+s);return!0},e.Templates.registerLoader=function(s,r,i){if(typeof r!="function")throw new e.Error("Unable to add loader for "+s+": Invalid function reference given.");i&&(r=r.bind(i)),this.loaders[s]=r},e.Templates.unRegisterLoader=function(s){this.isRegisteredLoader(s)&&delete this.loaders[s]},e.Templates.isRegisteredLoader=function(s){return Object.hasOwnProperty.call(this.loaders,s)},e.Templates.registerParser=function(s,r,i){if(typeof r!="function")throw new e.Error("Unable to add parser for "+s+": Invalid function regerence given.");i&&(r=r.bind(i)),this.parsers[s]=r},e.Templates.unRegisterParser=function(s){this.isRegisteredParser(s)&&delete this.parsers[s]},e.Templates.isRegisteredParser=function(s){return Object.hasOwnProperty.call(this.parsers,s)},e.Templates.save=function(s){if(s.id===void 0)throw new e.Error("Unable to save template with no id");e.Templates.registry[s.id]=s},e.Templates.load=function(s){return Object.hasOwnProperty.call(e.Templates.registry,s)?e.Templates.registry[s]:null},e.Templates.loadRemote=function(s,r,i,o){const a=typeof r.id>"u"?s:r.id,l=e.Templates.registry[a];return e.cache&&typeof l<"u"?(typeof i=="function"&&i(l),l):(r.parser=r.parser||"twig",r.id=a,typeof r.async>"u"&&(r.async=!0),(this.loaders[r.method]||this.loaders.fs).call(this,s,r,i,o))};function t(s,r){const i=Object.prototype.toString.call(r).slice(8,-1);return r!=null&&i===s}return e.Block=function(s,r){this.template=s,this.token=r},e.Block.prototype.render=function(s,r){const i=s.template;let o;return s.template=this.template,this.token.expression?o=e.expression.parseAsync.call(s,this.token.output,r):o=s.parseAsync(this.token.output,r),o.then(a=>e.expression.parseAsync.call(s,{type:e.expression.type.string,value:a},r)).then(a=>(s.template=i,a))},e.ParseState=function(s,r,i){this.renderedBlocks={},this.overrideBlocks=r===void 0?{}:r,this.context=i===void 0?{}:i,this.macros={},this.nestingStack=[],this.template=s},e.ParseState.prototype.getBlock=function(s,r){let i;return r!==!0&&(i=this.overrideBlocks[s]),i===void 0&&(i=this.template.getBlock(s,r)),i===void 0&&this.template.parentTemplate!==null&&(i=this.template.parentTemplate.getBlock(s)),i},e.ParseState.prototype.getBlocks=function(s){let r={};return s!==!1&&this.template.parentTemplate!==null&&this.template.parentTemplate!==this.template&&(r=this.template.parentTemplate.getBlocks()),r={...r,...this.template.getBlocks(),...this.overrideBlocks},r},e.ParseState.prototype.getNestingStackToken=function(s){let r;return this.nestingStack.forEach(i=>{r===void 0&&i.type===s&&(r=i)}),r},e.ParseState.prototype.parse=function(s,r,i){const o=this;let a=[],l=null,c=!0,p=null,u=!0;r&&(o.context=r);function f(h){a.push(h)}function d(h){typeof h.chain<"u"&&(u=h.chain),typeof h.context<"u"&&(o.context=h.context),typeof h.output<"u"&&a.push(h.output)}if(p=e.async.forEach(s,h=>{switch(e.log.debug("Twig.ParseState.parse: ","Parsing token: ",h),h.type){case e.token.type.raw:a.push(e.filters.raw(h.value));break;case e.token.type.logic:return e.logic.parseAsync.call(o,h.token,o.context,u).then(d);case e.token.type.comment:break;case e.token.type.outputWhitespacePre:case e.token.type.outputWhitespacePost:case e.token.type.outputWhitespaceBoth:case e.token.type.output:return e.log.debug("Twig.ParseState.parse: ","Output token: ",h.stack),e.expression.parseAsync.call(o,h.stack,o.context).then(f);default:break}}).then(()=>(a=e.output.call(o.template,a),c=!1,a)).catch(h=>{i&&n(o,h),l=h}),i)return p;if(l!==null)return n(o,l);if(c)throw new e.Error("You are using Twig.js in sync mode in combination with async extensions.");return a},e.Template=function(s){const{data:r,id:i,base:o,path:a,url:l,name:c,method:p,options:u}=s;this.base=o,this.blocks={defined:{},imported:{}},this.id=i,this.method=p,this.name=c,this.options=u,this.parentTemplate=null,this.path=a,this.url=l,t("String",r)?this.tokens=e.prepare.call(this,r):this.tokens=r,i!==void 0&&e.Templates.save(this)},e.Template.prototype.getBlock=function(s,r,i=!0){let o;return r!==!0&&(o=this.blocks.defined[s]),i&&o===void 0&&(o=this.blocks.imported[s]),o===void 0&&this.parentTemplate!==null&&(o=this.parentTemplate.getBlock(s,r,i=!1)),o},e.Template.prototype.getBlocks=function(){let s={};return s={...s,...this.blocks.imported,...this.blocks.defined},s},e.Template.prototype.render=function(s,r,i){const o=this;return r=r||{},e.async.potentiallyAsync(o,i,()=>{const a=new e.ParseState(o,r.blocks,s);return a.parseAsync(o.tokens).then(l=>{let c,p;return o.parentTemplate!==null?(o.options.allowInlineIncludes&&(c=e.Templates.load(o.parentTemplate),c&&(c.options=o.options)),c||(p=e.path.parsePath(o,o.parentTemplate),c=e.Templates.loadRemote(p,{method:o.getLoaderMethod(),base:o.base,async:!1,id:p,options:o.options})),o.parentTemplate=c,o.parentTemplate.renderAsync(a.context,{blocks:a.getBlocks(!1),isInclude:!0})):r.isInclude===!0?l:l.valueOf()})})},e.Template.prototype.importFile=function(s){let r=null,i;if(!this.url&&this.options.allowInlineIncludes){if(s=this.path?e.path.parsePath(this,s):s,i=e.Templates.load(s),!i&&(i=e.Templates.loadRemote(r,{id:s,method:this.getLoaderMethod(),async:!1,path:s,options:this.options}),!i))throw new e.Error("Unable to find the template "+s);return i.options=this.options,i}return r=e.path.parsePath(this,s),i=e.Templates.loadRemote(r,{method:this.getLoaderMethod(),base:this.base,async:!1,options:this.options,id:r}),i},e.Template.prototype.getLoaderMethod=function(){return this.path?"fs":this.url?"ajax":this.method||"fs"},e.Template.prototype.compile=function(s){return e.compiler.compile(this,s)},e.Markup=function(s,r){if(typeof s!="string")return s;const i=new String(s);return i.twigMarkup=typeof r>"u"?!0:r,i},e}),mt}var yt,$n;function qo(){return $n||($n=1,yt=function(e){return e.compiler={module:{}},e.compiler.compile=function(n,t){const s=JSON.stringify(n.tokens),{id:r}=n;let i=null;if(t.module){if(e.compiler.module[t.module]===void 0)throw new e.Error("Unable to find module type "+t.module);i=e.compiler.module[t.module](r,s,t.twig)}else i=e.compiler.wrap(r,s);return i},e.compiler.module={amd(n,t,s){return'define(["'+s+`"], function (Twig) {
	var twig, templates;
twig = Twig.twig;
templates = `+e.compiler.wrap(n,t)+`
	return templates;
});`},node(n,t){return`var twig = require("twig").twig;
exports.template = `+e.compiler.wrap(n,t)},cjs2(n,t,s){return'module.declare([{ twig: "'+s+`" }], function (require, exports, module) {
	var twig = require("twig").twig;
	exports.template = `+e.compiler.wrap(n,t)+`
});`}},e.compiler.wrap=function(n,t){return'twig({id:"'+n.replace('"','\\"')+'", data:'+t+`, precompiled: true});
`},e}),yt}var gt,Nn;function Bo(){return Nn||(Nn=1,gt=function(e){"use strict";e.expression.operator={leftToRight:"leftToRight",rightToLeft:"rightToLeft"};const n=function(t,s){if(s==null)return null;if(s.indexOf!==void 0)return(t===s||t!=="")&&s.includes(t);let r;for(r in s)if(Object.hasOwnProperty.call(s,r)&&s[r]===t)return!0;return!1};return e.expression.operator.lookup=function(t,s){switch(t){case"..":s.precidence=20,s.associativity=e.expression.operator.leftToRight;break;case",":s.precidence=18,s.associativity=e.expression.operator.leftToRight;break;case"?:":case"?":case":":s.precidence=16,s.associativity=e.expression.operator.rightToLeft;break;case"??":s.precidence=15,s.associativity=e.expression.operator.rightToLeft;break;case"or":s.precidence=14,s.associativity=e.expression.operator.leftToRight;break;case"and":s.precidence=13,s.associativity=e.expression.operator.leftToRight;break;case"b-or":s.precidence=12,s.associativity=e.expression.operator.leftToRight;break;case"b-xor":s.precidence=11,s.associativity=e.expression.operator.leftToRight;break;case"b-and":s.precidence=10,s.associativity=e.expression.operator.leftToRight;break;case"==":case"!=":s.precidence=9,s.associativity=e.expression.operator.leftToRight;break;case"<=>":s.precidence=9,s.associativity=e.expression.operator.leftToRight;break;case"<":case"<=":case">":case">=":case"not in":case"in":s.precidence=8,s.associativity=e.expression.operator.leftToRight;break;case"~":case"+":case"-":s.precidence=6,s.associativity=e.expression.operator.leftToRight;break;case"//":case"**":case"*":case"/":case"%":s.precidence=5,s.associativity=e.expression.operator.leftToRight;break;case"not":s.precidence=3,s.associativity=e.expression.operator.rightToLeft;break;case"matches":s.precidence=8,s.associativity=e.expression.operator.leftToRight;break;case"starts with":s.precidence=8,s.associativity=e.expression.operator.leftToRight;break;case"ends with":s.precidence=8,s.associativity=e.expression.operator.leftToRight;break;default:throw new e.Error("Failed to lookup operator: "+t+" is an unknown operator.")}return s.operator=t,s},e.expression.operator.parse=function(t,s){e.log.trace("Twig.expression.operator.parse: ","Handling ",t);let r,i,o;if(t==="?"&&(o=s.pop()),i=s.pop(),t!=="not"&&(r=s.pop()),t!=="in"&&t!=="not in"&&t!=="??"&&(r&&Array.isArray(r)&&(r=r.length),t!=="?"&&i&&Array.isArray(i)&&(i=i.length)),t==="matches"&&i&&typeof i=="string"){const a=i.match(/^\/(.*)\/([gims]?)$/),l=a[1],c=a[2];i=new RegExp(l,c)}switch(t){case":":break;case"??":r===void 0&&(r=i,i=o,o=void 0),r!=null?s.push(r):s.push(i);break;case"?:":e.lib.boolval(r)?s.push(r):s.push(i);break;case"?":r===void 0&&(r=i,i=o,o=void 0),e.lib.boolval(r)?s.push(i):s.push(o);break;case"+":i=parseFloat(i),r=parseFloat(r),s.push(r+i);break;case"-":i=parseFloat(i),r=parseFloat(r),s.push(r-i);break;case"*":i=parseFloat(i),r=parseFloat(r),s.push(r*i);break;case"/":i=parseFloat(i),r=parseFloat(r),s.push(r/i);break;case"//":i=parseFloat(i),r=parseFloat(r),s.push(Math.floor(r/i));break;case"%":i=parseFloat(i),r=parseFloat(r),s.push(r%i);break;case"~":s.push((typeof r<"u"&&r!==null?r.toString():"")+(typeof i<"u"&&i!==null?i.toString():""));break;case"not":case"!":s.push(!e.lib.boolval(i));break;case"<=>":s.push(r===i?0:r<i?-1:1);break;case"<":s.push(r<i);break;case"<=":s.push(r<=i);break;case">":s.push(r>i);break;case">=":s.push(r>=i);break;case"===":s.push(r===i);break;case"==":s.push(r==i);break;case"!==":s.push(r!==i);break;case"!=":s.push(r!=i);break;case"or":s.push(e.lib.boolval(r)||e.lib.boolval(i));break;case"b-or":s.push(r|i);break;case"b-xor":s.push(r^i);break;case"and":s.push(e.lib.boolval(r)&&e.lib.boolval(i));break;case"b-and":s.push(r&i);break;case"**":s.push(r**i);break;case"not in":s.push(!n(r,i));break;case"in":s.push(n(r,i));break;case"matches":s.push(i.test(r));break;case"starts with":s.push(typeof r=="string"&&r.indexOf(i)===0);break;case"ends with":s.push(typeof r=="string"&&r.includes(i,r.length-i.length));break;case"..":s.push(e.functions.range(r,i));break;default:throw new e.Error("Failed to parse operator: "+t+" is an unknown operator.")}},e}),gt}var bt,Dn;function Uo(){return Dn||(Dn=1,bt=function(e){"use strict";function n(t,s,r){return s?e.expression.parseAsync.call(t,s,r):e.Promise.resolve(!1)}for(e.expression={},Bo()(e),e.expression.reservedWords=["true","false","null","TRUE","FALSE","NULL","_context","and","b-and","or","b-or","b-xor","in","not in","if","matches","starts","ends","with"],e.expression.type={comma:"Twig.expression.type.comma",operator:{unary:"Twig.expression.type.operator.unary",binary:"Twig.expression.type.operator.binary"},string:"Twig.expression.type.string",bool:"Twig.expression.type.bool",slice:"Twig.expression.type.slice",array:{start:"Twig.expression.type.array.start",end:"Twig.expression.type.array.end"},object:{start:"Twig.expression.type.object.start",end:"Twig.expression.type.object.end"},parameter:{start:"Twig.expression.type.parameter.start",end:"Twig.expression.type.parameter.end"},subexpression:{start:"Twig.expression.type.subexpression.start",end:"Twig.expression.type.subexpression.end"},key:{period:"Twig.expression.type.key.period",brackets:"Twig.expression.type.key.brackets"},filter:"Twig.expression.type.filter",_function:"Twig.expression.type._function",variable:"Twig.expression.type.variable",number:"Twig.expression.type.number",_null:"Twig.expression.type.null",context:"Twig.expression.type.context",test:"Twig.expression.type.test"},e.expression.set={operations:[e.expression.type.filter,e.expression.type.operator.unary,e.expression.type.operator.binary,e.expression.type.array.end,e.expression.type.object.end,e.expression.type.parameter.end,e.expression.type.subexpression.end,e.expression.type.comma,e.expression.type.test],expressions:[e.expression.type._function,e.expression.type.bool,e.expression.type.string,e.expression.type.variable,e.expression.type.number,e.expression.type._null,e.expression.type.context,e.expression.type.parameter.start,e.expression.type.array.start,e.expression.type.object.start,e.expression.type.subexpression.start,e.expression.type.operator.unary]},e.expression.set.operationsExtended=e.expression.set.operations.concat([e.expression.type.key.period,e.expression.type.key.brackets,e.expression.type.slice]),e.expression.fn={compile:{push(t,s,r){r.push(t)},pushBoth(t,s,r){r.push(t),s.push(t)}},parse:{push(t,s){s.push(t)},pushValue(t,s){s.push(t.value)}}},e.expression.definitions=[{type:e.expression.type.test,regex:/^is\s+(not)?\s*([a-zA-Z_]\w*(\s?(?:as|by))?)/,next:e.expression.set.operations.concat([e.expression.type.parameter.start]),compile(t,s,r){t.filter=t.match[2],t.modifier=t.match[1],delete t.match,delete t.value,r.push(t)},parse(t,s,r){const i=s.pop();return n(this,t.params,r).then(a=>{const l=e.test(t.filter,i,a);t.modifier==="not"?s.push(!l):s.push(l)})}},{type:e.expression.type.comma,regex:/^,/,next:e.expression.set.expressions.concat([e.expression.type.array.end,e.expression.type.object.end]),compile(t,s,r){let i=s.length-1,o;for(delete t.match,delete t.value;i>=0;i--){if(o=s.pop(),o.type===e.expression.type.object.start||o.type===e.expression.type.parameter.start||o.type===e.expression.type.array.start){s.push(o);break}r.push(o)}r.push(t)}},{type:e.expression.type.number,regex:/^-?\d+(\.\d+)?/,next:e.expression.set.operations,compile(t,s,r){t.value=Number(t.value),r.push(t)},parse:e.expression.fn.parse.pushValue},{type:e.expression.type.operator.binary,regex:/(^\?\?|^\?:|^(b-and)|^(b-or)|^(b-xor)|^[+\-~%?]|^(<=>)|^[:](?!\d\])|^[!=]==?|^[!<>]=?|^\*\*?|^\/\/?|^(and)[(|\s+]|^(or)[(|\s+]|^(in)[(|\s+]|^(not in)[(|\s+]|^(matches)|^(starts with)|^(ends with)|^\.\.)/,next:e.expression.set.expressions,transform(t,s){switch(t[0]){case"and(":case"or(":case"in(":case"not in(":return s[s.length-1].value=t[2],t[0];default:return""}},compile(t,s,r){delete t.match,t.value=t.value.trim();const{value:i}=t,o=e.expression.operator.lookup(i,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",o," from ",i);s.length>0&&(s[s.length-1].type===e.expression.type.operator.unary||s[s.length-1].type===e.expression.type.operator.binary)&&(o.associativity===e.expression.operator.leftToRight&&o.precidence>=s[s.length-1].precidence||o.associativity===e.expression.operator.rightToLeft&&o.precidence>s[s.length-1].precidence);){const a=s.pop();r.push(a)}if(i===":"){if(!(s[s.length-1]&&s[s.length-1].value==="?")){const a=r.pop();if(a.type===e.expression.type.string||a.type===e.expression.type.variable)t.key=a.value;else if(a.type===e.expression.type.number)t.key=a.value.toString();else if(a.expression&&(a.type===e.expression.type.parameter.end||a.type===e.expression.type.subexpression.end))t.params=a.params;else throw new e.Error("Unexpected value before ':' of "+a.type+" = "+a.value);r.push(t)}}else s.push(o)},parse(t,s,r){const i=this;if(t.key)s.push(t);else{if(t.params)return e.expression.parseAsync.call(i,t.params,r).then(o=>{t.key=o,s.push(t),r.loop||delete t.params});e.expression.operator.parse(t.value,s)}}},{type:e.expression.type.operator.unary,regex:/(^not\s+)/,next:e.expression.set.expressions,compile(t,s,r){delete t.match,t.value=t.value.trim();const{value:i}=t,o=e.expression.operator.lookup(i,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",o," from ",i);s.length>0&&(s[s.length-1].type===e.expression.type.operator.unary||s[s.length-1].type===e.expression.type.operator.binary)&&(o.associativity===e.expression.operator.leftToRight&&o.precidence>=s[s.length-1].precidence||o.associativity===e.expression.operator.rightToLeft&&o.precidence>s[s.length-1].precidence);){const a=s.pop();r.push(a)}s.push(o)},parse(t,s){e.expression.operator.parse(t.value,s)}},{type:e.expression.type.string,regex:/^(["'])(?:(?=(\\?))\2[\s\S])*?\1/,next:e.expression.set.operationsExtended,compile(t,s,r){let{value:i}=t;delete t.match,i.slice(0,1)==='"'?i=i.replace('\\"','"'):i=i.replace("\\'","'"),t.value=i.slice(1,-1).replace(/\\n/g,`
`).replace(/\\r/g,"\r"),e.log.trace("Twig.expression.compile: ","String value: ",t.value),r.push(t)},parse:e.expression.fn.parse.pushValue},{type:e.expression.type.subexpression.start,regex:/^\(/,next:e.expression.set.expressions.concat([e.expression.type.subexpression.end]),compile(t,s,r){t.value="(",r.push(t),s.push(t)},parse:e.expression.fn.parse.push},{type:e.expression.type.subexpression.end,regex:/^\)/,next:e.expression.set.operationsExtended,validate(t,s){let r=s.length-1,i=!1,o=!1,a=0;for(;!i&&r>=0;){const l=s[r];i=l.type===e.expression.type.subexpression.start,i&&o&&(o=!1,i=!1),l.type===e.expression.type.parameter.start?a++:l.type===e.expression.type.parameter.end?a--:l.type===e.expression.type.subexpression.end&&(o=!0),r--}return i&&a===0},compile(t,s,r){let i;const o=t;for(i=s.pop();s.length>0&&i.type!==e.expression.type.subexpression.start;)r.push(i),i=s.pop();const a=[];for(;t.type!==e.expression.type.subexpression.start;)a.unshift(t),t=r.pop();a.unshift(t),i=s[s.length-1],i===void 0||i.type!==e.expression.type._function&&i.type!==e.expression.type.filter&&i.type!==e.expression.type.test&&i.type!==e.expression.type.key.brackets?(o.expression=!0,a.pop(),a.shift(),o.params=a,r.push(o)):(o.expression=!1,i.params=a)},parse(t,s,r){const i=this;if(t.expression)return e.expression.parseAsync.call(i,t.params,r).then(o=>{s.push(o)});throw new e.Error("Unexpected subexpression end when token is not marked as an expression")}},{type:e.expression.type.parameter.start,regex:/^\(/,next:e.expression.set.expressions.concat([e.expression.type.parameter.end]),validate(t,s){const r=s[s.length-1];return r&&!e.expression.reservedWords.includes(r.value.trim())},compile:e.expression.fn.compile.pushBoth,parse:e.expression.fn.parse.push},{type:e.expression.type.parameter.end,regex:/^\)/,next:e.expression.set.operationsExtended,compile(t,s,r){let i;const o=t;for(i=s.pop();s.length>0&&i.type!==e.expression.type.parameter.start;)r.push(i),i=s.pop();const a=[];for(;t.type!==e.expression.type.parameter.start;)a.unshift(t),t=r.pop();a.unshift(t),t=r[r.length-1],t===void 0||t.type!==e.expression.type._function&&t.type!==e.expression.type.filter&&t.type!==e.expression.type.test&&t.type!==e.expression.type.key.brackets?(o.expression=!0,a.pop(),a.shift(),o.params=a,r.push(o)):(o.expression=!1,t.params=a)},parse(t,s,r){const i=[];let o=!1,a=null;const l=this;if(t.expression)return e.expression.parseAsync.call(l,t.params,r).then(c=>{s.push(c)});for(;s.length>0;){if(a=s.pop(),a&&a.type&&a.type===e.expression.type.parameter.start){o=!0;break}i.unshift(a)}if(!o)throw new e.Error("Expected end of parameter set.");s.push(i)}},{type:e.expression.type.slice,regex:/^\[(-?\w*:-?\w*)\]/,next:e.expression.set.operationsExtended,compile(t,s,r){const i=t.match[1].split(":"),o=i[0],a=i[1];t.value="slice",t.params=[o,a],a||(t.params=[o]),r.push(t)},parse(t,s,r){const i=s.pop();let{params:o}=t;const a=this;if(parseInt(o[0],10).toString()===o[0])o[0]=parseInt(o[0],10);else{const l=r[o[0]];if(a.template.options.strictVariables&&l===void 0)throw new e.Error('Variable "'+o[0]+'" does not exist.');o[0]=l}if(o[1])if(parseInt(o[1],10).toString()===o[1])o[1]=parseInt(o[1],10);else{const l=r[o[1]];if(a.template.options.strictVariables&&l===void 0)throw new e.Error('Variable "'+o[1]+'" does not exist.');l===void 0?o=[o[0]]:o[1]=l}s.push(e.filter.call(a,t.value,i,o))}},{type:e.expression.type.array.start,regex:/^\[/,next:e.expression.set.expressions.concat([e.expression.type.array.end]),compile:e.expression.fn.compile.pushBoth,parse:e.expression.fn.parse.push},{type:e.expression.type.array.end,regex:/^\]/,next:e.expression.set.operationsExtended,compile(t,s,r){let i=s.length-1,o;for(;i>=0&&(o=s.pop(),o.type!==e.expression.type.array.start);i--)r.push(o);r.push(t)},parse(t,s){const r=[];let i=!1,o=null;for(;s.length>0;){if(o=s.pop(),o&&o.type&&o.type===e.expression.type.array.start){i=!0;break}r.unshift(o)}if(!i)throw new e.Error("Expected end of array.");s.push(r)}},{type:e.expression.type.object.start,regex:/^\{/,next:e.expression.set.expressions.concat([e.expression.type.object.end]),compile:e.expression.fn.compile.pushBoth,parse:e.expression.fn.parse.push},{type:e.expression.type.object.end,regex:/^\}/,next:e.expression.set.operationsExtended,compile(t,s,r){let i=s.length-1,o;for(;i>=0&&(o=s.pop(),!(o&&o.type===e.expression.type.object.start));i--)r.push(o);r.push(t)},parse(t,s){const r={};let i=!1,o=null,a=!1,l=null;for(;s.length>0;){if(o=s.pop(),o&&o.type&&o.type===e.expression.type.object.start){i=!0;break}if(o&&o.type&&(o.type===e.expression.type.operator.binary||o.type===e.expression.type.operator.unary)&&o.key){if(!a)throw new e.Error("Missing value for key '"+o.key+"' in object definition.");r[o.key]=l,r._keys===void 0&&(r._keys=[]),r._keys.unshift(o.key),l=null,a=!1}else a=!0,l=o}if(!i)throw new e.Error("Unexpected end of object.");s.push(r)}},{type:e.expression.type.filter,regex:/^\|\s?([a-zA-Z_][a-zA-Z0-9_-]*)/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile(t,s,r){t.value=t.match[1],r.push(t)},parse(t,s,r){const i=s.pop(),o=this;return n(o,t.params,r).then(a=>e.filter.call(o,t.value,i,a)).then(a=>{s.push(a)})}},{type:e.expression.type._function,regex:/^([a-zA-Z_]\w*)\s*\(/,next:e.expression.type.parameter.start,validate(t){return t[1]&&!e.expression.reservedWords.includes(t[1])},transform(){return"("},compile(t,s,r){const i=t.match[1];t.fn=i,delete t.match,delete t.value,r.push(t)},parse(t,s,r){const i=this,{fn:o}=t;let a;return n(i,t.params,r).then(l=>{if(e.functions[o])a=e.functions[o].apply(i,l);else if(typeof r[o]=="function")a=r[o](...l);else throw new e.Error(o+" function does not exist and is not defined in the context");return a}).then(l=>{s.push(l)})}},{type:e.expression.type.variable,regex:/^[a-zA-Z_]\w*/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,validate(t){return!e.expression.reservedWords.includes(t[0])},parse(t,s,r){const i=this;return e.expression.resolveAsync.call(i,r[t.value],r).then(o=>{if(i.template.options.strictVariables&&o===void 0)throw new e.Error('Variable "'+t.value+'" does not exist.');s.push(o)})}},{type:e.expression.type.key.period,regex:/^\.(\w+)/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile(t,s,r){t.key=t.match[1],delete t.match,delete t.value,r.push(t)},parse(t,s,r,i){const o=this,{key:a}=t,l=s.pop();let c;if(l&&!Object.prototype.hasOwnProperty.call(l,a)&&o.template.options.strictVariables)throw Object.keys(l).length>0?new e.Error('Key "'+a+'" for object with keys "'+Object.keys(l).join(", ")+'" does not exist.'):new e.Error('Key "'+a+'" does not exist as the object is empty.');return n(o,t.params,r).then(p=>{if(l==null)c=void 0;else{const u=function(f){return f.slice(0,1).toUpperCase()+f.slice(1)};typeof l=="object"&&a in l?c=l[a]:l["get"+u(a)]?c=l["get"+u(a)]:l["is"+u(a)]?c=l["is"+u(a)]:c=void 0}return e.expression.resolveAsync.call(o,c,r,p,i,l)}).then(p=>{s.push(p)})}},{type:e.expression.type.key.brackets,regex:/^\[([^\]]*)\]/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile(t,s,r){const i=t.match[1];delete t.value,delete t.match,t.stack=e.expression.compile({value:i}).stack,r.push(t)},parse(t,s,r,i){const o=this;let a=null,l,c;return n(o,t.params,r).then(p=>(a=p,e.expression.parseAsync.call(o,t.stack,r))).then(p=>{if(l=s.pop(),l&&!Object.prototype.hasOwnProperty.call(l,p)&&o.template.options.strictVariables){const u=Object.keys(l);throw u.length>0?new e.Error('Key "'+p+'" for array with keys "'+u.join(", ")+'" does not exist.'):new e.Error('Key "'+p+'" does not exist as the array is empty.')}else if(l==null)return null;return typeof l=="object"&&p in l?c=l[p]:c=null,e.expression.resolveAsync.call(o,c,l,a,i)}).then(p=>{s.push(p)})}},{type:e.expression.type._null,regex:/^(null|NULL|none|NONE)/,next:e.expression.set.operations,compile(t,s,r){delete t.match,t.value=null,r.push(t)},parse:e.expression.fn.parse.pushValue},{type:e.expression.type.context,regex:/^_context/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,parse(t,s,r){s.push(r)}},{type:e.expression.type.bool,regex:/^(true|TRUE|false|FALSE)/,next:e.expression.set.operations,compile(t,s,r){t.value=t.match[0].toLowerCase()==="true",delete t.match,r.push(t)},parse:e.expression.fn.parse.pushValue}],e.expression.resolveAsync=function(t,s,r,i,o){const a=this;if(typeof t!="function")return e.Promise.resolve(t);let l=e.Promise.resolve(r);return i&&i.type===e.expression.type.parameter.end&&(l=l.then(()=>i.params&&e.expression.parseAsync.call(a,i.params,s,!0)).then(p=>(i.cleanup=!0,p))),l.then(c=>t.apply(o||s,c||[]))},e.expression.resolve=function(t,s,r,i,o){return e.async.potentiallyAsync(this,!1,function(){return e.expression.resolveAsync.call(this,t,s,r,i,o)})},e.expression.handler={},e.expression.extendType=function(t){e.expression.type[t]="Twig.expression.type."+t},e.expression.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.expression.handler[t.type]=t};e.expression.definitions.length>0;)e.expression.extend(e.expression.definitions.shift());return e.expression.tokenize=function(t){let s=t.value;const r=[];let i=0,o=null,a,l,c,p,u,f=[];const d=function(...h){let m=arguments.length-2;const b=new Array(m);for(;m-- >0;)b[m]=h[m];if(e.log.trace("Twig.expression.tokenize","Matched a ",a," regular expression of ",b),o&&!o.includes(a))return f.push(a+" cannot follow a "+r[r.length-1].type+" at template:"+i+" near '"+b[0].slice(0,20)+"...'"),b[0];const x=e.expression.handler[a];if(x.validate&&!x.validate(b,r))return b[0];f=[];const w={type:a,value:b[0],match:b};return t.position&&(w.position=t.position),r.push(w),u=!0,o=p,i+=b[0].length,x.transform?x.transform(b,r):""};for(e.log.debug("Twig.expression.tokenize","Tokenizing expression ",s);s.length>0;){s=s.trim();for(a in e.expression.handler)if(Object.hasOwnProperty.call(e.expression.handler,a)){if(p=e.expression.handler[a].next,l=e.expression.handler[a].regex,e.log.trace("Checking type ",a," on ",s),u=!1,Array.isArray(l))for(c=l.length;c-- >0;)s=s.replace(l[c],d);else s=s.replace(l,d);if(u)break}if(!u)throw f.length>0?new e.Error(f.join(" OR ")):new e.Error("Unable to parse '"+s+"' at template position"+i)}return e.log.trace("Twig.expression.tokenize","Tokenized to ",r),r},e.expression.compile=function(t){const s=e.expression.tokenize(t);let r=null;const i=[],o=[];let a=null;for(e.log.trace("Twig.expression.compile: ","Compiling ",t.value);s.length>0;)r=s.shift(),a=e.expression.handler[r.type],e.log.trace("Twig.expression.compile: ","Compiling ",r),a.compile(r,o,i),e.log.trace("Twig.expression.compile: ","Stack is",o),e.log.trace("Twig.expression.compile: ","Output is",i);for(;o.length>0;)i.push(o.pop());return e.log.trace("Twig.expression.compile: ","Final output is",i),t.stack=i,delete t.value,t},e.expression.parse=function(t,s,r,i){const o=this;Array.isArray(t)||(t=[t]);const a=[],l=[],c=e.expression.type.operator.binary;return e.async.potentiallyAsync(o,i,()=>e.async.forEach(t,(p,u)=>{let f=null,d=null,h;if(!p.cleanup)return t.length>u+1&&(d=t[u+1]),f=e.expression.handler[p.type],f.parse&&(h=f.parse.call(o,p,a,s,d)),p.type===c&&s.loop&&l.push(p),h}).then(()=>{let p=l.length,u=null;for(;p-- >0;)u=l[p],u.params&&u.key&&delete u.key;if(r){const f=a.splice(0);a.push(f)}return a.pop()}))},e}),bt}var xt,Mn;function Vo(){return Mn||(Mn=1,xt=function(e){function n(t,s){const r=Object.prototype.toString.call(s).slice(8,-1);return s!=null&&r===t}return e.filters={upper(t){return typeof t!="string"?t:t.toUpperCase()},lower(t){return typeof t!="string"?t:t.toLowerCase()},capitalize(t){return typeof t!="string"?t:t.slice(0,1).toUpperCase()+t.toLowerCase().slice(1)},title(t){return typeof t!="string"?t:t.toLowerCase().replace(/(^|\s)([a-z])/g,(s,r,i)=>r+i.toUpperCase())},length(t){return e.lib.is("Array",t)||typeof t=="string"?t.length:e.lib.is("Object",t)?t._keys===void 0?Object.keys(t).length:t._keys.length:0},reverse(t){if(n("Array",t))return t.reverse();if(n("String",t))return t.split("").reverse().join("");if(n("Object",t)){const s=t._keys||Object.keys(t).reverse();return t._keys=s,t}},sort(t){if(n("Array",t))return t.sort();if(n("Object",t)){delete t._keys;const r=Object.keys(t).sort((i,o)=>{let a,l;return t[i]>t[o]==!(t[i]<=t[o])?t[i]>t[o]?1:t[i]<t[o]?-1:0:!isNaN(a=parseFloat(t[i]))&&!isNaN(l=parseFloat(t[o]))?a>l?1:a<l?-1:0:typeof t[i]=="string"?t[i]>t[o].toString()?1:t[i]<t[o].toString()?-1:0:typeof t[o]=="string"?t[i].toString()>t[o]?1:t[i].toString()<t[o]?-1:0:null});return t._keys=r,t}},keys(t){if(t==null)return;const s=t._keys||Object.keys(t),r=[];return s.forEach(i=>{i!=="_keys"&&Object.hasOwnProperty.call(t,i)&&r.push(i)}),r},url_encode(t){if(t==null)return;if(e.lib.is("Object",t)){const r=function(i,o){const a=[];return(i._keys||Object.keys(i)).forEach(c=>{if(!Object.prototype.hasOwnProperty.call(i,c))return;const p=o?o+"["+c+"]":c,u=i[c];a.push(e.lib.is("Object",u)||Array.isArray(u)?r(u,p):encodeURIComponent(p)+"="+encodeURIComponent(u))}),a.join("&amp;")};return r(t)}let s=encodeURIComponent(t);return s=s.replace("'","%27"),s},join(t,s){if(t==null)return;let r="",i=[],o=null;return s&&s[0]&&(r=s[0]),n("Array",t)?i=t:(o=t._keys||Object.keys(t),o.forEach(a=>{a!=="_keys"&&Object.hasOwnProperty.call(t,a)&&i.push(t[a])})),i.join(r)},default(t,s){if(s!==void 0&&s.length>1)throw new e.Error("default filter expects one argument");return t==null||t===""?s===void 0?"":s[0]:t},json_encode(t){if(t==null)return"null";if(typeof t=="object"&&n("Array",t)){const s=[];return t.forEach(r=>{s.push(e.filters.json_encode(r))}),"["+s.join(",")+"]"}if(typeof t=="object"&&n("Date",t))return'"'+t.toISOString()+'"';if(typeof t=="object"){const s=t._keys||Object.keys(t),r=[];return s.forEach(i=>{r.push(JSON.stringify(i)+":"+e.filters.json_encode(t[i]))}),"{"+r.join(",")+"}"}return JSON.stringify(t)},merge(t,s){let r=[],i=0,o=[];if(n("Array",t)?s.forEach(a=>{n("Array",a)||(r={})}):r={},n("Array",r)||(r._keys=[]),n("Array",t)?t.forEach(a=>{r._keys&&r._keys.push(i),r[i]=a,i++}):(o=t._keys||Object.keys(t),o.forEach(a=>{r[a]=t[a],r._keys.push(a);const l=parseInt(a,10);!isNaN(l)&&l>=i&&(i=l+1)})),s.forEach(a=>{n("Array",a)?a.forEach(l=>{r._keys&&r._keys.push(i),r[i]=l,i++}):(o=a._keys||Object.keys(a),o.forEach(l=>{r[l]||r._keys.push(l),r[l]=a[l];const c=parseInt(l,10);!isNaN(c)&&c>=i&&(i=c+1)}))}),s.length===0)throw new e.Error("Filter merge expects at least one parameter");return r},date(t,s){const r=e.functions.date(t),i=s&&s.length?s[0]:"F j, Y H:i";return e.lib.date(i.replace(/\\\\/g,"\\"),r)},date_modify(t,s){if(t==null)return;if(s===void 0||s.length!==1)throw new e.Error("date_modify filter expects 1 argument");const r=s[0];let i;return e.lib.is("Date",t)&&(i=e.lib.strtotime(r,t.getTime()/1e3)),e.lib.is("String",t)&&(i=e.lib.strtotime(r,e.lib.strtotime(t))),e.lib.is("Number",t)&&(i=e.lib.strtotime(r,t)),new Date(i*1e3)},replace(t,s){if(t==null)return;const r=s[0];let i;for(i in r)Object.hasOwnProperty.call(r,i)&&i!=="_keys"&&(t=e.lib.replaceAll(t,i,r[i]));return t},format(t,s){if(t!=null)return e.lib.vsprintf(t,s)},striptags(t,s){if(t!=null)return e.lib.stripTags(t,s)},escape(t,s){if(t==null||t==="")return;let r="html";if(s&&s.length&&s[0]!==!0&&(r=s[0]),r==="html"){const i=t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return new e.Markup(i,"html")}if(r==="js"){const i=t.toString();let o="";for(let a=0;a<i.length;a++)if(i[a].match(/^[a-zA-Z0-9,._]$/))o+=i[a];else{const l=i.charAt(a),c=i.charCodeAt(a),p={"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};p[l]?o+=p[l]:o+=e.lib.sprintf("\\u%04s",c.toString(16).toUpperCase())}return new e.Markup(o,"js")}if(r==="css"){const i=t.toString();let o="";for(let a=0;a<i.length;a++)if(i[a].match(/^[a-zA-Z0-9]$/))o+=i[a];else{const l=i.charCodeAt(a);o+="\\"+l.toString(16).toUpperCase()+" "}return new e.Markup(o,"css")}if(r==="url"){const i=e.filters.url_encode(t);return new e.Markup(i,"url")}if(r==="html_attr"){const i=t.toString();let o="";for(let a=0;a<i.length;a++)if(i[a].match(/^[a-zA-Z0-9,.\-_]$/))o+=i[a];else if(i[a].match(/^[&<>"]$/))o+=i[a].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");else{const l=i.charCodeAt(a);l<=31&&l!==9&&l!==10&&l!==13?o+="&#xFFFD;":l<128?o+=e.lib.sprintf("&#x%02s;",l.toString(16).toUpperCase()):o+=e.lib.sprintf("&#x%04s;",l.toString(16).toUpperCase())}return new e.Markup(o,"html_attr")}throw new e.Error("escape strategy unsupported")},e(t,s){return e.filters.escape(t,s)},nl2br(t){if(t==null||t==="")return;const s="BACKSLASH_n_replace",r="<br />"+s;return t=e.filters.escape(t).replace(/\r\n/g,r).replace(/\r/g,r).replace(/\n/g,r),t=e.lib.replaceAll(t,s,`
`),new e.Markup(t)},number_format(t,s){let r=t;const i=s&&s[0]?s[0]:void 0,o=s&&s[1]!==void 0?s[1]:".",a=s&&s[2]!==void 0?s[2]:",";r=String(r).replace(/[^0-9+\-Ee.]/g,"");const l=isFinite(Number(r))?Number(r):0,c=isFinite(Number(i))?Math.abs(i):0;let p="";return p=(c?function(f,d){const h=10**d;return String(Math.round(f*h)/h)}(l,c):String(Math.round(l))).split("."),p[0].length>3&&(p[0]=p[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,a)),(p[1]||"").length<c&&(p[1]=p[1]||"",p[1]+=new Array(c-p[1].length+1).join("0")),p.join(o)},trim(t,s){if(t==null)return;let r=String(t),i;s&&s[0]?i=String(s[0]):i=` 
\r	\f\v\u2028\u2029`;for(let o=0;o<r.length;o++)if(!i.includes(r.charAt(o))){r=r.slice(Math.max(0,o));break}for(let o=r.length-1;o>=0;o--)if(!i.includes(r.charAt(o))){r=r.slice(0,Math.max(0,o+1));break}return i.includes(r.charAt(0))?"":r},truncate(t,s){let r=30,i=!1,o="...";if(t=String(t),s&&(s[0]&&(r=s[0]),s[1]&&(i=s[1]),s[2]&&(o=s[2])),t.length>r){if(i&&(r=t.indexOf(" ",r),r===-1))return t;t=t.slice(0,r)+o}return t},slice(t,s){if(t==null)return;if(s===void 0||s.length===0)throw new e.Error("slice filter expects at least 1 argument");const r=s[0]||0;let i=s.length>1?s[1]:t.length;const o=r>=0?r:Math.max(t.length+r,0);if(i<0&&(i=t.length-o+i),e.lib.is("Array",t)){const a=[];for(let l=o;l<o+i&&l<t.length;l++)a.push(t[l]);return a}if(e.lib.is("String",t))return t.slice(o,o+i);throw new e.Error("slice filter expects value to be an array or string")},abs(t){if(t!=null)return Math.abs(t)},first(t){if(n("Array",t))return t[0];if(n("Object",t)){if("_keys"in t)return t[t._keys[0]]}else if(typeof t=="string")return t.slice(0,1)},split(t,s){if(t!=null){if(s===void 0||s.length===0||s.length>2)throw new e.Error("split filter expects 1 or 2 argument");if(e.lib.is("String",t)){const r=s[0],i=s[1],o=t.split(r);if(i===void 0)return o;if(i<0)return t.split(r,o.length+i);const a=[];if(r==="")for(;o.length>0;){let l="";for(let c=0;c<i&&o.length>0;c++)l+=o.shift();a.push(l)}else{for(let l=0;l<i-1&&o.length>0;l++)a.push(o.shift());o.length>0&&a.push(o.join(r))}return a}throw new e.Error("split filter expects value to be a string")}},last(t){if(e.lib.is("Object",t)){let s;return t._keys===void 0?s=Object.keys(t):s=t._keys,t[s[s.length-1]]}return e.lib.is("Number",t)?t.toString().slice(-1):t[t.length-1]},raw(t){return new e.Markup(t||"")},batch(t,s){let r=s.shift();const i=s.shift();let o,a;if(!e.lib.is("Array",t))throw new e.Error("batch filter expects items to be an array");if(!e.lib.is("Number",r))throw new e.Error("batch filter expects size to be a number");r=Math.ceil(r);const l=e.lib.chunkArray(t,r);if(i&&t.length%r!==0){for(o=l.pop(),a=r-o.length;a--;)o.push(i);l.push(o)}return l},round(t,s){s=s||[];const r=s.length>0?s[0]:0,i=s.length>1?s[1]:"common";if(t=parseFloat(t),r&&!e.lib.is("Number",r))throw new e.Error("round filter expects precision to be a number");if(i==="common")return e.lib.round(t,r);if(!e.lib.is("Function",Math[i]))throw new e.Error("round filter expects method to be 'floor', 'ceil', or 'common'");return Math[i](t*10**r)/10**r},spaceless(t){return t.replace(/>\s+</g,"><").trim()}},e.filter=function(t,s,r){const i=this;if(!e.filters[t])throw new e.Error("Unable to find filter "+t);return e.filters[t].call(i,s,r)},e.filter.extend=function(t,s){e.filters[t]=s},e}),xt}var Ye={exports:{}},Ca=Ye.exports,In;function Wo(){return In||(In=1,(function(e){e.exports=function(n){const t='Template "{name}" is not defined.';return n.functions={range(s,r,i){const o=[];let a,l;const c=i||1;let p=!1;if(!isNaN(s)&&!isNaN(r)?(a=parseInt(s,10),l=parseInt(r,10)):isNaN(s)&&isNaN(r)?(p=!0,a=s.charCodeAt(0),l=r.charCodeAt(0)):(a=isNaN(s)?0:s,l=isNaN(r)?0:r),!(a>l))for(;a<=l;)o.push(p?String.fromCharCode(a):a),a+=c;else for(;a>=l;)o.push(p?String.fromCharCode(a):a),a-=c;return o},cycle(s,r){const i=r%s.length;return s[i]},dump(...s){const r=[...s],i=this,o=`
`,a="  ";let l=0,c="";const p=function(d){let h="";for(;d>0;)d--,h+=a;return h},u=function(d){c+=p(l),typeof d=="object"?f(d):typeof d=="function"?c+="function()"+o:typeof d=="string"?c+="string("+d.length+') "'+d+'"'+o:typeof d=="number"?c+="number("+d+")"+o:typeof d=="boolean"&&(c+="bool("+d+")"+o)},f=function(d){let h;if(d===null)c+="NULL"+o;else if(d===void 0)c+="undefined"+o;else if(typeof d=="object"){c+=p(l)+typeof d,l++,c+="("+(function(m){let b=0,x;for(x in m)Object.hasOwnProperty.call(m,x)&&b++;return b})(d)+") {"+o;for(h in d)Object.hasOwnProperty.call(d,h)&&(c+=p(l)+"["+h+"]=> "+o,u(d[h]));l--,c+=p(l)+"}"+o}else u(d)};return r.length===0&&r.push(i.context),r.forEach(d=>{f(d)}),c},date(s){let r;if(s==null||s==="")r=new Date;else if(n.lib.is("Date",s))r=s;else if(n.lib.is("String",s))s.match(/^\d+$/)?r=new Date(s*1e3):r=new Date(n.lib.strtotime(s)*1e3);else if(n.lib.is("Number",s))r=new Date(s*1e3);else throw new n.Error("Unable to parse date "+s);return r},block(s){const r=this,i=r.getBlock(s);if(i!==void 0)return i.render(r,r.context)},parent(){const s=this;return s.getBlock(s.getNestingStackToken(n.logic.type.block).blockName,!0).render(s,s.context)},attribute(s,r,i){return n.lib.is("Object",s)&&Object.hasOwnProperty.call(s,r)?typeof s[r]=="function"?s[r].apply(void 0,i):s[r]:s&&s[r]||void 0},max(s,...r){return n.lib.is("Object",s)?(delete s._keys,n.lib.max(s)):Reflect.apply(n.lib.max,null,[s,...r])},min(s,...r){return n.lib.is("Object",s)?(delete s._keys,n.lib.min(s)):Reflect.apply(n.lib.min,null,[s,...r])},template_from_string(s){const r=this;return s===void 0&&(s=""),n.Templates.parsers.twig({options:r.template.options,data:s})},random(s){function i(o){const a=Math.floor(Math.random()*2147483648),l=Math.min.call(null,0,o),c=Math.max.call(null,0,o);return l+Math.floor((c-l+1)*a/2147483648)}if(n.lib.is("Number",s))return i(s);if(n.lib.is("String",s))return s.charAt(i(s.length-1));if(n.lib.is("Array",s))return s[i(s.length-1)];if(n.lib.is("Object",s)){const o=Object.keys(s);return s[o[i(o.length-1)]]}return i(2147483647)},source(s,r){const i=this,{namespaces:o}=i.template.options;let a,l=!1;const c=typeof window>"u";let p,u=s;o&&typeof o=="object"&&(u=n.path.expandNamespace(o,u)),c?p="fs":p="ajax";const f={id:s,path:u,method:p,parser:"source",async:!1,fetchTemplateSource:!0};typeof r>"u"&&(r=!1);try{a=n.Templates.loadRemote(s,f),typeof a>"u"||a===null?a="":l=!0}catch(d){n.log.debug("Twig.functions.source: ","Problem loading template  ",d)}return!l&&!r?t.replace("{name}",s):a}},n._function=function(s,r,i){if(!n.functions[s])throw new n.Error("Unable to find function "+s);return n.functions[s](r,i)},n._function.extend=function(s,r){n.functions[s]=r},n}})(Ye)),Ye.exports}var vt,zn;function Sr(){return zn||(zn=1,vt=function(){var n=/%%|%(?:(\d+)\$)?((?:[-+#0 ]|'[\s\S])*)(\d+)?(?:\.(\d*))?([\s\S])/g,t=arguments,s=0,r=t[s++],i=function(u,f,d,h){d||(d=" ");var m=u.length>=f?"":new Array(1+f-u.length>>>0).join(d);return h?u+m:m+u},o=function(u,f,d,h,m){var b=h-u.length;return b>0&&(!d&&m==="0"?u=[u.slice(0,f.length),i("",b,"0",!0),u.slice(f.length)].join(""):u=i(u,h,m,d)),u},a=function(u,f,d,h,m,b){var x=u>>>0;return u=i(x.toString(f),m||0,"0",!1),o(u,"",d,h,b)},l=function(u,f,d,h,m){return h!=null&&(u=u.slice(0,h)),o(u,"",f,d,m)},c=function(u,f,d,h,m,b){var x=void 0,w=void 0,A=void 0,_=void 0,C=void 0;if(u==="%%")return"%";var L=" ",R=!1,N="",j=void 0,$=void 0;for(j=0,$=d.length;j<$;j++)switch(d.charAt(j)){case" ":case"0":L=d.charAt(j);break;case"+":N="+";break;case"-":R=!0;break;case"'":j+1<$&&(L=d.charAt(j+1),j++);break}if(h?h=+h:h=0,!isFinite(h))throw new Error("Width must be finite");if(m?m=+m:m=b==="d"?0:"fFeE".indexOf(b)>-1?6:void 0,f&&+f==0)throw new Error("Argument number must be greater than zero");if(f&&+f>=t.length)throw new Error("Too few arguments");switch(C=f?t[+f]:t[s++],b){case"%":return"%";case"s":return l(C+"",R,h,m,L);case"c":return l(String.fromCharCode(+C),R,h,m,L);case"b":return a(C,2,R,h,m,L);case"o":return a(C,8,R,h,m,L);case"x":return a(C,16,R,h,m,L);case"X":return a(C,16,R,h,m,L).toUpperCase();case"u":return a(C,10,R,h,m,L);case"i":case"d":return x=+C||0,x=Math.round(x-x%1),w=x<0?"-":N,C=w+i(String(Math.abs(x)),m,"0",!1),R&&L==="0"&&(L=" "),o(C,w,R,h,L);case"e":case"E":case"f":case"F":case"g":case"G":return x=+C,w=x<0?"-":N,A=["toExponential","toFixed","toPrecision"]["efg".indexOf(b.toLowerCase())],_=["toString","toUpperCase"]["eEfFgG".indexOf(b)%2],C=w+Math.abs(x)[A](m),o(C,w,R,h,L)[_]();default:return""}};try{return r.replace(n,c)}catch{return!1}}),vt}var Et,jn;function Yo(){return jn||(jn=1,Et=function(n,t){var s=Sr();return s.apply(this,[n].concat(t))}),Et}var St,Fn;function kr(){if(Fn)return St;Fn=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};return St=function(t){var s=typeof t>"u"?"undefined":e(t);switch(s){case"number":return isNaN(t)||!isFinite(t)?0:t<0?Math.ceil(t):Math.floor(t);case"string":return parseInt(t,10)||0;default:return+!!t}},St}var kt,Hn;function Ko(){if(Hn)return kt;Hn=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};return kt=function(t){var s=typeof t>"u"?"undefined":e(t);switch(s){case"number":return t;case"string":return parseFloat(t)||0;default:return kr()(t)}},kt}var At,qn;function Xo(){if(qn)return At;qn=1;function e(n,t){var s=Math.floor(Math.abs(n)+.5);return(t==="PHP_ROUND_HALF_DOWN"&&n===s-.5||t==="PHP_ROUND_HALF_EVEN"&&n===.5+2*Math.floor(s/2)||t==="PHP_ROUND_HALF_ODD"&&n===.5+2*Math.floor(s/2)-1)&&(s-=1),n<0?-s:s}return At=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"PHP_ROUND_HALF_UP",i=Ko(),o=kr(),a=void 0;if(t=i(t),s=o(s),a=Math.pow(10,s),isNaN(t)||!isFinite(t)||Math.trunc(t)===t&&s>=0)return t;var l=14-Math.floor(Math.log10(Math.abs(t)));return l>s&&l-15<s?(t=e(t*Math.pow(10,l),r),t/=Math.pow(10,Math.abs(s-l))):t*=a,t=e(t,r),t/a},At}var Ct,Bn;function Go(){if(Bn)return Ct;Bn=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};return Ct=function(){var t=void 0,s=void 0,r=0,i=0,o=arguments,a=o.length,l=function(u){if(Object.prototype.toString.call(u)==="[object Array]")return u;var f=[];for(var d in u)u.hasOwnProperty(d)&&f.push(u[d]);return f},c=function p(u,f){var d=0,h=0,m=0,b=0,x=0;if(u===f)return 0;if((typeof u>"u"?"undefined":e(u))==="object"){if((typeof f>"u"?"undefined":e(f))==="object"){if(u=l(u),f=l(f),x=u.length,b=f.length,b>x)return 1;if(b<x)return-1;for(d=0,h=x;d<h;++d){if(m=p(u[d],f[d]),m===1)return 1;if(m===-1)return-1}return 0}return-1}else{if((typeof f>"u"?"undefined":e(f))==="object")return 1;if(isNaN(f)&&!isNaN(u))return u===0?0:u<0?1:-1;if(isNaN(u)&&!isNaN(f))return f===0?0:f>0?1:-1}return f===u?0:f>u?1:-1};if(a===0)throw new Error("At least one value should be passed to max()");if(a===1){if(e(o[0])==="object")t=l(o[0]);else throw new Error("Wrong parameter count for max()");if(t.length===0)throw new Error("Array must contain at least one element for max()")}else t=o;for(s=t[0],r=1,i=t.length;r<i;++r)c(s,t[r])===1&&(s=t[r]);return s},Ct}var wt,Un;function Jo(){if(Un)return wt;Un=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};return wt=function(){var t=void 0,s=void 0,r=0,i=0,o=arguments,a=o.length,l=function(u){if(Object.prototype.toString.call(u)==="[object Array]")return u;var f=[];for(var d in u)u.hasOwnProperty(d)&&f.push(u[d]);return f},c=function p(u,f){var d=0,h=0,m=0,b=0,x=0;if(u===f)return 0;if((typeof u>"u"?"undefined":e(u))==="object"){if((typeof f>"u"?"undefined":e(f))==="object"){if(u=l(u),f=l(f),x=u.length,b=f.length,b>x)return 1;if(b<x)return-1;for(d=0,h=x;d<h;++d){if(m=p(u[d],f[d]),m===1)return 1;if(m===-1)return-1}return 0}return-1}else{if((typeof f>"u"?"undefined":e(f))==="object")return 1;if(isNaN(f)&&!isNaN(u))return u===0?0:u<0?1:-1;if(isNaN(u)&&!isNaN(f))return f===0?0:f>0?1:-1}return f===u?0:f>u?1:-1};if(a===0)throw new Error("At least one value should be passed to min()");if(a===1){if(e(o[0])==="object")t=l(o[0]);else throw new Error("Wrong parameter count for min()");if(t.length===0)throw new Error("Array must contain at least one element for min()")}else t=o;for(s=t[0],r=1,i=t.length;r<i;++r)c(s,t[r])===-1&&(s=t[r]);return s},wt}var Ot,Vn;function Zo(){if(Vn)return Ot;Vn=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};return Ot=function(t){var s=typeof t>"u"?"undefined":e(t);switch(s){case"boolean":return t?"1":"";case"string":return t;case"number":return isNaN(t)?"NAN":isFinite(t)?t+"":(t<0?"-":"")+"INF";case"undefined":return"";case"object":return Array.isArray(t)?"Array":t!==null?"Object":"";default:throw new Error("Unsupported value type")}},Ot}var Lt,Wn;function Qo(){return Wn||(Wn=1,Lt=function(n,t){var s=Zo();t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var r=/<\/?([a-z0-9]*)\b[^>]*>?/gi,i=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,o=s(n);for(o=o.substring(o.length-1)==="<"?o.substring(0,o.length-1):o;;){var a=o;if(o=a.replace(i,"").replace(r,function(l,c){return t.indexOf("<"+c.toLowerCase()+">")>-1?l:""}),a===o)return o}}),Lt}var _t,Yn;function To(){if(Yn)return _t;Yn=1;var e="[ \\t]+",n="[ \\t]*",t="(?:([ap])\\.?m\\.?([\\t ]|$))",s="(2[0-4]|[01]?[0-9])",r="([01][0-9]|2[0-4])",i="(0?[1-9]|1[0-2])",o="([0-5]?[0-9])",a="([0-5][0-9])",l="(60|[0-5]?[0-9])",c="(60|[0-5][0-9])",p="(?:\\.([0-9]+))",u="sunday|monday|tuesday|wednesday|thursday|friday|saturday",f="sun|mon|tue|wed|thu|fri|sat",d=u+"|"+f+"|weekdays?",h="first|second|third|fourth|fifth|sixth|seventh|eighth?|ninth|tenth|eleventh|twelfth",m="next|last|previous|this",b="(?:second|sec|minute|min|hour|day|fortnight|forthnight|month|year)s?|weeks|"+d,x="([0-9]{1,4})",w="([0-9]{2})",A="([0-9]{4})",_="([+-]?[0-9]{4})",C="(1[0-2]|0?[0-9])",L="(0[0-9]|1[0-2])",R="(?:(3[01]|[0-2]?[0-9])(?:st|nd|rd|th)?)",N="(0[0-9]|[1-2][0-9]|3[01])",j="january|february|march|april|may|june|july|august|september|october|november|december",$="jan|feb|mar|apr|may|jun|jul|aug|sept?|oct|nov|dec",V="i[vx]|vi{0,3}|xi{0,2}|i{1,3}",D="("+j+"|"+$+"|"+V+")",W="((?:GMT)?([+-])"+s+":?"+o+"?)",M="\\(?([a-zA-Z]{1,6})\\)?",I="(00[1-9]|0[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6])",z="(0[1-9]|[1-4][0-9]|5[0-3])",F=D+"[ .\\t-]*"+R+"[,.stndrh\\t ]*";function Y(E,v){switch(v=v&&v.toLowerCase(),v){case"a":E+=E===12?-12:0;break;case"p":E+=E!==12?12:0;break}return E}function ne(E){var v=+E;return E.length<4&&v<100&&(v+=v<70?2e3:1900),v}function B(E){return{jan:0,january:0,i:0,feb:1,february:1,ii:1,mar:2,march:2,iii:2,apr:3,april:3,iv:3,may:4,v:4,jun:5,june:5,vi:5,jul:6,july:6,vii:6,aug:7,august:7,viii:7,sep:8,sept:8,september:8,ix:8,oct:9,october:9,x:9,nov:10,november:10,xi:10,dec:11,december:11,xii:11}[E.toLowerCase()]}function _e(E){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y={mon:1,monday:1,tue:2,tuesday:2,wed:3,wednesday:3,thu:4,thursday:4,fri:5,friday:5,sat:6,saturday:6,sun:0,sunday:0};return y[E.toLowerCase()]||v}function Cr(E){var v={last:-1,previous:-1,this:0,first:1,next:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eight:8,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12},y={this:1},g=E.toLowerCase();return{amount:v[g],behavior:y[g]||0}}function ct(E,v){var y=/(?:GMT)?([+-])(\d+)(:?)(\d{0,2})/i;if(E=E&&E.match(y),!E)return v;var g=E[1]==="-"?-1:1,S=+E[2],k=+E[4];return!E[4]&&!E[3]&&(k=Math.floor(S%100),S=Math.floor(S/100)),g*(S*60+k)*60}var wr={acdt:37800,acst:34200,addt:-7200,adt:-10800,aedt:39600,aest:36e3,ahdt:-32400,ahst:-36e3,akdt:-28800,akst:-32400,amt:-13840,apt:-10800,ast:-14400,awdt:32400,awst:28800,awt:-10800,bdst:7200,bdt:-36e3,bmt:-14309,bst:3600,cast:34200,cat:7200,cddt:-14400,cdt:-18e3,cemt:10800,cest:7200,cet:3600,cmt:-15408,cpt:-18e3,cst:-21600,cwt:-18e3,chst:36e3,dmt:-1521,eat:10800,eddt:-10800,edt:-14400,eest:10800,eet:7200,emt:-26248,ept:-14400,est:-18e3,ewt:-14400,ffmt:-14660,fmt:-4056,gdt:39600,gmt:0,gst:36e3,hdt:-34200,hkst:32400,hkt:28800,hmt:-19776,hpt:-34200,hst:-36e3,hwt:-34200,iddt:14400,idt:10800,imt:25025,ist:7200,jdt:36e3,jmt:8440,jst:32400,kdt:36e3,kmt:5736,kst:30600,lst:9394,mddt:-18e3,mdst:16279,mdt:-21600,mest:7200,met:3600,mmt:9017,mpt:-21600,msd:14400,msk:10800,mst:-25200,mwt:-21600,nddt:-5400,ndt:-9052,npt:-9e3,nst:-12600,nwt:-9e3,nzdt:46800,nzmt:41400,nzst:43200,pddt:-21600,pdt:-25200,pkst:21600,pkt:18e3,plmt:25590,pmt:-13236,ppmt:-17340,ppt:-25200,pst:-28800,pwt:-25200,qmt:-18840,rmt:5794,sast:7200,sdmt:-16800,sjmt:-20173,smt:-13884,sst:-39600,tbmt:10751,tmt:12344,uct:0,utc:0,wast:7200,wat:3600,wemt:7200,west:3600,wet:0,wib:25200,wita:28800,wit:32400,wmt:5040,yddt:-25200,ydt:-28800,ypt:-28800,yst:-32400,ywt:-28800,a:3600,b:7200,c:10800,d:14400,e:18e3,f:21600,g:25200,h:28800,i:32400,k:36e3,l:39600,m:43200,n:-3600,o:-7200,p:-10800,q:-14400,r:-18e3,s:-21600,t:-25200,u:-28800,v:-32400,w:-36e3,x:-39600,y:-43200,z:0},O={yesterday:{regex:/^yesterday/i,name:"yesterday",callback:function(){return this.rd-=1,this.resetTime()}},now:{regex:/^now/i,name:"now"},noon:{regex:/^noon/i,name:"noon",callback:function(){return this.resetTime()&&this.time(12,0,0,0)}},midnightOrToday:{regex:/^(midnight|today)/i,name:"midnight | today",callback:function(){return this.resetTime()}},tomorrow:{regex:/^tomorrow/i,name:"tomorrow",callback:function(){return this.rd+=1,this.resetTime()}},timestamp:{regex:/^@(-?\d+)/i,name:"timestamp",callback:function(v,y){return this.rs+=+y,this.y=1970,this.m=0,this.d=1,this.dates=0,this.resetTime()&&this.zone(0)}},firstOrLastDay:{regex:/^(first|last) day of/i,name:"firstdayof | lastdayof",callback:function(v,y){y.toLowerCase()==="first"?this.firstOrLastDayOfMonth=1:this.firstOrLastDayOfMonth=-1}},backOrFrontOf:{regex:RegExp("^(back|front) of "+s+n+t+"?","i"),name:"backof | frontof",callback:function(v,y,g,S){var k=y.toLowerCase()==="back",P=+g,H=15;return k||(P-=1,H=45),P=Y(P,S),this.resetTime()&&this.time(P,H,0,0)}},weekdayOf:{regex:RegExp("^("+h+"|"+m+")"+e+"("+u+"|"+f+")"+e+"of","i"),name:"weekdayof"},mssqltime:{regex:RegExp("^"+i+":"+a+":"+c+"[:.]([0-9]+)"+t,"i"),name:"mssqltime",callback:function(v,y,g,S,k,P){return this.time(Y(+y,P),+g,+S,+k.substr(0,3))}},oracledate:{regex:/^(\d{2})-([A-Z]{3})-(\d{2})$/i,name:"d-M-y",callback:function(v,y,g,S){var k={JAN:0,FEB:1,MAR:2,APR:3,MAY:4,JUN:5,JUL:6,AUG:7,SEP:8,OCT:9,NOV:10,DEC:11}[g.toUpperCase()];return this.ymd(2e3+parseInt(S,10),k,parseInt(y,10))}},timeLong12:{regex:RegExp("^"+i+"[:.]"+o+"[:.]"+c+n+t,"i"),name:"timelong12",callback:function(v,y,g,S,k){return this.time(Y(+y,k),+g,+S,0)}},timeShort12:{regex:RegExp("^"+i+"[:.]"+a+n+t,"i"),name:"timeshort12",callback:function(v,y,g,S){return this.time(Y(+y,S),+g,0,0)}},timeTiny12:{regex:RegExp("^"+i+n+t,"i"),name:"timetiny12",callback:function(v,y,g){return this.time(Y(+y,g),0,0,0)}},soap:{regex:RegExp("^"+A+"-"+L+"-"+N+"T"+r+":"+a+":"+c+p+W+"?","i"),name:"soap",callback:function(v,y,g,S,k,P,H,Pe,He){return this.ymd(+y,g-1,+S)&&this.time(+k,+P,+H,+Pe.substr(0,3))&&this.zone(ct(He))}},wddx:{regex:RegExp("^"+A+"-"+C+"-"+R+"T"+s+":"+o+":"+l),name:"wddx",callback:function(v,y,g,S,k,P,H){return this.ymd(+y,g-1,+S)&&this.time(+k,+P,+H,0)}},exif:{regex:RegExp("^"+A+":"+L+":"+N+" "+r+":"+a+":"+c,"i"),name:"exif",callback:function(v,y,g,S,k,P,H){return this.ymd(+y,g-1,+S)&&this.time(+k,+P,+H,0)}},xmlRpc:{regex:RegExp("^"+A+L+N+"T"+s+":"+a+":"+c),name:"xmlrpc",callback:function(v,y,g,S,k,P,H){return this.ymd(+y,g-1,+S)&&this.time(+k,+P,+H,0)}},xmlRpcNoColon:{regex:RegExp("^"+A+L+N+"[Tt]"+s+a+c),name:"xmlrpcnocolon",callback:function(v,y,g,S,k,P,H){return this.ymd(+y,g-1,+S)&&this.time(+k,+P,+H,0)}},clf:{regex:RegExp("^"+R+"/("+$+")/"+A+":"+r+":"+a+":"+c+e+W,"i"),name:"clf",callback:function(v,y,g,S,k,P,H,Pe){return this.ymd(+S,B(g),+y)&&this.time(+k,+P,+H,0)&&this.zone(ct(Pe))}},iso8601long:{regex:RegExp("^t?"+s+"[:.]"+o+"[:.]"+l+p,"i"),name:"iso8601long",callback:function(v,y,g,S,k){return this.time(+y,+g,+S,+k.substr(0,3))}},dateTextual:{regex:RegExp("^"+D+"[ .\\t-]*"+R+"[,.stndrh\\t ]+"+x,"i"),name:"datetextual",callback:function(v,y,g,S){return this.ymd(ne(S),B(y),+g)}},pointedDate4:{regex:RegExp("^"+R+"[.\\t-]"+C+"[.-]"+A),name:"pointeddate4",callback:function(v,y,g,S){return this.ymd(+S,g-1,+y)}},pointedDate2:{regex:RegExp("^"+R+"[.\\t]"+C+"\\."+w),name:"pointeddate2",callback:function(v,y,g,S){return this.ymd(ne(S),g-1,+y)}},timeLong24:{regex:RegExp("^t?"+s+"[:.]"+o+"[:.]"+l),name:"timelong24",callback:function(v,y,g,S){return this.time(+y,+g,+S,0)}},dateNoColon:{regex:RegExp("^"+A+L+N),name:"datenocolon",callback:function(v,y,g,S){return this.ymd(+y,g-1,+S)}},pgydotd:{regex:RegExp("^"+A+"\\.?"+I),name:"pgydotd",callback:function(v,y,g){return this.ymd(+y,0,+g)}},timeShort24:{regex:RegExp("^t?"+s+"[:.]"+o,"i"),name:"timeshort24",callback:function(v,y,g){return this.time(+y,+g,0,0)}},iso8601noColon:{regex:RegExp("^t?"+r+a+c,"i"),name:"iso8601nocolon",callback:function(v,y,g,S){return this.time(+y,+g,+S,0)}},iso8601dateSlash:{regex:RegExp("^"+A+"/"+L+"/"+N+"/"),name:"iso8601dateslash",callback:function(v,y,g,S){return this.ymd(+y,g-1,+S)}},dateSlash:{regex:RegExp("^"+A+"/"+C+"/"+R),name:"dateslash",callback:function(v,y,g,S){return this.ymd(+y,g-1,+S)}},american:{regex:RegExp("^"+C+"/"+R+"/"+x),name:"american",callback:function(v,y,g,S){return this.ymd(ne(S),y-1,+g)}},americanShort:{regex:RegExp("^"+C+"/"+R),name:"americanshort",callback:function(v,y,g){return this.ymd(this.y,y-1,+g)}},gnuDateShortOrIso8601date2:{regex:RegExp("^"+x+"-"+C+"-"+R),name:"gnudateshort | iso8601date2",callback:function(v,y,g,S){return this.ymd(ne(y),g-1,+S)}},iso8601date4:{regex:RegExp("^"+_+"-"+L+"-"+N),name:"iso8601date4",callback:function(v,y,g,S){return this.ymd(+y,g-1,+S)}},gnuNoColon:{regex:RegExp("^t?"+r+a,"i"),name:"gnunocolon",callback:function(v,y,g){switch(this.times){case 0:return this.time(+y,+g,0,this.f);case 1:return this.y=y*100+ +g,this.times++,!0;default:return!1}}},gnuDateShorter:{regex:RegExp("^"+A+"-"+C),name:"gnudateshorter",callback:function(v,y,g){return this.ymd(+y,g-1,1)}},pgTextReverse:{regex:RegExp("^(\\d{3,4}|[4-9]\\d|3[2-9])-("+$+")-"+N,"i"),name:"pgtextreverse",callback:function(v,y,g,S){return this.ymd(ne(y),B(g),+S)}},dateFull:{regex:RegExp("^"+R+"[ \\t.-]*"+D+"[ \\t.-]*"+x,"i"),name:"datefull",callback:function(v,y,g,S){return this.ymd(ne(S),B(g),+y)}},dateNoDay:{regex:RegExp("^"+D+"[ .\\t-]*"+A,"i"),name:"datenoday",callback:function(v,y,g){return this.ymd(+g,B(y),1)}},dateNoDayRev:{regex:RegExp("^"+A+"[ .\\t-]*"+D,"i"),name:"datenodayrev",callback:function(v,y,g){return this.ymd(+y,B(g),1)}},pgTextShort:{regex:RegExp("^("+$+")-"+N+"-"+x,"i"),name:"pgtextshort",callback:function(v,y,g,S){return this.ymd(ne(S),B(y),+g)}},dateNoYear:{regex:RegExp("^"+F,"i"),name:"datenoyear",callback:function(v,y,g){return this.ymd(this.y,B(y),+g)}},dateNoYearRev:{regex:RegExp("^"+R+"[ .\\t-]*"+D,"i"),name:"datenoyearrev",callback:function(v,y,g){return this.ymd(this.y,B(g),+y)}},isoWeekDay:{regex:RegExp("^"+A+"-?W"+z+"(?:-?([0-7]))?"),name:"isoweekday | isoweek",callback:function(v,y,g,S){if(S=S?+S:1,!this.ymd(+y,0,1))return!1;var k=new Date(this.y,this.m,this.d).getDay();k=0-(k>4?k-7:k),this.rd+=k+(g-1)*7+S}},relativeText:{regex:RegExp("^("+h+"|"+m+")"+e+"("+b+")","i"),name:"relativetext",callback:function(v,y,g){var S=Cr(y),k=S.amount,P=S.behavior;switch(g.toLowerCase()){case"sec":case"secs":case"second":case"seconds":this.rs+=k;break;case"min":case"mins":case"minute":case"minutes":this.ri+=k;break;case"hour":case"hours":this.rh+=k;break;case"day":case"days":this.rd+=k;break;case"fortnight":case"fortnights":case"forthnight":case"forthnights":this.rd+=k*14;break;case"week":case"weeks":this.rd+=k*7;break;case"month":case"months":this.rm+=k;break;case"year":case"years":this.ry+=k;break;case"mon":case"monday":case"tue":case"tuesday":case"wed":case"wednesday":case"thu":case"thursday":case"fri":case"friday":case"sat":case"saturday":case"sun":case"sunday":this.resetTime(),this.weekday=_e(g,7),this.weekdayBehavior=1,this.rd+=(k>0?k-1:k)*7;break;case"weekday":case"weekdays":break}}},relative:{regex:RegExp("^([+-]*)[ \\t]*(\\d+)"+n+"("+b+"|week)","i"),name:"relative",callback:function(v,y,g,S){var k=y.replace(/[^-]/g,"").length,P=+g*Math.pow(-1,k);switch(S.toLowerCase()){case"sec":case"secs":case"second":case"seconds":this.rs+=P;break;case"min":case"mins":case"minute":case"minutes":this.ri+=P;break;case"hour":case"hours":this.rh+=P;break;case"day":case"days":this.rd+=P;break;case"fortnight":case"fortnights":case"forthnight":case"forthnights":this.rd+=P*14;break;case"week":case"weeks":this.rd+=P*7;break;case"month":case"months":this.rm+=P;break;case"year":case"years":this.ry+=P;break;case"mon":case"monday":case"tue":case"tuesday":case"wed":case"wednesday":case"thu":case"thursday":case"fri":case"friday":case"sat":case"saturday":case"sun":case"sunday":this.resetTime(),this.weekday=_e(S,7),this.weekdayBehavior=1,this.rd+=(P>0?P-1:P)*7;break;case"weekday":case"weekdays":break}}},dayText:{regex:RegExp("^("+d+")","i"),name:"daytext",callback:function(v,y){this.resetTime(),this.weekday=_e(y,0),this.weekdayBehavior!==2&&(this.weekdayBehavior=1)}},relativeTextWeek:{regex:RegExp("^("+m+")"+e+"week","i"),name:"relativetextweek",callback:function(v,y){switch(this.weekdayBehavior=2,y.toLowerCase()){case"this":this.rd+=0;break;case"next":this.rd+=7;break;case"last":case"previous":this.rd-=7;break}isNaN(this.weekday)&&(this.weekday=1)}},monthFullOrMonthAbbr:{regex:RegExp("^("+j+"|"+$+")","i"),name:"monthfull | monthabbr",callback:function(v,y){return this.ymd(this.y,B(y),this.d)}},tzCorrection:{regex:RegExp("^"+W,"i"),name:"tzcorrection",callback:function(v){return this.zone(ct(v))}},tzAbbr:{regex:RegExp("^"+M),name:"tzabbr",callback:function(v,y){var g=wr[y.toLowerCase()];return isNaN(g)?!1:this.zone(g)}},ago:{regex:/^ago/i,name:"ago",callback:function(){this.ry=-this.ry,this.rm=-this.rm,this.rd=-this.rd,this.rh=-this.rh,this.ri=-this.ri,this.rs=-this.rs,this.rf=-this.rf}},year4:{regex:RegExp("^"+A),name:"year4",callback:function(v,y){return this.y=+y,!0}},whitespace:{regex:/^[ .,\t]+/,name:"whitespace"},dateShortWithTimeLong:{regex:RegExp("^"+F+"t?"+s+"[:.]"+o+"[:.]"+l,"i"),name:"dateshortwithtimelong",callback:function(v,y,g,S,k,P){return this.ymd(this.y,B(y),+g)&&this.time(+S,+k,+P,0)}},dateShortWithTimeLong12:{regex:RegExp("^"+F+i+"[:.]"+o+"[:.]"+c+n+t,"i"),name:"dateshortwithtimelong12",callback:function(v,y,g,S,k,P,H){return this.ymd(this.y,B(y),+g)&&this.time(Y(+S,H),+k,+P,0)}},dateShortWithTimeShort:{regex:RegExp("^"+F+"t?"+s+"[:.]"+o,"i"),name:"dateshortwithtimeshort",callback:function(v,y,g,S,k){return this.ymd(this.y,B(y),+g)&&this.time(+S,+k,0,0)}},dateShortWithTimeShort12:{regex:RegExp("^"+F+i+"[:.]"+a+n+t,"i"),name:"dateshortwithtimeshort12",callback:function(v,y,g,S,k,P){return this.ymd(this.y,B(y),+g)&&this.time(Y(+S,P),+k,0,0)}}},Or={y:NaN,m:NaN,d:NaN,h:NaN,i:NaN,s:NaN,f:NaN,ry:0,rm:0,rd:0,rh:0,ri:0,rs:0,rf:0,weekday:NaN,weekdayBehavior:0,firstOrLastDayOfMonth:0,z:NaN,dates:0,times:0,zones:0,ymd:function(v,y,g){return this.dates>0?!1:(this.dates++,this.y=v,this.m=y,this.d=g,!0)},time:function(v,y,g,S){return this.times>0?!1:(this.times++,this.h=v,this.i=y,this.s=g,this.f=S,!0)},resetTime:function(){return this.h=0,this.i=0,this.s=0,this.f=0,this.times=0,!0},zone:function(v){return this.zones<=1?(this.zones++,this.z=v,!0):!1},toDate:function(v){switch(this.dates&&!this.times&&(this.h=this.i=this.s=this.f=0),isNaN(this.y)&&(this.y=v.getFullYear()),isNaN(this.m)&&(this.m=v.getMonth()),isNaN(this.d)&&(this.d=v.getDate()),isNaN(this.h)&&(this.h=v.getHours()),isNaN(this.i)&&(this.i=v.getMinutes()),isNaN(this.s)&&(this.s=v.getSeconds()),isNaN(this.f)&&(this.f=v.getMilliseconds()),this.firstOrLastDayOfMonth){case 1:this.d=1;break;case-1:this.d=0,this.m+=1;break}if(!isNaN(this.weekday)){var y=new Date(v.getTime());y.setFullYear(this.y,this.m,this.d),y.setHours(this.h,this.i,this.s,this.f);var g=y.getDay();if(this.weekdayBehavior===2)g===0&&this.weekday!==0&&(this.weekday=-6),this.weekday===0&&g!==0&&(this.weekday=7),this.d-=g,this.d+=this.weekday;else{var S=this.weekday-g;(this.rd<0&&S<0||this.rd>=0&&S<=-this.weekdayBehavior)&&(S+=7),this.weekday>=0?this.d+=S:this.d-=7-(Math.abs(this.weekday)-g),this.weekday=NaN}}this.y+=this.ry,this.m+=this.rm,this.d+=this.rd,this.h+=this.rh,this.i+=this.ri,this.s+=this.rs,this.f+=this.rf,this.ry=this.rm=this.rd=0,this.rh=this.ri=this.rs=this.rf=0;var k=new Date(v.getTime());switch(k.setFullYear(this.y,this.m,this.d),k.setHours(this.h,this.i,this.s,this.f),this.firstOrLastDayOfMonth){case 1:k.setDate(1);break;case-1:k.setMonth(k.getMonth()+1,0);break}return!isNaN(this.z)&&k.getTimezoneOffset()!==this.z&&(k.setUTCFullYear(k.getFullYear(),k.getMonth(),k.getDate()),k.setUTCHours(k.getHours(),k.getMinutes(),k.getSeconds()-this.z,k.getMilliseconds())),k}};return _t=function(v,y){y==null&&(y=Math.floor(Date.now()/1e3));for(var g=[O.yesterday,O.now,O.noon,O.midnightOrToday,O.tomorrow,O.timestamp,O.firstOrLastDay,O.backOrFrontOf,O.timeTiny12,O.timeShort12,O.timeLong12,O.mssqltime,O.oracledate,O.timeShort24,O.timeLong24,O.iso8601long,O.gnuNoColon,O.iso8601noColon,O.americanShort,O.american,O.iso8601date4,O.iso8601dateSlash,O.dateSlash,O.gnuDateShortOrIso8601date2,O.gnuDateShorter,O.dateFull,O.pointedDate4,O.pointedDate2,O.dateNoDay,O.dateNoDayRev,O.dateTextual,O.dateNoYear,O.dateNoYearRev,O.dateNoColon,O.xmlRpc,O.xmlRpcNoColon,O.soap,O.wddx,O.exif,O.pgydotd,O.isoWeekDay,O.pgTextShort,O.pgTextReverse,O.clf,O.year4,O.ago,O.dayText,O.relativeTextWeek,O.relativeText,O.monthFullOrMonthAbbr,O.tzCorrection,O.tzAbbr,O.dateShortWithTimeShort12,O.dateShortWithTimeLong12,O.dateShortWithTimeShort,O.dateShortWithTimeLong,O.relative,O.whitespace],S=Object.create(Or);v.length;){for(var k=null,P=null,H=0,Pe=g.length;H<Pe;H++){var He=g[H],ut=v.match(He.regex);ut&&(!k||ut[0].length>k[0].length)&&(k=ut,P=He)}if(!P||P.callback&&P.callback.apply(S,k)===!1)return!1;v=v.substr(k[0].length),P=null,k=null}return Math.floor(S.toDate(new Date(y*1e3))/1e3)},_t}var Pt,Kn;function ea(){return Kn||(Kn=1,Pt=function(n,t){var s=void 0,r=void 0,i=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],o=/\\?(.?)/gi,a=function(u,f){return r[u]?r[u]():f},l=function(u,f){for(u=String(u);u.length<f;)u="0"+u;return u};r={d:function(){return l(r.j(),2)},D:function(){return r.l().slice(0,3)},j:function(){return s.getDate()},l:function(){return i[r.w()]+"day"},N:function(){return r.w()||7},S:function(){var u=r.j(),f=u%10;return f<=3&&parseInt(u%100/10,10)===1&&(f=0),["st","nd","rd"][f-1]||"th"},w:function(){return s.getDay()},z:function(){var u=new Date(r.Y(),r.n()-1,r.j()),f=new Date(r.Y(),0,1);return Math.round((u-f)/864e5)},W:function(){var u=new Date(r.Y(),r.n()-1,r.j()-r.N()+3),f=new Date(u.getFullYear(),0,4);return l(1+Math.round((u-f)/864e5/7),2)},F:function(){return i[6+r.n()]},m:function(){return l(r.n(),2)},M:function(){return r.F().slice(0,3)},n:function(){return s.getMonth()+1},t:function(){return new Date(r.Y(),r.n(),0).getDate()},L:function(){var u=r.Y();return u%4===0&u%100!==0|u%400===0},o:function(){var u=r.n(),f=r.W(),d=r.Y();return d+(u===12&&f<9?1:u===1&&f>9?-1:0)},Y:function(){return s.getFullYear()},y:function(){return r.Y().toString().slice(-2)},a:function(){return s.getHours()>11?"pm":"am"},A:function(){return r.a().toUpperCase()},B:function(){var u=s.getUTCHours()*3600,f=s.getUTCMinutes()*60,d=s.getUTCSeconds();return l(Math.floor((u+f+d+3600)/86.4)%1e3,3)},g:function(){return r.G()%12||12},G:function(){return s.getHours()},h:function(){return l(r.g(),2)},H:function(){return l(r.G(),2)},i:function(){return l(s.getMinutes(),2)},s:function(){return l(s.getSeconds(),2)},u:function(){return l(s.getMilliseconds()*1e3,6)},e:function(){var u="Not supported (see source code of date() for timezone on how to add support)";throw new Error(u)},I:function(){var u=new Date(r.Y(),0),f=Date.UTC(r.Y(),0),d=new Date(r.Y(),6),h=Date.UTC(r.Y(),6);return u-f!==d-h?1:0},O:function(){var u=s.getTimezoneOffset(),f=Math.abs(u);return(u>0?"-":"+")+l(Math.floor(f/60)*100+f%60,4)},P:function(){var u=r.O();return u.substr(0,3)+":"+u.substr(3,2)},T:function(){return"UTC"},Z:function(){return-s.getTimezoneOffset()*60},c:function(){return"Y-m-d\\TH:i:sP".replace(o,a)},r:function(){return"D, d M Y H:i:s O".replace(o,a)},U:function(){return s/1e3|0}};var c=function(u,f){return s=f===void 0?new Date:f instanceof Date?new Date(f):new Date(f*1e3),u.replace(o,a)};return c(n,t)}),Pt}var Rt,Xn;function ta(){return Xn||(Xn=1,Rt=function(n){return!(n===!1||n===0||n===0||n===""||n==="0"||Array.isArray(n)&&n.length===0||n==null)}),Rt}var $t,Gn;function na(){return Gn||(Gn=1,$t=function(e){return e.lib={},e.lib.sprintf=Sr(),e.lib.vsprintf=Yo(),e.lib.round=Xo(),e.lib.max=Go(),e.lib.min=Jo(),e.lib.stripTags=Qo(),e.lib.strtotime=To(),e.lib.date=ea(),e.lib.boolval=ta(),e.lib.is=function(n,t){if(typeof t>"u"||t===null)return!1;switch(n){case"Array":return Array.isArray(t);case"Date":return t instanceof Date;case"String":return typeof t=="string"||t instanceof String;case"Number":return typeof t=="number"||t instanceof Number;case"Function":return typeof t=="function";case"Object":return t instanceof Object;default:return!1}},e.lib.replaceAll=function(n,t,s){const r=typeof n=="string"?n:n.toString(),i=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return r.replace(new RegExp(i,"g"),s)},e.lib.chunkArray=function(n,t){const s=[];let r=0;const i=n.length;if(t<1||!Array.isArray(n))return[];for(;r<i;)s.push(n.slice(r,r+=t));return s},e}),$t}var Nt,Jn;function sa(){return Jn||(Jn=1,Nt=function(e){"use strict";e.Templates.registerLoader("ajax",function(n,t,s,r){let i;const{precompiled:o}=t,a=this.parsers[t.parser]||this.parser.twig;if(typeof XMLHttpRequest>"u")throw new e.Error('Unsupported platform: Unable to do ajax requests because there is no "XMLHTTPRequest" implementation');const l=new XMLHttpRequest;return l.onreadystatechange=function(){let c=null;l.readyState===4&&(l.status===200||window.cordova&&l.status===0?(e.log.debug("Got template ",l.responseText),o===!0?c=JSON.parse(l.responseText):c=l.responseText,t.url=n,t.data=c,i=a.call(this,t),typeof s=="function"&&s(i)):typeof r=="function"&&r(l))},l.open("GET",n,!!t.async),l.overrideMimeType("text/plain"),l.send(),t.async?!0:i})}),Nt}const ra={},ia=Object.freeze(Object.defineProperty({__proto__:null,default:ra},Symbol.toStringTag,{value:"Module"})),Tt=po(ia);var Dt,Zn;function oa(){return Zn||(Zn=1,Dt=function(e){"use strict";let n,t;try{n=Tt,t=Tt}catch(s){console.warn("Missing fs and path modules. "+s)}e.Templates.registerLoader("fs",function(s,r,i,o){let a,l=null;const{precompiled:c}=r,p=this.parsers[r.parser]||this.parser.twig;if(!n||!t)throw new e.Error('Unsupported platform: Unable to load from file because there is no "fs" or "path" implementation');const u=function(f,d){if(f){typeof o=="function"&&o(f);return}c===!0&&(d=JSON.parse(d)),r.data=d,r.path=r.path||s,a=p.call(this,r),typeof i=="function"&&i(a)};if(r.path=r.path||s,r.async)return n.stat(r.path,(f,d)=>{if(f||!d.isFile()){typeof o=="function"&&o(new e.Error("Unable to find template file "+r.path));return}n.readFile(r.path,"utf8",u)}),!0;try{if(!n.statSync(r.path).isFile())throw new e.Error("Unable to find template file "+r.path)}catch(f){throw new e.Error("Unable to find template file "+r.path+". "+f)}return l=n.readFileSync(r.path,"utf8"),u(void 0,l),a})}),Dt}var Mt,Qn;function aa(){return Qn||(Qn=1,Mt=function(e){"use strict";for(e.logic={},e.logic.type={if_:"Twig.logic.type.if",endif:"Twig.logic.type.endif",for_:"Twig.logic.type.for",endfor:"Twig.logic.type.endfor",else_:"Twig.logic.type.else",elseif:"Twig.logic.type.elseif",set:"Twig.logic.type.set",setcapture:"Twig.logic.type.setcapture",endset:"Twig.logic.type.endset",filter:"Twig.logic.type.filter",endfilter:"Twig.logic.type.endfilter",apply:"Twig.logic.type.apply",endapply:"Twig.logic.type.endapply",do:"Twig.logic.type.do",shortblock:"Twig.logic.type.shortblock",block:"Twig.logic.type.block",endblock:"Twig.logic.type.endblock",extends_:"Twig.logic.type.extends",use:"Twig.logic.type.use",include:"Twig.logic.type.include",spaceless:"Twig.logic.type.spaceless",endspaceless:"Twig.logic.type.endspaceless",macro:"Twig.logic.type.macro",endmacro:"Twig.logic.type.endmacro",import_:"Twig.logic.type.import",from:"Twig.logic.type.from",embed:"Twig.logic.type.embed",endembed:"Twig.logic.type.endembed",with:"Twig.logic.type.with",endwith:"Twig.logic.type.endwith",deprecated:"Twig.logic.type.deprecated"},e.logic.definitions=[{type:e.logic.type.if_,regex:/^if\s?([\s\S]+)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!0,compile(n){const t=n.match[1];return n.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,delete n.match,n},parse(n,t,s){const r=this;return e.expression.parseAsync.call(r,n.stack,t).then(i=>(s=!0,e.lib.boolval(i)?(s=!1,r.parseAsync(n.output,t)):"")).then(i=>({chain:s,output:i}))}},{type:e.logic.type.elseif,regex:/^elseif\s*([^\s].*)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!1,compile(n){const t=n.match[1];return n.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,delete n.match,n},parse(n,t,s){const r=this;return e.expression.parseAsync.call(r,n.stack,t).then(i=>s&&e.lib.boolval(i)?(s=!1,r.parseAsync(n.output,t)):"").then(i=>({chain:s,output:i}))}},{type:e.logic.type.else_,regex:/^else$/,next:[e.logic.type.endif,e.logic.type.endfor],open:!1,parse(n,t,s){let r=e.Promise.resolve("");return s&&(r=this.parseAsync(n.output,t)),r.then(o=>({chain:s,output:o}))}},{type:e.logic.type.endif,regex:/^endif$/,next:[],open:!1},{type:e.logic.type.for_,regex:/^for\s+([a-zA-Z0-9_,\s]+)\s+in\s+([\S\s]+?)(?:\s+if\s+([^\s].*))?$/,next:[e.logic.type.else_,e.logic.type.endfor],open:!0,compile(n){const t=n.match[1],s=n.match[2],r=n.match[3];let i=null;if(n.keyVar=null,n.valueVar=null,t.includes(","))if(i=t.split(","),i.length===2)n.keyVar=i[0].trim(),n.valueVar=i[1].trim();else throw new e.Error("Invalid expression in for loop: "+t);else n.valueVar=t.trim();return n.expression=e.expression.compile.call(this,{type:e.expression.type.expression,value:s}).stack,r&&(n.conditional=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack),delete n.match,n},parse(n,t,s){const r=[];let i,o=0,a;const l=this,{conditional:c}=n,p=function(f,d){const h=c!==void 0;return{index:f+1,index0:f,revindex:h?void 0:d-f,revindex0:h?void 0:d-f-1,first:f===0,last:h?void 0:f===d-1,length:h?void 0:d,parent:t}},u=function(f,d){const h={...t};return h[n.valueVar]=d,n.keyVar&&(h[n.keyVar]=f),h.loop=p(o,i),(c===void 0?e.Promise.resolve(!0):e.expression.parseAsync.call(l,c,h)).then(b=>{if(b)return l.parseAsync(n.output,h).then(x=>{r.push(x),o+=1})}).then(()=>{delete h.loop,delete h[n.valueVar],delete h[n.keyVar],e.merge(t,h,!0)})};return e.expression.parseAsync.call(l,n.expression,t).then(f=>{if(Array.isArray(f))return i=f.length,e.async.forEach(f,d=>u(o,d));if(e.lib.is("Object",f))return f._keys===void 0?a=Object.keys(f):a=f._keys,i=a.length,e.async.forEach(a,d=>{if(d!=="_keys")return u(d,f[d])})}).then(()=>(s=r.length===0,{chain:s,context:t,output:e.output.call(l.template,r)}))}},{type:e.logic.type.endfor,regex:/^endfor$/,next:[],open:!1},{type:e.logic.type.set,regex:/^set\s+([a-zA-Z0-9_,\s]+)\s*=\s*([\s\S]+)$/,next:[],open:!0,compile(n){const t=n.match[1].trim(),s=n.match[2],r=e.expression.compile.call(this,{type:e.expression.type.expression,value:s}).stack;return n.key=t,n.expression=r,delete n.match,n},parse(n,t,s){const{key:r}=n,i=this;return e.expression.parseAsync.call(i,n.expression,t).then(o=>(o===t&&(o={...o}),t[r]=o,{chain:s,context:t}))}},{type:e.logic.type.setcapture,regex:/^set\s+([a-zA-Z0-9_,\s]+)$/,next:[e.logic.type.endset],open:!0,compile(n){const t=n.match[1].trim();return n.key=t,delete n.match,n},parse(n,t,s){const r=this,{key:i}=n;return r.parseAsync(n.output,t).then(o=>(r.context[i]=o,t[i]=o,{chain:s,context:t}))}},{type:e.logic.type.endset,regex:/^endset$/,next:[],open:!1},{type:e.logic.type.filter,regex:/^filter\s+(.+)$/,next:[e.logic.type.endfilter],open:!0,compile(n){const t="|"+n.match[1].trim();return n.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,delete n.match,n},parse(n,t,s){const r=this;return r.parseAsync(n.output,t).then(i=>{const o=[{type:e.expression.type.string,value:i}].concat(n.stack);return e.expression.parseAsync.call(r,o,t)}).then(i=>({chain:s,output:i}))}},{type:e.logic.type.endfilter,regex:/^endfilter$/,next:[],open:!1},{type:e.logic.type.apply,regex:/^apply\s+(.+)$/,next:[e.logic.type.endapply],open:!0,compile(n){const t="|"+n.match[1].trim();return n.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,delete n.match,n},parse(n,t,s){const r=this;return r.parseAsync(n.output,t).then(i=>{const o=[{type:e.expression.type.string,value:i}].concat(n.stack);return e.expression.parseAsync.call(r,o,t)}).then(i=>({chain:s,output:i}))}},{type:e.logic.type.endapply,regex:/^endapply$/,next:[],open:!1},{type:e.logic.type.do,regex:/^do\s+([\S\s]+)$/,next:[],open:!0,compile(n){const t=n.match[1],s=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack;return n.expression=s,delete n.match,n},parse(n,t,s){const r=this;return e.expression.parseAsync.call(r,n.expression,t).then(()=>({chain:s,context:t}))}},{type:e.logic.type.block,regex:/^block\s+(\w+)$/,next:[e.logic.type.endblock],open:!0,compile(n){return n.blockName=n.match[1].trim(),delete n.match,n},parse(n,t,s){const r=this;let i=e.Promise.resolve();return r.template.blocks.defined[n.blockName]=new e.Block(r.template,n),(r.template.parentTemplate===null||r.template.parentTemplate instanceof e.Template)&&(i=r.getBlock(n.blockName).render(r,t)),i.then(o=>({chain:s,output:o}))}},{type:e.logic.type.shortblock,regex:/^block\s+(\w+)\s+(.+)$/,next:[],open:!0,compile(n){const t=this;return n.expression=n.match[2].trim(),n.output=e.expression.compile({type:e.expression.type.expression,value:n.expression}).stack,e.logic.handler[e.logic.type.block].compile.apply(t,[n])},parse(...n){const t=this;return e.logic.handler[e.logic.type.block].parse.apply(t,n)}},{type:e.logic.type.endblock,regex:/^endblock(?:\s+(\w+))?$/,next:[],open:!1},{type:e.logic.type.extends_,regex:/^extends\s+(.+)$/,next:[],open:!0,compile(n){const t=n.match[1].trim();return delete n.match,n.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,n},parse(n,t,s){const r=this;return e.expression.parseAsync.call(r,n.stack,t).then(i=>{if(Array.isArray(i)){const o=i.reverse().reduce((a,l)=>{try{return{render:r.template.importFile(l),fileName:l}}catch{return a}},{render:null,fileName:null});o.fileName!==null&&(r.template.parentTemplate=o.fileName)}else r.template.parentTemplate=i;return{chain:s,output:""}})}},{type:e.logic.type.use,regex:/^use\s+(.+)$/,next:[],open:!0,compile(n){const t=n.match[1].trim();return delete n.match,n.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,n},parse(n,t,s){const r=this;return e.expression.parseAsync.call(r,n.stack,t).then(i=>{const o=r.template.importFile(i),a=new e.ParseState(o);return a.parseAsync(o.tokens).then(()=>{r.template.blocks.imported={...r.template.blocks.imported,...a.getBlocks()}})}).then(()=>({chain:s,output:""}))}},{type:e.logic.type.include,regex:/^include\s+(.+?)(?:\s|$)(ignore missing(?:\s|$))?(?:with\s+([\S\s]+?))?(?:\s|$)(only)?$/,next:[],open:!0,compile(n){const{match:t}=n,s=t[1].trim(),r=t[2]!==void 0,i=t[3],o=t[4]!==void 0&&t[4].length;return delete n.match,n.only=o,n.ignoreMissing=r,n.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:s}).stack,i!==void 0&&(n.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:i.trim()}).stack),n},parse(n,t,s){let r=n.only?{}:{...t};const{ignoreMissing:i}=n,o=this;let a=null;const l={chain:s,output:""};return typeof n.withStack>"u"?a=e.Promise.resolve():a=e.expression.parseAsync.call(o,n.withStack,t).then(c=>{r={...r,...c}}),a.then(()=>e.expression.parseAsync.call(o,n.stack,t)).then(c=>{let p;Array.isArray(c)?p=c:p=[c];const u=p.reduce((f,d)=>{if(f.render===null){if(d instanceof e.Template)return{render:d.renderAsync(r,{isInclude:!0}),lastError:null};try{return{render:o.template.importFile(d).renderAsync(r,{isInclude:!0}),lastError:null}}catch(h){return{render:null,lastError:h}}}return f},{render:null,lastError:null});if(u.render!==null)return u.render;if(u.render===null&&i)return"";throw u.lastError}).then(c=>(c!==""&&(l.output=c),l))}},{type:e.logic.type.spaceless,regex:/^spaceless$/,next:[e.logic.type.endspaceless],open:!0,parse(n,t,s){return this.parseAsync(n.output,t).then(i=>{const o=/>\s+</g;let a=i.replace(o,"><").trim();return a=new e.Markup(a),{chain:s,output:a}})}},{type:e.logic.type.endspaceless,regex:/^endspaceless$/,next:[],open:!1},{type:e.logic.type.macro,regex:/^macro\s+(\w+)\s*\(\s*((?:\w+(?:\s*=\s*([\s\S]+))?(?:,\s*)?)*)\s*\)$/,next:[e.logic.type.endmacro],open:!0,compile(n){const t=n.match[1],s=n.match[2].split(/\s*,\s*/),r=s.map(o=>o.split(/\s*=\s*/)[0]),i=r.length;if(i>1){const o={};for(let a=0;a<i;a++){const l=r[a];if(o[l])throw new e.Error("Duplicate arguments for parameter: "+l);o[l]=1}}return n.macroName=t,n.parameters=r,n.defaults=s.reduce(function(o,a){const l=a.split(/\s*=\s*/),c=l[0],p=l[1];return p?o[c]=e.expression.compile.call(this,{type:e.expression.type.expression,value:p}).stack:o[c]=void 0,o},{}),delete n.match,n},parse(n,t,s){const r=this;return r.macros[n.macroName]=function(...i){const o={...r.context,_self:r.macros};return e.async.forEach(n.parameters,function(a,l){return typeof i[l]<"u"?(o[a]=i[l],!0):typeof n.defaults[a]<"u"?e.expression.parseAsync.call(this,n.defaults[a],t).then(c=>(o[a]=c,e.Promise.resolve())):(o[a]=void 0,!0)}).then(()=>r.parseAsync(n.output,o))},{chain:s,output:""}}},{type:e.logic.type.endmacro,regex:/^endmacro$/,next:[],open:!1},{type:e.logic.type.import_,regex:/^import\s+(.+)\s+as\s+(\w+)$/,next:[],open:!0,compile(n){const t=n.match[1].trim(),s=n.match[2].trim();return delete n.match,n.expression=t,n.contextName=s,n.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,n},parse(n,t,s){const r=this,i={chain:s,output:""};return n.expression==="_self"?(t[n.contextName]=r.macros,i):e.expression.parseAsync.call(r,n.stack,t).then(o=>r.template.importFile(o||n.expression)).then(o=>{const a=new e.ParseState(o);return a.parseAsync(o.tokens).then(()=>(t[n.contextName]=a.macros,i))})}},{type:e.logic.type.from,regex:/^from\s+(.+)\s+import\s+([a-zA-Z0-9_, ]+)$/,next:[],open:!0,compile(n){const t=n.match[1].trim(),s=n.match[2].trim().split(/\s*,\s*/),r={};for(const i of s){const o=i.match(/^(\w+)\s+as\s+(\w+)$/);o?r[o[1].trim()]=o[2].trim():i.match(/^(\w+)$/)&&(r[i]=i)}return delete n.match,n.expression=t,n.macroNames=r,n.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,n},parse(n,t,s){const r=this;let i;return n.expression==="_self"?i=e.Promise.resolve(r.macros):i=e.expression.parseAsync.call(r,n.stack,t).then(o=>r.template.importFile(o||n.expression)).then(o=>{const a=new e.ParseState(o);return a.parseAsync(o.tokens).then(()=>a.macros)}),i.then(o=>{for(const a in n.macroNames)o[a]!==void 0&&(t[n.macroNames[a]]=o[a]);return{chain:s,output:""}})}},{type:e.logic.type.embed,regex:/^embed\s+(.+?)(?:\s+(ignore missing))?(?:\s+with\s+([\S\s]+?))?(?:\s+(only))?$/,next:[e.logic.type.endembed],open:!0,compile(n){const{match:t}=n,s=t[1].trim(),r=t[2]!==void 0,i=t[3],o=t[4]!==void 0&&t[4].length;return delete n.match,n.only=o,n.ignoreMissing=r,n.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:s}).stack,i!==void 0&&(n.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:i.trim()}).stack),n},parse(n,t,s){let r={},i=e.Promise.resolve(),o=this;return n.only||(r={...t}),n.withStack!==void 0&&(i=e.expression.parseAsync.call(o,n.withStack,t).then(a=>{r={...r,...a}})),i.then(()=>e.expression.parseAsync.call(o,n.stack,r)).then(a=>{const l=new e.Template({data:n.output,base:o.template.base,path:o.template.path,url:o.template.url,name:o.template.name,method:o.template.method,options:o.template.options});try{l.importFile(a)}catch(c){if(n.ignoreMissing)return"";throw o=null,c}return l.parentTemplate=a,l.renderAsync(r,{isInclude:!0})}).then(a=>({chain:s,output:a}))}},{type:e.logic.type.endembed,regex:/^endembed$/,next:[],open:!1},{type:e.logic.type.with,regex:/^(?:with(?:\s+([\S\s]+?))?)(?:\s|$)(only)?$/,next:[e.logic.type.endwith],open:!0,compile(n){const{match:t}=n,s=t[1],r=t[2]!==void 0&&t[2].length;return delete n.match,n.only=r,s!==void 0&&(n.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:s.trim()}).stack),n},parse(n,t,s){let r={},i;const o=this;let a=e.Promise.resolve();n.only||(r={...t}),n.withStack!==void 0&&(a=e.expression.parseAsync.call(o,n.withStack,t).then(c=>{for(i in c)Object.hasOwnProperty.call(c,i)&&(r[i]=c[i])}));const l=new e.ParseState(o.template,void 0,r);return a.then(()=>l.parseAsync(n.output)).then(c=>({chain:s,output:c}))}},{type:e.logic.type.endwith,regex:/^endwith$/,next:[],open:!1},{type:e.logic.type.deprecated,regex:/^deprecated\s+(.+)$/,next:[],open:!0,compile(n){return console.warn("Deprecation notice: "+n.match[1]),n},parse(){return{}}}],e.logic.handler={},e.logic.extendType=function(n,t){t=t||"Twig.logic.type"+n,e.logic.type[n]=t},e.logic.extend=function(n){if(n.type)e.logic.extendType(n.type);else throw new e.Error("Unable to extend logic definition. No type provided for "+n);e.logic.handler[n.type]=n};e.logic.definitions.length>0;)e.logic.extend(e.logic.definitions.shift());return e.logic.compile=function(n){const t=n.value.trim();let s=e.logic.tokenize.call(this,t);const r=e.logic.handler[s.type];return r.compile&&(s=r.compile.call(this,s),e.log.trace("Twig.logic.compile: ","Compiled logic token to ",s)),s},e.logic.tokenize=function(n){let t=null,s=null,r=null,i=null,o=null,a=null,l=null;n=n.trim();for(t in e.logic.handler)if(Object.hasOwnProperty.call(e.logic.handler,t)){for(s=e.logic.handler[t].type,r=e.logic.handler[t].regex,i=r,Array.isArray(r)||(i=[r]),o=i.length,a=0;a<o;a++)if(l=i[a].exec(n),l!==null)return e.log.trace("Twig.logic.tokenize: ","Matched a ",s," regular expression of ",l),{type:s,match:l}}throw new e.Error("Unable to parse '"+n.trim()+"'")},e.logic.parse=function(n,t,s,r){return e.async.potentiallyAsync(this,r,function(){e.log.debug("Twig.logic.parse: ","Parsing logic token ",n);const i=e.logic.handler[n.type];let o;const a=this;return i.parse?(a.nestingStack.unshift(n),o=i.parse.call(a,n,t||{},s),e.isPromise(o)?o=o.then(l=>(a.nestingStack.shift(),l)):a.nestingStack.shift(),o):""})},e}),Mt}var It,Tn;function la(){return Tn||(Tn=1,It=function(e){"use strict";e.Templates.registerParser("source",n=>n.data||"")}),It}var zt,es;function ca(){return es||(es=1,zt=function(e){"use strict";e.Templates.registerParser("twig",n=>new e.Template(n))}),zt}var jt,ts;function ua(){return ts||(ts=1,jt=function(e){"use strict";return e.path={},e.path.expandNamespace=function(n,t){const s=Object.keys(n),r=new RegExp(`^(?:@(${s.join("|")})/|(${s.join("|")})::)`);return t.replace(r,(i,o,a)=>`${n[o===void 0?a:o]}/`)},e.path.parsePath=function(n,t){const{namespaces:s}=n.options,r=t||"";let o=s&&typeof s=="object"?e.path.expandNamespace(s,r):r;return o===r&&(o=e.path.relativePath(n,r)),o},e.path.relativePath=function(n,t){let s,r,i="/";const o=[];let a=t||"",l;if(n.url)typeof n.base>"u"?s=n.url:s=n.base.replace(/([^/])$/,"$1/");else if(n.path){const c=Tt,p=c.sep||i,u=new RegExp("^\\.{1,2}"+p.replace("\\","\\\\"));a=a.replace(/\//g,p),n.base!==void 0&&a.match(u)===null?(a=a.replace(n.base,""),s=n.base+p):s=c.normalize(n.path),s=s.replace(p+p,p),i=p}else if((n.name||n.id)&&n.method&&n.method!=="fs"&&n.method!=="ajax")s=n.base||n.name||n.id;else throw new e.Error("Cannot extend an inline template.");for(r=s.split(i),r.pop(),r=r.concat(a.split(i));r.length>0;)l=r.shift(),l==="."||(l===".."&&o.length>0&&o[o.length-1]!==".."?o.pop():o.push(l));return o.join(i)},e}),jt}var Ft,ns;function pa(){return ns||(ns=1,Ft=function(e){"use strict";return e.tests={empty(n){if(n===!0)return!1;if(n==null)return!0;if(typeof n=="number"||n.length>0)return!1;for(const t in n)if(Object.hasOwnProperty.call(n,t))return!1;return!0},odd(n){return n%2===1},even(n){return n%2===0},"divisible by"(n,t){return n%t[0]===0},divisibleby(n,t){return console.warn("`divisibleby` is deprecated use `divisible by`"),e.tests["divisible by"](n,t)},defined(n){return n!==void 0},none(n){return n===null},null(n){return this.none(n)},"same as"(n,t){return n===t[0]},sameas(n,t){return console.warn("`sameas` is deprecated use `same as`"),e.tests["same as"](n,t)},iterable(n){return n&&(e.lib.is("Array",n)||e.lib.is("Object",n))}},e.test=function(n,t,s){if(!e.tests[n])throw e.Error("Test "+n+" is not defined.");return e.tests[n](t,s)},e.test.extend=function(n,t){e.tests[n]=t},e}),Ft}var Ht,ss;function fa(){return ss||(ss=1,Ht=function(e){"use strict";e.ParseState.prototype.parseAsync=function(a,l){return this.parse(a,l,!0)},e.expression.parseAsync=function(a,l,c){const p=this;return e.expression.parse.call(p,a,l,c,!0)},e.logic.parseAsync=function(a,l,c){const p=this;return e.logic.parse.call(p,a,l,c,!0)},e.Template.prototype.renderAsync=function(a,l){return this.render(a,l,!0)},e.async={},e.isPromise=function(a){return a&&a.then&&typeof a.then=="function"};function r(a,l,c){let p=c.call(a),u=null,f=!0;if(!e.isPromise(p))return p;if(p.then(d=>{p=d,f=!1}).catch(d=>{u=d}),u!==null)throw u;if(f)throw new e.Error("You are using Twig.js in sync mode in combination with async extensions.");return p}e.async.potentiallyAsync=function(a,l,c){return l?e.Promise.resolve(c.call(a)):r(a,l,c)};function i(a,l,c){try{a(l,c)}catch(p){c(p)}}function o(a,l,c){const p=[l,c,-2];return a?a[2]===-2?a=[a,p]:a.push(p):a=p,a}return e.Thenable=function(a,l,c){this.then=a,this._value=c?l:null,this._state=c||0},e.Thenable.prototype.catch=function(a){return this._state===1?this:this.then(null,a)},e.Thenable.resolvedThen=function(a){try{return e.Promise.resolve(a(this._value))}catch(l){return e.Promise.reject(l)}},e.Thenable.rejectedThen=function(a,l){if(!l||typeof l!="function")return this;const c=this._value;let p;try{p=l(c)}catch(u){p=e.Promise.reject(u)}return e.Promise.resolve(p)},e.Promise=function(a){let l=0,c=null,p=function(d,h){l=d,c=h};function u(d){p(1,d)}function f(d){p(2,d)}return i(a,u,f),l===1?e.Promise.resolve(c):l===2?e.Promise.reject(c):(p=new e.FullPromise,p.promise)},e.FullPromise=function(){let a=null;function l(d){d(f._value)}function c(d,h){h(f._value)}let p=function(d,h){a=o(a,d,h)};function u(d,h){if(!f._state&&(f._value=h,f._state=d,p=d===1?l:c,!!a)){if(a[2]===-2){p(a[0],a[1]),a=null;return}a.forEach(m=>{p(m[0],m[1])}),a=null}}const f=new e.Thenable((d,h)=>{const m=typeof d=="function";if(f._state===1&&!m)return e.Promise.resolve(f._value);if(f._state===1)try{return e.Promise.resolve(d(f._value))}catch(x){return e.Promise.reject(x)}const b=typeof h=="function";return new e.Promise((x,w)=>{p(m?A=>{try{x(d(A))}catch(_){w(_)}}:x,b?A=>{try{x(h(A))}catch(_){w(_)}}:w)})});return u.promise=f,u},e.Promise.defaultResolved=new e.Thenable(e.Thenable.resolvedThen,void 0,1),e.Promise.emptyStringResolved=new e.Thenable(e.Thenable.resolvedThen,"",1),e.Promise.resolve=function(a){return arguments.length===0||typeof a>"u"?e.Promise.defaultResolved:e.isPromise(a)?a:a===""?e.Promise.emptyStringResolved:new e.Thenable(e.Thenable.resolvedThen,a,1)},e.Promise.reject=function(a){return new e.Thenable(e.Thenable.rejectedThen,a,2)},e.Promise.all=function(a){const l=new Array(a.length);return e.async.forEach(a,(c,p)=>{if(!e.isPromise(c)){l[p]=c;return}if(c._state===1){l[p]=c._value;return}return c.then(u=>{l[p]=u})}).then(()=>l)},e.async.forEach=function(a,l){const c=a?a.length:0;let p=0;function u(){let f=null;do{if(p===c)return e.Promise.resolve();f=l(a[p],p),p++}while(!f||!e.isPromise(f)||f._state===1);return f.then(u)}return u()},e}),Ht}var qt,rs;function da(){return rs||(rs=1,qt=function(e){"use strict";return e.exports={VERSION:e.VERSION},e.exports.twig=function(n){"use strict";const{id:t}=n,s={strictVariables:n.strict_variables||!1,autoescape:n.autoescape!==null&&n.autoescape||!1,allowInlineIncludes:n.allowInlineIncludes||!1,rethrow:n.rethrow||!1,namespaces:n.namespaces};if(e.cache&&t&&e.validateId(t),n.debug!==void 0&&(e.debug=n.debug),n.trace!==void 0&&(e.trace=n.trace),n.data!==void 0)return e.Templates.parsers.twig({data:n.data,path:Object.hasOwnProperty.call(n,"path")?n.path:void 0,module:n.module,id:t,options:s});if(n.ref!==void 0){if(n.id!==void 0)throw new e.Error("Both ref and id cannot be set on a twig.js template.");return e.Templates.load(n.ref)}if(n.method!==void 0){if(!e.Templates.isRegisteredLoader(n.method))throw new e.Error('Loader for "'+n.method+'" is not defined.');return e.Templates.loadRemote(n.name||n.href||n.path||t||void 0,{id:t,method:n.method,parser:n.parser||"twig",base:n.base,module:n.module,precompiled:n.precompiled,async:n.async,options:s},n.load,n.error)}if(n.href!==void 0)return e.Templates.loadRemote(n.href,{id:t,method:"ajax",parser:n.parser||"twig",base:n.base,module:n.module,precompiled:n.precompiled,async:n.async,options:s},n.load,n.error);if(n.path!==void 0)return e.Templates.loadRemote(n.path,{id:t,method:"fs",parser:n.parser||"twig",base:n.base,module:n.module,precompiled:n.precompiled,async:n.async,options:s},n.load,n.error)},e.exports.extendFilter=function(n,t){e.filter.extend(n,t)},e.exports.extendFunction=function(n,t){e._function.extend(n,t)},e.exports.extendTest=function(n,t){e.test.extend(n,t)},e.exports.extendTag=function(n){e.logic.extend(n)},e.exports.extend=function(n){n(e)},e.exports.compile=function(n,t){const s=t.filename,r=t.filename,i=new e.Template({data:n,path:r,id:s,options:t.settings["twig options"]});return function(o){return i.render(o)}},e.exports.renderFile=function(n,t,s){typeof t=="function"&&(s=t,t={}),t=t||{};const r=t.settings||{},i=r["twig options"],o={path:n,base:r.views,load(a){if(!i||!i.allowAsync){s(null,String(a.render(t)));return}a.renderAsync(t).then(l=>s(null,l),s)},error(a){s(a)}};if(i)for(const a in i)Object.hasOwnProperty.call(i,a)&&(o[a]=i[a]);e.exports.twig(o)},e.exports.__express=e.exports.renderFile,e.exports.cache=function(n){e.cache=n},e.exports.path=e.path,e.exports.filters=e.filters,e.exports.tests=e.tests,e.exports.functions=e.functions,e.exports.Promise=e.Promise,e}),qt}var Bt,is;function ha(){return is||(is=1,Bt=function e(){const n={VERSION:"1.17.1"};return Ho()(n),qo()(n),Uo()(n),Vo()(n),Wo()(n),na()(n),sa()(n),oa()(n),aa()(n),la()(n),ca()(n),ua()(n),pa()(n),fa()(n),da()(n),n.exports.factory=e,n.exports}),Bt}var Ut,os;function ma(){return os||(os=1,Ut=ha()()),Ut}var ya=ma();const ga=or(ya),bn={init:"data-live-demo-init",context:"data-live-demo",options:"data-live-demo-options"},Ar=e=>`[${bn[e]}]`,ba=e=>`${Ar(e)}:not([${bn.init}])`,xa=e=>document.querySelectorAll(ba(e)),Be=(...e)=>console.log("Live Demo:",...e),va={display:"[data-live-demo-display]",form:"[data-live-demo-form]"};function Ea(){Sa()}function Sa(){xa("context").forEach(e=>{const n=e.querySelector(Ar("options"));if(!n){console.error("Missing options",e);return}const t=JSON.parse(n.innerHTML);e.setAttribute(bn.init,""),ka({context:e,...t})})}function ka(e){const n=Object.assign({},va,e),{context:t,debug:s}=n;s&&Be("options:",n);const r=ve(n.form,t),i=ve(n.display,t);if(!r||!i)throw new Error("Unable to locate form or display for live demo",n);const o=ga.twig({data:n.template});s&&Be("twigTemplate",o),l(),r.addEventListener("change",a);function a(){l(),Ee("pageModified",t)}function l(){const c=new FormData(r),p={};c.forEach((f,d)=>{p[d]=f});const u=o.render(p);s&&(Be("Data Passed by Form to template:",p),Be("Markup from rendering template:",u)),i.innerHTML=u}}window.Ulu=Do;bs({debug:!0});ms("cssvarPrefix","site");xr();Ms();Rs();Ks();br();pr();Ns();Cs();tr();ir();Qs();Zs();rr();ar();_s();mr();xs();Io({onChange(e,n){const t=n==="list",s=e.querySelectorAll(".card"),r=e.querySelector(".card-grid");s&&s.forEach(i=>{i.classList[t?"add":"remove"]("card--horizontal")}),r&&r.classList[t?"add":"remove"]("card-grid--one-column")}});zo();Ea();Pr(()=>import("./modulepreload-polyfill-B5Qt9EMX.js"),[],import.meta.url);
