(function(l,f){typeof exports=="object"&&typeof module<"u"?f(exports,require("@floating-ui/dom"),require("swipe-listener"),require("aria-tablist")):typeof define=="function"&&define.amd?define(["exports","@floating-ui/dom","swipe-listener","aria-tablist"],f):(l=typeof globalThis<"u"?globalThis:l||self,f(l.ULU={},l.FloatingUIDOM,l.SwipeListener,l.AriaTablist))})(this,function(l,f,y,it){"use strict";var $i=Object.defineProperty;var Ue=l=>{throw TypeError(l)};var Li=(l,f,y)=>f in l?$i(l,f,{enumerable:!0,configurable:!0,writable:!0,value:y}):l[f]=y;var v=(l,f,y)=>Li(l,typeof f!="symbol"?f+"":f,y),Qt=(l,f,y)=>f.has(l)||Ue("Cannot "+y);var g=(l,f,y)=>(Qt(l,f,"read from private field"),y?y.call(l):f.get(l)),O=(l,f,y)=>f.has(l)?Ue("Cannot add the same private member more than once"):f instanceof WeakSet?f.add(l):f.set(l,y),E=(l,f,y,it)=>(Qt(l,f,"write to private field"),it?it.call(l,y):f.set(l,y),y),D=(l,f,y)=>(Qt(l,f,"access private method"),y);var V,K,z,$,W,X,R,Y,G,S,It,_t,Jt,Zt;function te(s,t,e,i){let n;const o=function(){const a=this,r=arguments,c=function(){n=null,s.apply(a,r)};clearTimeout(n),n=setTimeout(c,t)};return o.cancel=function(){clearTimeout(n),n=null},o}const Ve=/(\r\n|\n|\r)/gm,Ke=/\s+/g,We=/^[{\[][\s\S]*[}\]]$/;function Xe(s,t={},e=null){try{return JSON.parse(s)}catch(i){return typeof e=="function"?e(i,s):console.warn("safeParse: Failed to parse JSON string:",s,"Error:",i),t}}function ee(){return typeof window<"u"&&typeof window.document<"u"}function se(s){return new DOMParser().parseFromString(s,"text/html").body.firstElementChild}function Ye(s,t,e={}){const i=s.dataset[t];return Xe(i,e,n=>{console.error(`Error getting JSON from dataset (${t}) -- "${i}"
`,s,n)})}function Ge(s,t){const e=s.dataset[t];return e&&We.test(e.trim())?Ye(s,t):e}function Qe(s,t){const e=s.getBoundingClientRect();return t.clientY<e.top||t.clientY>e.top+e.height||t.clientX<e.left||t.clientX>e.left+e.width}function nt(s,t=document){return typeof s=="string"?t.querySelector(s):s instanceof Element?s:(console.warn("getElement: Invalid target type (expected String/Node)",s),null)}function ie(s,t=document){return typeof s=="string"?[...t.querySelectorAll(s)]:s instanceof Element?[s]:Array.isArray(s)||s instanceof NodeList?[...s]:(console.warn("getElement: Invalid target type (expected String/Node/Array/Node List)",s),null)}function _e(s){const e={...{scrollableChild:document.body,container:window,propertyElement:document.documentElement,propertyName:"--ulu-scrollbar-width"},...s},{scrollableChild:i,container:n,propertyElement:o,propertyName:a}=e,r=ne(i,n);o.style.setProperty(a,`${r}px`)}function ne(s=document.body,t=window){return t.innerWidth-s.clientWidth}function Je({preventShift:s=!1,container:t=document.body}){const e=t.style.overflow,i=t.style.paddingRight;if(t.style.overflow="hidden",s){const n=ne();if(n>0){const o=parseInt(i||"0px",10);t.style.paddingRight=`${o+n}px`}}return()=>{t.style.overflow=e,t.style.paddingRight=i}}ee()&&(ts(),es());const zt={pageModified(s){s.dispatchEvent(B("pageModified"))},pageResized(s){s.dispatchEvent(B("pageResized"))},beforePrint(s){s.dispatchEvent(B("beforePrint"))},afterPrint(s){s.dispatchEvent(B("afterPrint"))}},Ze=Object.keys(zt);function _(s,t){zt[s]?zt[s](t):console.warn(`Unable to dispatch non-core event: ${s}`)}function H(s){return"ulu:"+s}function T(s){return Ze.includes(s)?H(s):(console.warn(`'${s}' is not a valid core event type.`),null)}function B(s,t=null,e={bubbles:!0}){return new CustomEvent(H(s),{detail:t,...e})}function ts(){window.addEventListener("resize",te(()=>_("pageResized",document),250))}function es(){window.addEventListener("beforeprint",()=>{_("beforePrint",document)}),window.addEventListener("afterprint",()=>{_("afterPrint",document)})}const oe={iconClassClose:"css-icon css-icon--close",iconClassDragX:"css-icon css-icon--drag-x",iconClassDragBoth:"css-icon css-icon--drag-both",iconClassPrevious:"css-icon  css-icon--angle-left",iconClassNext:"css-icon  css-icon--angle-right",cssvarPrefix:""};let J={...oe};function ss(){return{...oe}}function re(s){Object.assign(J,s)}function is(){return{...J}}function ae(s){if(!J.hasOwnProperty(s)){console.warn(`Attempted to access non-existent setting: ${s}`);return}return J[s]}function ns(s,t){J[s]=t}function P(s,t){return{toString(){const e=ae(s);return t?t(e):e}}}function ot(s){return t=>s.every(e=>Object.prototype.hasOwnProperty.call(t,e))}function rt(s){return s.replace(Ve,"").replace(Ke," ").trim()}function os(s){return s.replace(/-([a-z])/g,(t,e)=>e.toUpperCase())}function le(s){return os(s.replace(/^data-/,""))}function ce(s,t={columnFirst:"position-column-first",columnLast:"position-column-last",rowFirst:"position-row-first",rowLast:"position-row-last"}){const e=[...s.children],i=[];let n;e.forEach(o=>{const a=o.getBoundingClientRect().y;n!==a&&i.push([]),i[i.length-1].push(o),n=a,o.classList.remove(...Object.values(t))}),i.forEach((o,a)=>{a===0&&o.forEach(r=>r.classList.add(t.rowFirst)),a==i.length-1&&o.forEach(r=>r.classList.add(t.rowLast)),o.forEach((r,c)=>{c===0&&r.classList.add(t.columnFirst),c==o.length-1&&r.classList.add(t.columnLast)})})}function at(s){return typeof s=="string"?s.split(" ").filter(t=>t!==""):Array.isArray(s)?s:s?(console.warn("resolveClassArray: Invalid class input type.",s),[]):[]}const M=class M{constructor(t){if(!M.hasRequiredOptions(t))throw new Error(`Missing a required options: ${M.requiredOptions.join(", ")}`);this.options=Object.assign({},M.defaults,t),this.logTitle=`ULU: ${this.options.type}:
`}init(t){var e;this.setupElements(t),(e=t.coreEvents)!=null&&e.length&&t.coreEvents.forEach(i=>{const n=T(i);n&&document.addEventListener(n,()=>this.setupElements(t))})}setupElements(t){const{setup:e,key:i,withData:n,context:o}=t;this.queryAllInitial(i,n,o).forEach(r=>e(r,this))}getAttribute(t){const{baseAttribute:e}=this.options;return t?`${e}-${t}`:`${e}`}attributeSelector(t){return`[${this.getAttribute(t)}]`}attributeSelectorInitial(t){return`${this.attributeSelector(t)}:not([${this.getAttribute("init")}])`}queryAllInitial(t,e,i=document){return[...i.querySelectorAll(this.attributeSelectorInitial(t))].map(o=>({element:o,data:e?this.getData(o,t):null,initialize:()=>this.initializeElement(o)}))}initializeElement(t){t.setAttribute(this.getAttribute("init"),"")}getData(t,e){const i=le(this.getAttribute(e));return Ge(t,i)}log(...t){console.log(this.logTitle,...t)}warn(...t){console.warn(this.logTitle,...t)}logError(...t){console.error(this.logTitle,...t)}};v(M,"defaults",{type:null,baseAttribute:null}),v(M,"requiredOptions",["type","baseAttribute"]),v(M,"hasRequiredOptions",ot(M.requiredOptions));let C=M;function Ot(s,t){var e=s.indexOf(t);e>-1&&s.splice(e,1)}function rs(s,t){return`--${s}-${t}`}const Z={debug:!1,warningsAlways:!0,errorsAlways:!0,outputContext:!1},as="console"in window;function Tt(s){var t;return as&&Z.debug&&((s==null?void 0:s.debug)||((t=s==null?void 0:s.options)==null?void 0:t.debug)||s==null)}function ls(s){var t;return typeof s=="object"&&((t=s==null?void 0:s.constructor)==null?void 0:t.name)}function Dt(s,t,e){const i=ls(t)||"Logger";console[s](i,...e),Z.outputContext&&console.log(`Context:
`,t)}function cs(s){Object.assign(Z,s)}function A(s,...t){Tt(s)&&Dt("log",s,t)}function Pt(s,...t){(Z.warningsAlways||Tt(s))&&Dt("warn",s,t)}function w(s,...t){(Z.errorsAlways||Tt(s))&&Dt("error",s,t)}const us=s=>rs(s,"breakpoint"),I=class I{static _initializeGlobals(){I.globalsInitialized||!ee()||(window.addEventListener(T("pageResized"),()=>{I.instances.forEach(t=>t.update())}),I.globalsInitialized=!0)}constructor(t){I._initializeGlobals(),Object.assign(this,I.defaults,t),this.active=null,this.previous=null,this.activeIndex=null,this.resizeDirection=null,this.previousIndex=null,this.breakpoints={},this.onChangeCallbacks=[],this.order.forEach(e=>this.breakpoints[e]=new ds(e,this)),A(this,this),this.update(),I.instances.push(this)}onChange(t){this.onChangeCallbacks.push(t)}removeOnChange(t){Ot(this.onChangeCallbacks,t)}getBreakpointInPseudo(){return window.getComputedStyle(this.element,this.pseudoSelector).content.replace(/^"|"$/g,"")}getBreakpointInProperty(){return getComputedStyle(this.element).getPropertyValue(this.customProperty).trim()}getBreakpoint(){return this.valueFromPseudo?this.getBreakpointInPseudo():this.getBreakpointInProperty()}update(){const t=this.getBreakpoint();if(!t){w(this,"Unable to get current breakpoint, maybe order is incorrect? Breakpoint check skipped!");return}if(t===this.active)return;this.previous=this.active,this.previousIndex=this.activeIndex;const e=this.order.indexOf(t);this.active=t,this.activeIndex=e,this.order.forEach((i,n)=>{const o=this.breakpoints[i],a=this.activeIndex;o._setDirection("min",n<=a),o._setDirection("max",n>a),o._setDirection("only",n===a)}),this.previousIndex!==null&&(this.resizeDirection=this.previousIndex<e?"up":"down"),this.onChangeCallbacks.forEach(i=>i(this))}at(t){const e=this.breakpoints[t];return t||w(this,"Unable to find breakpoint for:",e),e}};v(I,"instances",[]),v(I,"globalsInitialized",!1),v(I,"defaults",{element:document==null?void 0:document.documentElement,valueFromPseudo:!1,customProperty:"--breakpoint",customProperty:P("cssvarPrefix",us),pseudoSelector:":before",order:["none","small","medium","large"],debug:!1});let xt=I;class Mt{constructor(t,e){this.direction=t,this.active=!1,this.on=[],this.off=[],this.breakpoint=e}change(t){this.active!==t&&(t?this._call(!0):this.active&&this._call(!1),this.active=t)}_call(t){(t?this.on:this.off).forEach(i=>i()),A(this.breakpoint._manager,`Handlers called (${t?"on":"off"}): ${this.direction}`)}getHandlers(t){return typeof t!="object"?{on:t}:t}add(t){const e=this.getHandlers(t);e.on&&this.on.push(e.on),e.off&&this.off.push(e.off),this.active&&e.on&&(e.on(),A(this.breakpoint._manager,`Handler called immediately: ${this.direction}`,e.on))}remove(t){const e=this.getHandlers(t);e.on&&Ot(this.on,e.on),e.off&&Ot(this.off,e.off)}}class ds{constructor(t,e){this.directions={max:new Mt("max",this),min:new Mt("min",this),only:new Mt("only",this)},this._manager=e,this.name=t}_setDirection(t,e){this.directions[t].change(e)}max(t){this.directions.max.add(t)}min(t){this.directions.min.add(t)}only(t){this.directions.only.add(t)}remove(t,e){(e?[e]:["max","min","only"]).forEach(n=>{this.directions[n]&&this.directions[n].remove(t)})}log(...t){t.unshift(`Breakpoint (${this.name}):`),this._manager.log.apply(this._manager,t)}}let hs=0;function lt(){return`ulu-uid-${++hs}`}function ct(s){s.id||(s.id=lt())}const St=class St{constructor(t,e){const{trigger:i,content:n}=t;if(!i||!n){w(this,"missing required elements (trigger or content)");return}const o=Object.assign({},St.defaults,e);this.elements=t,this.options=o,this.isOpen=!1,this.handlers={},ct(i),ct(n),this.debugLog(this,this),o.selfManaged||this.attachHandlers(),this.setup()}attachHandlers(){const{trigger:t,content:e}=this.elements,{focusoutCloses:i}=this.options;this.clickHandler=n=>{this.onClick(n)},this.focusoutHandler=n=>{i&&document.addEventListener("focusin",()=>{e.contains(document.activeElement)||this.close(n)},{once:!0})},t.addEventListener("click",this.clickHandler),e.addEventListener("focusout",this.focusoutHandler)}removeHandlers(){const{trigger:t,content:e}=this.elements;t.removeEventListener("click",this.clickHandler),e.removeEventListener("focusout",this.focusoutHandler)}onClick(t){this.toggle(t)}destroy(){this.removeHandlers(),this.destroyTemporaryHandlers()}debugLog(...t){this.options.debug&&A(this,...t)}setup(){const{trigger:t,content:e}=this.elements,{startOpen:i}=this.options;t.setAttribute("role","button"),t.setAttribute("aria-controls",e.id),e.setAttribute("aria-labelledby",t.id),this.setState(i)}createEvent(t,e){return new CustomEvent(H("collapsible:"+t),{detail:e})}setState(t,e){const i={collapsible:this,isOpen:t,event:e};this.debugLog(this,"Set state",i);const{trigger:n,content:o}=this.elements,{openClass:a}=this.options,r=c=>c.classList[t?"add":"remove"](a);n.setAttribute("aria-expanded",t?"true":"false"),r(n),r(o),this.isOpen=t,this.options.onChange(i),n.dispatchEvent(this.createEvent("change",i)),t?this.setupTemporaryHandlers():this.destroyTemporaryHandlers()}setupTemporaryHandlers(){const{content:t,trigger:e}=this.elements,{clickOutsideCloses:i,escapeCloses:n}=this.options,o=r=>{const{target:c}=r,u=e.contains(c),d=t.contains(c);i&&!u&&!d&&this.close(r)},a=r=>{n&&r.key==="Escape"&&this.close(r)};document.addEventListener("click",o),document.addEventListener("keydown",a),this.handlers.onDocumentClick=o,this.handlers.onDocumentKeydown=a}destroyTemporaryHandlers(){const{onDocumentClick:t,onDocumentKeydown:e}=this.handlers;t&&document.removeEventListener("click",t),t&&document.removeEventListener("keydown",e)}open(t){this.setState(!0,t)}close(t){this.setState(!1,t)}toggle(t){this.setState(!this.isOpen,t)}};v(St,"defaults",{clickOutsideCloses:!1,focusoutCloses:!1,escapeCloses:!1,selfManaged:!1,startOpen:!1,openClass:"is-active",debug:!0,onChange(t){}});let ut=St;const dt=new C({type:"details-group",baseAttribute:"data-ulu-details-group"}),Rt=dt.getAttribute("child-init"),fs={onlyOneOpen:!0,childSelector:":scope > details"};function ps(){dt.init({withData:!0,coreEvents:["pageModified"],setup({element:s,data:t,initialize:e}){ue(s,t),e()}})}function ue(s,t){const e=Object.assign({},fs,t);try{n()}catch(r){console.error(r)}function i(){return s.querySelectorAll(e.childSelector)}function n(){i().forEach(r=>{r.hasAttribute(Rt)||(r.setAttribute(Rt,""),r.addEventListener("toggle",o))})}function o({target:r}){e.onlyOneOpen&&r.open&&i().forEach(c=>{c!==r&&c.open&&(c.open=!1)})}function a(){i().forEach(r=>{r.removeEventListener("toggle",o),r.removeAttribute(Rt)}),s.removeAttribute(dt.getAttribute("init"))}return{destroy:a,element:s,setupChildren:n}}const gs=[".youtube-embedded-video",'iframe[title*="YouTube video player"]','iframe[src*="youtube.com/embed"]'];function de(s=document){fe(s).forEach(e=>{try{e.contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*")}catch(i){console.error(i)}})}function he(s=document){fe(s).forEach(e=>{const{src:i}=e;i&&(e.src=i.split("?")[0]+"?rel=0&enablejsapi=1")})}function fe(s){return s.querySelectorAll(gs.join(", "))}const Ht="data-ulu-dialog",N=new C({type:"dialog",baseAttribute:Ht}),pe=N.getAttribute("close"),qt={nonModal:!1,documentEnd:!1,clickOutsideCloses:!0,pauseVideos:!0,preventScroll:!0,preventScrollShift:!0};let ht={...qt};function ms(s){ht=Object.assign({},ht,s)}function bs(){N.init({coreEvents:["pageModified"],withData:!0,setup({element:s,initialize:t,data:e}){me(s,e),t()}}),N.init({key:"trigger",coreEvents:["pageModified"],withData:!0,setup({element:s,initialize:t,data:e}){ge(s,e),t()}})}function ge(s,t){s.addEventListener("click",e);function e(i){var r;i.target.closest("a")&&i.preventDefault();const o=document.getElementById(t);if(!o){console.error("Could not locate dialog (id)",t);return}if(((r=o==null?void 0:o.tagName)==null?void 0:r.toLowerCase())!=="dialog"){console.error("Attempted to trigger non <dialog> element. Did you mean to use modal builder?");return}const a=be(o);o[a.nonModal?"show":"showModal"]()}}function me(s,t){const e=Object.assign({},ht,t),i=document.body,{preventScrollShift:n}=e;let o;if(s.addEventListener(H("resizer:start"),r),s.addEventListener(H("resizer:end"),c),s.addEventListener("click",a),e.documentEnd&&i.appendChild(s),e.pauseVideos&&vs(s),!e.nonModal&&e.preventScroll){let u;s.addEventListener("toggle",d=>{d.newState==="open"?u=Je({preventShift:n}):u&&u()})}function a(u){const{target:d}=u,h=d===s,p=d.closest(N.attributeSelector("close"));(!o&&e.clickOutsideCloses&&h&&Qe(s,u)||p)&&(e.pauseVideos&&ys(s),s.close())}function r(u){o=u.pointerId}function c(u){o===u.pointerId&&setTimeout(()=>{o=null},0)}}function be(s){return Object.assign({},ht,N.getData(s))}function vs(s){he(s)}function ys(s){de(s),s.querySelectorAll("video").forEach(e=>e.pause())}const ft=new C({type:"flipcard",baseAttribute:"data-ulu-flipcard"});function Cs(){ft.init({withData:!0,coreEvents:["pageModified"],setup({element:s,data:t,initialize:e}){const i=Object.assign({},t),n=s.querySelector(ft.attributeSelector("front")),o=s.querySelector(ft.attributeSelector("back"));new pt(s,n,o,i),e()}})}const j=class j{constructor(t,e,i,n){i||w(this,"Missing an element (container, front, back)"),this.options=Object.assign({},j.defaults,n);const{namespace:o}=this.options;j.instances.push(this),this.elements={container:t,front:e,back:i},this.isOpen=!1,this.uid=`${o}-id-${j.instances.length}`,this.stateAttr=`data-${o}-state`.toLowerCase(),this.setup(),this.setVisibility(!1),A(this,this)}toggle(){this.setVisibility(!this.isOpen)}setup(){const{uid:t}=this,{namespace:e,proxyClick:i}=this.options,{container:n,front:o,back:a}=this.elements,r=this.elements.control=document.createElement("button");r.classList.add(this.getClass("control-button")),r.setAttribute("type","button"),r.innerHTML=this.createControlContent(),r.style.gridArea=e,r.style.zIndex="-1",r.addEventListener("focusin",()=>{r.style.zIndex="20"}),r.addEventListener("focusout",()=>{r.style.zIndex="-1"}),r.addEventListener("click",this.toggle.bind(this)),a.parentNode.insertBefore(r,a),n.classList.add(this.options.namespace),n.setAttribute("style",rt(this.containerCss())),i&&n.addEventListener("click",this.onProxyClick.bind(this)),o.style.gridArea=e,a.style.gridArea=e,r.id=`${t}-control`,r.setAttribute("aria-controls",a.id),r.setAttribute("aria-expanded","false"),a.id=`${t}-back`,a.setAttribute("aria-labelledby",r.id),a.setAttribute("aria-hidden","true")}onProxyClick({target:t}){const{exclude:e,allowSelection:i,selectionMin:n}=this.options.proxyClick,o=window.getSelection();e&&!t.matches(e)&&(!i||o.toString().length<n)&&this.toggle()}getClass(t){const{namespace:e}=this.options;return t?`${e}__${t}`:e}createControlContent(){return`
      <span class="hidden-visually">Show More Information</span>
    `}setVisibility(t){const{back:e,container:i,control:n}=this.elements,o=t?"open":"closed";e.style.zIndex=t?"10":"1",e.style.visibility=t?"visible":"hidden",i.setAttribute(this.stateAttr,o),e.setAttribute("aria-hidden",t?"false":"true"),n.setAttribute("aria-expanded",t?"true":"false"),this.isOpen=t}containerCss(){return`
      display: -ms-grid;
      display: grid;
      position: relative; 
      -ms-grid-columns: 1fr; 
      grid-template-columns: 1fr;
      justify-items: stretch;
      grid-template-areas: "${this.options.namespace}";
      cursor: pointer;
    `}panelCss(t=1){return`
      grid-area: ${this.options.namespace};
      z-index: ${t}
    `}};v(j,"instances",[]),v(j,"defaults",{namespace:"Flipcard",proxyClick:{allowSelection:!0,selectionMin:10,exclude:"a, input, textarea, button"}});let pt=j;const ve=new C({type:"grid",baseAttribute:"data-grid"});function Es(s){ve.init({coreEvents:["pageModified","pageResized"],setup({element:t,initialize:e}){ce(t,s),e()}})}const $t=class $t{constructor(t,e,i){O(this,S);O(this,V);O(this,K);O(this,z);O(this,$);O(this,W);O(this,X);O(this,R);O(this,Y);O(this,G);if(!e||!t){w(this,"Missing required elements: control, container");return}const n=Object.assign({},$t.defaults,i);this.options=n,this.container=t,this.control=e,this.debug=n.debug;const o=["left","right"],a=["top","bottom"],{fromX:r,fromY:c}=n;if(!o.includes(r)&&r!==null){w(this,`Invalid fromX: ${r} (left|right|null)`);return}if(!a.includes(c)&&c!==null){w(this,`Invalid fromY: ${c} (top|bottom|null)`);return}if(!r&&!c){w(this,"Invalid fromX/fromY, failed to setup resizer (at least one of fromX or fromY must be set)");return}this.resizeHorizontal=n.fromX!==null,this.resizeVertical=n.fromY!==null,n.manageEvents&&(E(this,V,this.onPointerdown.bind(this)),E(this,K,this.onKeydown.bind(this)),n.enablePointerResizing&&e.addEventListener("pointerdown",g(this,V)),n.enableKeyboardResizing&&e.addEventListener("keydown",g(this,K))),D(this,S,It).call(this),n.manageAriaLabel&&e.setAttribute("aria-label",this.getAriaLabel())}destroy(){const{control:t,options:e}=this;e.manageEvents&&(e.enablePointerResizing&&t.removeEventListener("pointerdown",g(this,V)),e.enableKeyboardResizing&&t.removeEventListener("keydown",g(this,K))),g(this,z)&&clearTimeout(g(this,z)),D(this,S,It).call(this),e.manageAriaLabel&&t.removeAttribute("aria-label"),A(this,"Resizer destroyed.")}onPointerdown(t){if(!this.options.enablePointerResizing){A(this,"Pointer resizing disabled. Ignoring pointerdown event.");return}t.preventDefault();const e=document.documentElement;E(this,Y,t.clientX),E(this,G,t.clientY),D(this,S,_t).call(this,{inputType:"pointer",startX:t.clientX,startY:t.clientY,pointerId:t.pointerId}),this.control.setPointerCapture(t.pointerId);const i=o=>{const a=o.clientX-g(this,Y),r=o.clientY-g(this,G);D(this,S,Zt).call(this,a,r,o)},n=o=>{e.removeEventListener("pointermove",i,!1),e.removeEventListener("pointerup",n,{capture:!0,once:!0}),this.control.hasPointerCapture(o.pointerId)&&this.control.releasePointerCapture(o.pointerId),D(this,S,Jt).call(this)};e.addEventListener("pointermove",i,!1),e.addEventListener("pointerup",n,{capture:!0,once:!0})}onKeydown(t){if(!this.options.enableKeyboardResizing){A(this,"Keyboard resizing disabled. Ignoring keydown event.");return}const{key:e}=t,{keyboardStep:i,keyboardDebounceTime:n}=this.options;let o=0,a=0,r=!1;this.resizeHorizontal&&(e==="ArrowLeft"?(o=-i,r=!0):e==="ArrowRight"&&(o=i,r=!0)),this.resizeVertical&&(e==="ArrowUp"?(a=-i,r=!0):e==="ArrowDown"&&(a=i,r=!0)),r&&(t.preventDefault(),t.stopPropagation(),(!g(this,R)||g(this,z)===null)&&D(this,S,_t).call(this,{inputType:"keyboard",keyboardKey:e}),E(this,W,g(this,W)+o),E(this,X,g(this,X)+a),D(this,S,Zt).call(this,g(this,W),g(this,X),t),g(this,z)&&clearTimeout(g(this,z)),E(this,z,setTimeout(()=>{D(this,S,Jt).call(this),E(this,z,null)},n)))}getAriaLabel(){const{fromY:t,fromX:e}=this.options,i=[t,e].filter(n=>n);return i.length===0?"Resize control":`Resize from ${i.join(" ")} edge`}dispatchEvent(t,e={}){this.container.dispatchEvent(B(t,e))}};V=new WeakMap,K=new WeakMap,z=new WeakMap,$=new WeakMap,W=new WeakMap,X=new WeakMap,R=new WeakMap,Y=new WeakMap,G=new WeakMap,S=new WeakSet,It=function(){E(this,z,null),E(this,$,{width:0,height:0}),E(this,W,0),E(this,X,0),E(this,R,!1),E(this,Y,0),E(this,G,0)},_t=function(t){const{container:e,options:i}=this;if(g(this,R)){i.overrideMaxDimensions&&(this.resizeHorizontal&&(e.style.maxWidth="none"),this.resizeVertical&&(e.style.maxHeight="none"));return}const o=document.defaultView.getComputedStyle(e);g(this,$).width=parseInt(o.width,10),g(this,$).height=parseInt(o.height,10),i.overrideMaxDimensions&&(this.resizeHorizontal&&(e.style.maxWidth="none"),this.resizeVertical&&(e.style.maxHeight="none")),E(this,R,!0),this.dispatchEvent("resizer:start",t),A(this,"Resize started.",{initialWidth:g(this,$).width,initialHeight:g(this,$).height,...t})},Jt=function(){g(this,R)&&(this.dispatchEvent("resizer:end"),D(this,S,It).call(this),A(this,"Resize ended."))},Zt=function(t,e,i){let n=g(this,$).width,o=g(this,$).height;const{fromX:a,fromY:r,multiplier:c}=this.options;this.resizeHorizontal&&(a==="right"?n=g(this,$).width+t*c:a==="left"&&(n=g(this,$).width-t*c),this.container.style.width=`${Math.max(0,n)}px`),this.resizeVertical&&(r==="bottom"?o=g(this,$).height+e*c:r==="top"&&(o=g(this,$).height-e*c),this.container.style.height=`${Math.max(0,o)}px`);const u={newWidth:n,newHeight:o,totalDeltaX:t,totalDeltaY:e,event:i};this.dispatchEvent("resizer:update",u),A(this,"Resizing update.",u)},v($t,"defaults",{debug:!1,multiplier:1,overrideMaxDimensions:!1,fromX:null,fromY:null,keyboardStep:10,keyboardDebounceTime:200,manageEvents:!0,manageAriaLabel:!1,enablePointerResizing:!0,enableKeyboardResizing:!0});let gt=$t;const q=new C({type:"modal-builder",baseAttribute:"data-ulu-modal-builder"}),ye={title:null,titleIcon:null,titleClass:"",labelledby:null,describedby:null,nonModal:!1,documentEnd:!0,allowResize:!1,position:"center",bodyFills:!1,noBackdrop:!1,size:"default",print:!1,noMinHeight:!1,class:"",baseClass:"modal",footerElement:null,footerHtml:null,classClose:"button button--icon",classCloseIcon:P("iconClassClose",s=>`${s} button__icon`),classResizerIcon:P("iconClassDragX"),classResizerIconBoth:P("iconClassDragBoth"),debug:!1,templateCloseIcon(s){const{baseClass:t,classCloseIcon:e}=s;return`<span class="${t}__close-icon ${e}" aria-hidden="true"></span>`},templateResizerIcon(s){const{baseClass:t,classResizerIcon:e,classResizerIconBoth:i}=s,n=s.position==="center"?i:e;return`<span class="${t}__resizer-icon ${n}" aria-hidden="true"></span>`},template(s,t){const{baseClass:e,describedby:i,footerHtml:n}=t,o=[e,`${e}--${t.position}`,`${e}--${t.size}`,`${e}--${t.allowResize?"resize":"no-resize"}`,...t.title?[]:[`${e}--no-header`],...t.bodyFills?[`${e}--body-fills`]:[],...t.noBackdrop?[`${e}--no-backdrop`]:[],...t.noMinHeight?[`${e}--no-min-height`]:[],...t.class?[t.class]:[]],a=t.title?`${s}--title`:t.labelledby;return`
      <dialog 
        id="${s}" 
        class="${o.join(" ")}" 
        ${a?`aria-labelledby="${a}"`:""}
        ${i?`aria-describedby="${i}"`:""}
      >
        ${t.title?`
          <header class="${e}__header">
            <h2 id="${a}" class="${e}__title ${t.titleClass}">
              ${t.titleIcon?`<span class="${e}__title-icon ${t.titleIcon}" aria-hidden="true"></span>`:""}
              <span class="${e}__title-text">${t.title}</span>
            </h2>
            <button class="${e}__close ${t.classClose}" aria-label="Close modal" ${pe} autofocus>
              ${t.templateCloseIcon(t)}
            </button>
          </header>
        `:""}
        <div class="${e}__body" ${q.getAttribute("body")}></div>
        ${n?`<div class="${e}__footer">${n}</div>`:""}
        ${t.allowResize?`<button class="${e}__resizer" type="button" ${q.getAttribute("resizer")}>
            ${t.templateResizerIcon(t)}
          </button>`:""}
      </dialog>
    `}};let jt={...ye};function ws(s){jt=Object.assign({},jt,s)}function Ss(){q.init({withData:!0,coreEvents:["pageModified"],setup({element:s,data:t}){Bt(s,t)}})}function Bt(s,t){const e=Object.assign({},jt,t),{position:i}=e;if(e.debug&&q.log(e,s),!s.id)throw new Error("Missing ID on modal");const n=e.template(s.id,e),o=se(n.trim()),a=b=>o.querySelector(q.attributeSelector(b)),r=a("body"),c=a("resizer"),u=$s(e);if(s.removeAttribute("id"),s.removeAttribute("hidden"),s.removeAttribute(q.getAttribute()),s.parentNode.replaceChild(o,s),r.appendChild(s),o.setAttribute(Ht,JSON.stringify(u)),e.footerElement){const b=nt(e.footerElement);b&&(b.classList.add(`${e.baseClass}__footer`),r.after(b))}let d;const h=["left","right","center"],p=i==="center",m=i==="right";if(e.allowResize)if(h.includes(i)){const b=p?{fromX:"right",fromY:"bottom",multiplier:2}:{fromX:m?"left":"right"};d=new gt(o,c,b)}else console.warn(`${i} is not supported for resizing`);if(e.print){let b;document.addEventListener(T("beforePrint"),()=>{b=s.cloneNode(!0),o.after(b)}),document.addEventListener(T("afterPrint"),()=>{b.remove()})}return{modal:o,resizer:d}}function $s(s){return Object.keys(qt).reduce((t,e)=>(e in s&&(t[e]=s[e]),t),{})}const Lt=class Lt{constructor(t){const e=Object.assign({},Lt.defaults,t);this.options=e,this.triggers=null,this.cachedTrigger=null,this.triggerListener,this.onTriggerClick=i=>{const n=i.target.closest(e.triggerSelector);n&&(this.cachedTrigger=n)},this.onPageModified=()=>{this.setupTriggers()},document.addEventListener(T("pageModified"),this.onPageModified),this.setupTriggers()}setupTriggers(){const{triggerSelector:t,triggerInitAttr:e}=this.options;document.querySelectorAll(`${t}:not([${e}])`).forEach(n=>{n.addEventListener("click",this.onTriggerClick)})}destroy(){const{triggerSelector:t}=this.options;document.querySelectorAll(t).forEach(i=>{i.removeEventListener("click",this.onTriggerClick)})}createAndOpen(t,e){const{noClickTrigger:i,removeOnClose:n,element:o,classes:a}=t,r=nt(o);r.id||(r.id=lt()),a&&r.classList.add(...a);let c;if(i||(c=this.cachedTrigger,this.cachedTrigger=null),!r){console.error("No element found from config.element. ",t);return}const{modal:u}=Bt(r,t.modal),d={trigger:c,modal:u,config:t};e&&e(d);const h=()=>{n&&u.remove(),c&&c.focus()};return u.addEventListener("close",h,{once:!0}),!n&&c&&c.addEventListener("click",p=>{p.preventDefault(),u.showModal()}),_("pageModified",u),u.showModal(),d}};v(Lt,"defaults",{triggerSelector:"[data-ulu-programmatic-modal-trigger]",triggerInitAttr:"data-ulu-programmatic-modal-init"});let Nt=Lt;const Ls=["track","controls"],st=class st{constructor(t,e){this.options=Object.assign({},st.defaults,e),ot(Ls)||w(this,"Missing a required Element"),this.elements={...t,...this.createControls(t.controls)},this.nextEnabled=!0,this.previousEnabled=!0,this.scrollHandler=i=>this.onScroll(i),this.elements.track.addEventListener("scroll",this.scrollHandler,{passive:!0}),this.checkOverflow(),this.onScroll()}checkOverflow(){const{track:t}=this.elements;this.hasOverflow=t.scrollWidth>t.clientWidth}createControls(t){const e=document.createElement("ul"),i=document.createElement("li"),n=document.createElement("li"),o=this.createControlButton("previous"),a=this.createControlButton("next"),r=this.getClass("controls-item");return n.classList.add(r),n.classList.add(r+"--next"),i.classList.add(r),i.classList.add(r+"--previous"),e.classList.add(this.getClass("controls")),i.appendChild(o),n.appendChild(a),e.appendChild(i),e.appendChild(n),o.addEventListener("click",this.previous.bind(this)),a.addEventListener("click",this.next.bind(this)),t.appendChild(e),{controls:e,previousItem:i,nextItem:n,previous:o,next:a}}createControlButton(t){const e=document.createElement("button");return e.classList.add(this.getClass("control-button")),e.classList.add(this.getClass(`control-button--${t}`)),e.classList.add(...this.options.buttonClasses),e.setAttribute("type","button"),e.innerHTML=this.getControlContent(t),e}getControlContent(t){const e=this.options[t==="next"?"iconClassNext":"iconClassPrevious"];return`
      <span class="hidden-visually">${t}</span>
      <span class="${e}" aria-hidden="true"></span>
    `}onScroll(t){this.hasOverflow&&this.onScrollHorizontal()}onScrollHorizontal(){const{nextEnabled:t,previousEnabled:e}=this,{track:i}=this.elements,{offsetStart:n,offsetEnd:o}=this.options,{scrollWidth:a,clientWidth:r,scrollLeft:c}=i,u=c<=n,d=a-c-o<=r;u&&e?this.setControlState("previous",!1):!u&&!e&&this.setControlState("previous",!0),d&&t?this.setControlState("next",!1):!d&&!t&&this.setControlState("next",!0)}setControlState(t,e){const i=t==="next",{next:n,nextItem:o,previous:a,previousItem:r}=this.elements,c=i?o:r,u=i?n:a,d=e?"remove":"add";c.classList[d](this.getClass("controls-item--disabled")),u.classList[e?"remove":"add"](this.getClass("control--disabled")),e?u.removeAttribute("disabled"):u.setAttribute("disabled",""),this[i?"nextEnabled":"previousEnabled"]=e}resolveAmount(t){const e=t==="next",{amount:i}=this.options,{scrollLeft:n,offsetWidth:o}=this.elements.track;return i==="auto"?e?n+o:n-o:typeof i=="function"?i(this,t):typeof i=="number"?e?n+i:n-i:(w("Unable to resolve amount for scroll"),500)}next(){this.elements.track.scrollTo({top:0,left:this.resolveAmount("next"),behavior:"smooth"})}previous(){this.elements.track.scrollTo({top:0,left:this.resolveAmount("previous"),behavior:"smooth"})}getClass(t){const{namespace:e}=this.options;return`${e}__${t}`}};v(st,"instances",[]),v(st,"defaults",{namespace:"OverflowScroller",events:{},horizontal:!0,offsetStart:100,offsetEnd:100,amount:"auto",buttonClasses:["button","button--icon"],iconClassPrevious:P("iconClassPrevious"),iconClassNext:P("iconClassNext")});let mt=st;function Ce(){return function(t,e){const i=e==="next",{track:n}=t.elements;if(!n.children)return 400;const a=window.getComputedStyle(n).getPropertyValue("scroll-padding-left").replace("auto","0px"),r=parseInt(a,10),{scrollLeft:c,offsetWidth:u}=n,d=c+u,h=[...n.children].map(m=>{const{offsetLeft:b,offsetWidth:Fe}=m;return{element:m,offsetLeft:b,offsetRight:b+Fe}});let p;if(i)p=h.find(m=>m.offsetRight>=d);else{let m=h.findLastIndex(b=>b.offsetLeft<=c);if(m){let b=h[m];p=h.slice(0,m+1).find(Si=>Si.offsetLeft+r+u>=b.offsetRight)}}return p?i?p.offsetLeft:p.offsetLeft+r:400}}function As(){_e()}const Ee={strategy:"absolute",placement:"bottom",inline:!1,offset:{mainAxis:16},shift:!0,flip:!0,arrow:!0};function Ft(s,t){const e=Object.assign({},Ee,t),{placement:i,strategy:n}=e,{trigger:o,content:a,contentArrow:r}=s;return f.autoUpdate(o,a,()=>{f.computePosition(o,a,{placement:i,strategy:n,middleware:[...tt(f.inline,e.inline),...tt(f.offset,e.offset),...tt(f.flip,e.flip),...tt(f.shift,e.shift),...tt(f.arrow,r&&e.arrow,{element:r})]}).then(c=>{const{x:u,y:d,middlewareData:h,placement:p}=c,m=h.arrow;Object.assign(a.style,{left:`${u}px`,top:`${d}px`}),a.setAttribute("data-placement",p),m&&Object.assign(r.style,{left:(m==null?void 0:m.x)!=null?`${m.x}px`:"",top:(m==null?void 0:m.y)!=null?`${m.y}px`:""})})})}function tt(s,t,e={}){return t?typeof t=="object"?[s({...t,...e})]:[s(e)]:[]}const x=new C({type:"popover",baseAttribute:"data-ulu-popover"}),ks=x.attributeSelector("trigger-anchor"),Is=x.attributeSelector("arrow"),zs=x.getAttribute("content"),Os=x.attributeSelector("content"),Ut=new WeakMap,Ts={clickOutsideCloses:!0,escapeCloses:!0};function Ds(){x.init({key:"trigger",withData:!0,coreEvents:["pageModified"],setup({element:s,data:t,initialize:e}){if(Ut.has(s))return;const i=we(s,t);if(!i){x.warn("Unable to resolve popover elements for trigger.",s);return}const{elements:n,options:o,floatingOptions:a}=i;Ut.set(n,new $e(n,o,a)),e()}})}function we(s,t){const e=Object.assign({},t),i=Se(s),n={trigger:s,content:i,anchor:s.querySelector(ks)||s,contentArrow:i.querySelector(Is)},o=e.floating||{};return delete e.floating,i?{elements:n,options:e,floatingOptions:o}:(x.logError("Unable to make popover for",s),!1)}function Se(s){var i;let t;const e=s.getAttribute("aria-controls");if(e)t=document.getElementById(e);else if((i=s==null?void 0:s.nextElementSibling)!=null&&i.hasAttribute(zs))t=s.nextElementSibling;else{const n=Array.from(s.parentNode.children),o=n.findIndex(r=>r===s);t=n.slice(o).find(r=>r.matches(Os))}return t||x.logError("Unable to resolve 'content' element for popover",s),t}class $e extends ut{constructor(t,e,i){const n=Object.assign({},Ts,e);super(t,n),this.floatingOptions=i||{}}setState(t,e){super.setState(t,e),this.destroyFloatingInstance(),t&&this.createFloatingInstance()}destroy(){super.destroy(),this.destroyFloatingInstance()}createFloatingInstance(){const{content:t,anchor:e,contentArrow:i}=this.elements,n={trigger:e,contentArrow:i,content:t};this.floatingCleanup=Ft(n,this.floatingOptions)}destroyFloatingInstance(){this.floatingCleanup&&(this.floatingCleanup(),this.floatingCleanup=null)}}const bt={opened:"data-ulu-print-details-opened"},Ps=s=>`[${bt[s]}]`,xs={selector:"details:not([open])"};function Ms(s){const t=Object.assign({},xs,s);document.addEventListener(T("beforePrint"),()=>{document.querySelectorAll(t.selector).forEach(e=>{e.open||(e.setAttribute(bt.opened,!0),e.open=!0)})}),document.addEventListener(T("afterPrint"),()=>{document.querySelectorAll(Ps("opened")).forEach(e=>{e.removeAttribute(bt.opened),e.open=!1})})}function Rs(s){const t=window.open();t.document.write(s),t.print(),t.close()}function Hs(s){var t=s.innerHTML;Rs(t)}const qs=new C({type:"print",baseAttribute:"data-ulu-print"}),js={element:null};function Bs(){qs.init({withData:!0,coreEvents:["pageModified"],setup({element:s,data:t,initialize:e}){Ns(s,t),e()}})}function Ns(s,t){const e=Object.assign({},js,t);s.addEventListener("click",()=>{if(e.element){const i=nt(e.element);i?Hs(i):console.error("Unable to find element to print",s,e)}else window.print()})}const Le=new C({type:"proxy-click",baseAttribute:"data-ulu-proxy-click"}),Ae={selector:"[data-ulu-proxy-click-source]",selectorPreventBase:"input, select, textarea, button, a, [tabindex='-1']",selectorPrevent:"",mousedownDurationPrevent:250};let Vt={...Ae};function Fs(s){Vt=Object.assign({},Vt,s)}function Us(){Le.init({withData:!0,coreEvents:["pageModified"],setup({element:s,data:t,initialize:e}){ke(s,t),e()}})}function ke(s,t){const e=Object.assign({},Vt,t),i=s.querySelector(e.selector);i?Ie(s,i,e):console.error("Unable to locate proxy click source",e.selector)}function Ie(s,t,e){const{selectorPreventBase:i,selectorPrevent:n}=e,o=`${i}${n?`, ${n}`:""}`;let a,r;s.addEventListener("mousedown",({target:c,timeStamp:u})=>{r=!1,c.matches(o)||(r=!0,a=u)}),s.addEventListener("mouseup",({timeStamp:c})=>{r&&c-a<e.mousedownDurationPrevent&&t.click()}),s.style.cursor="pointer"}const vt=new C({type:"scroll-slider",baseAttribute:"data-ulu-scroll-slider"}),Vs=vt.attributeSelector("track"),Ks=vt.attributeSelector("control-context"),Ws=[],Xs={amount:Ce()};function Ys(){vt.init({withData:!0,coreEvents:["pageModified"],setup({element:s,data:t,initialize:e}){Gs(s,t),e()}})}function Gs(s,t){const e=Object.assign({},Xs,t),i={track:s.querySelector(Vs),controls:s.querySelector(Ks)};Ws.push(new mt(i,e))}const yt=new C({type:"scrollpoint",baseAttribute:"data-ulu-scrollpoint"});function Qs(){yt.init({withData:!0,coreEvents:["pageModified"],setup({element:s,data:t,initialize:e}){const i=Object.assign({},t);new Ct(s,i),e()}})}const At=class At{constructor(t,e){const i=Object.assign({},At.defaults,e);if(!t){w(this,"Missing required element");return}i.rootSelector&&(i.root=document.querySelector(i.rootSelector),delete i.rootSelector),this.options=i,this.observer=null,this.lastPosition=null,this.isActive=!1,this.element=t,this.syncedElements=[t,...i.syncElements.map(n=>nt(n))],this.classes={enter:this.getClassname("enter"),enterForward:this.getClassname("enter--from-forward"),enterReverse:this.getClassname("enter--from-reverse"),exit:this.getClassname("exit"),exitForward:this.getClassname("exit--from-forward"),exitReverse:this.getClassname("exit--from-reverse")},this.setupObserver(),i.debug&&yt.log(this)}getClassname(t){return this.options.classPrefix+"-"+t}getObserverOptions(){const{root:t,marginStart:e,marginEnd:i,threshold:n,horizontal:o}=this.options,a=o?`0px ${e} 0px ${i}`:`${e} 0px ${i} 0px`;return{root:t,rootMargin:a,threshold:n}}onObserve(t){const e=this.getScrollY(),{lastPosition:i,isActive:n,options:o}=this,a=i===null?null:i<e;t.forEach(r=>{const{isIntersecting:c}=r;c&&!n?this.setState(!0,a):!c&&n&&o.exit&&(a&&o.exitForward||!a&&o.exitReverse)&&this.setState(!1,a)}),this.lastPosition=e}setupObserver(){const t=i=>{this.onObserve(i)},e=this.getObserverOptions();this.options.debug&&yt.log("IntersectionObserver (options)",e),this.observer=new IntersectionObserver(t,e),this.observer.observe(this.element)}getScrollY(){const{root:t}=this.options;return t===null||t===document?window.scrollY:t.scrollTop}setState(t,e){const{element:i}=this,n={isActive:t,isForward:e,element:i,instance:this},{setClasses:o,setAttribute:a,onChange:r}=this.options;o&&this.updateClasses(t,e),a&&this.updateStateAttribute(t,e),r&&r(n),this.isActive=t}getAllClasses(){return Object.values(this.classes)}updateClasses(t,e){const{classes:i}=this,n=this.getAllClasses(),o=[i.enter,e?i.enterForward:i.enterReverse],a=[i.exit,e?i.exitForward:i.exitReverse];this.syncedElements.forEach(r=>{r.classList.remove(...n),t?r.classList.add(...o):r.classList.add(...a)})}updateStateAttribute(t,e){const i=t?"enter":"exit",n=e?"forward":"reverse";this.syncedElements.forEach(o=>{o.setAttribute(this.options.attributeName,`${i}-${n}`)})}destroy(){this.observer.disconnect(),this.observer=null,this.options.setClasses&&this.element.classList.remove(...this.getAllClasses()),this.options.setAttribute&&this.element.removeAttribute(this.options.attributeName)}};v(At,"defaults",{root:null,rootSelector:null,debug:!1,horizontal:!1,marginStart:"-25%",marginEnd:"-55%",threshold:[0,1],exit:!0,exitForward:!0,exitReverse:!0,setClasses:!1,classPrefix:"scrollpoint",setAttribute:!0,attributeName:"data-ulu-scrollpoint-state",syncElements:[],onChange(t){}});let Ct=At;const F=new C({type:"slider",baseAttribute:"data-ulu-slider"}),_s=F.attributeSelector("track"),Js=F.attributeSelector("track-container"),Zs=F.attributeSelector("control-context"),ti=F.attributeSelector("slide"),ei=[],U={once:!0},ze=s=>`${s}ms`,si=["container","trackContainer","track","slides"];function ii(){F.init({withData:!0,coreEvents:["pageModified"],setup({element:s,data:t,initialize:e}){Oe(s,t),e()}})}function Oe(s,t){const e=Object.assign({},t),i={container:s,track:s.querySelector(_s),trackContainer:s.querySelector(Js),controlContext:s.querySelector(Zs),slides:s.querySelectorAll(ti)};i.slides.length&&ei.push(new Et(i,e,!1))}const L=class L{static _initializeGlobals(){L.globalsInitialized||(addEventListener("load",()=>{addEventListener("resize",te(()=>{L.instances.forEach(t=>t.handleResize())},250))}),L.reduceMotion=matchMedia("(prefers-reduced-motion: reduce)").matches,L.globalsInitialized=!0)}constructor(t,e){L._initializeGlobals();const i=Object.assign({},L.defaults,e);this.options=i,this.slide=null,this.index=null,this.swipeInstance=null,this.swipeListener=null,this.swipeImageListener=null,this.transitioning=!1,ot(si)||w(this,"Missing a required Element"),t.slides.length||w(this,"Missing slides"),this.slides=[...t.slides].map((n,o)=>({element:n,index:o,number:o+1})),this.elements={...t,...this.createControls(t.controlContext||t.container),...this.createNav(t.navContext||t.container)},this.transition=i.transition?i.transitionFade||L.reduceMotion?this.fadeTransition:this.slideTransition:this.noTransition,this.setup(),this.goto(0,null,"init"),A(this,"Slider Instance Created",this),L.instances.push(this)}handleResize(){const{slide:t,transition:e,slideTransition:i}=this;e===i&&t&&this.translateTo(t.element.offsetLeft,0)}previous(t){const{index:e,slides:i}=this,n=i.length-1,o=e-1,a=o<0?n:o;this.emit("previous",[t,a]),this.goto(a,t,"previous")}next(t){const{index:e,slides:i}=this,n=e+1,o=n>i.length-1?0:n;this.emit("next",[t,o]),this.goto(o,t,"next")}ensureTransitionEnds(t,e,i){return new Promise(n=>{const o={},a=()=>{clearTimeout(o.start),o.end=setTimeout(r,e+500)},r=()=>{clearTimeout(o.start),clearTimeout(o.end),t.removeEventListener("transitionrun",a,U),t.removeEventListener("transitionend",r,U),t.removeEventListener("transitioncancel",r,U),n()};t.addEventListener("transitionrun",a,U),t.addEventListener("transitionend",r,U),t.addEventListener("transitioncancel",r,U),o.start=setTimeout(r,e+500),t.style.transitionDuration=ze(e),i(),e||r()})}translateTo(t,e){const{track:i}=this.elements,n=()=>i.style.transform=`translateX(-${t}px)`;return i.style.willChange="transform",this.ensureTransitionEnds(i,e,n).then(()=>{i.style.willChange="auto"})}setVisibility(t,e){e||(t.element.style.visibility="visible"),this.slides.forEach(i=>{i!==t&&(i.element.style.visibility=e?"visible":"hidden")})}fadeSlide(t,e){const{options:i}=this,{element:n}=t,o=e?i.transitionDuration:i.transitionDurationExit;return this.ensureTransitionEnds(n,o,()=>{n.style.opacity=e?"1":"0"})}async slideTransition({slide:t,index:e,old:i,oldIndex:n,triggerType:o}){const a=this.slides.length,r=o==="previous",c=a-1,u=e===0&&n===c,d=e===c&&n===0;let h,p=this.options.transitionDuration;n&&!u&&!d&&(p=p*Math.abs(n-e)),a<3?u&&!r?h=i:d&&(h=r?t:i):u?h=i:d&&(h=t),this.setVisibility(null,!0),h&&(h.element.style.order="-1",await this.translateTo(u?0:i.element.offsetLeft,0)),await this.translateTo(t.element.offsetLeft,p),h&&(h.element.style.order="0",await this.translateTo(t.element.offsetLeft,0)),this.setVisibility(t,!1)}async fadeTransition({slide:t,old:e}){this.setVisibility(null,!0),e&&(await this.fadeSlide(e,!1),e.element.style.order="0"),t.element.style.order="-1",await this.fadeSlide(t,!0),this.setVisibility(t,!1)}noTransition({slide:t,old:e}){return this.setVisibility(t,!1),e&&(e.element.style.order="0"),t.element.style.order="-1",Promise.resolve()}goto(t,e,i){const{slide:n,index:o,slides:a,elements:r}=this,c=i==="init",u=a[t],d=this.getClass("nav-button--active"),h=this.getClass("transition",!0),p={slide:u,index:t,old:n,oldIndex:o,triggerType:i};if(t===o){Pt(this,"Could not goto slide, still performing transition");return}if(this.transitioning){Pt(this,"Cancel goto(), same slide index as current slide");return}this.elements.track.inert=!0,this.transitioning=!0,n&&n.navButton.classList.remove(d),u.navButton.classList.add(d),r.container.classList.add(h),this.transition(p).then(()=>{this.index=t,this.slide=u,this.transitioning=!1,this.elements.track.inert=!1,r.container.classList.remove(h),c||(u.element.focus(),this.emit("goto",[e,t,u]))})}setup(){const{container:t,track:e,trackContainer:i}=this.elements,n=rt(this.trackCss()),o=rt(this.trackContainerStyles()),a=rt(this.slideCss());e.setAttribute("style",n),i.setAttribute("style",o),this.slides.forEach(r=>{r.element.setAttribute("style",a),r.element.setAttribute("tabindex","-1")}),t.classList.add(this.getClass()),this.options.swipeEnabled&&this.setupSwipe()}setupSwipe(){const t=this.elements.track.querySelectorAll("img");this.swipeListener=e=>{this.onSwipe(e)},this.swipeImageListener=e=>{e.preventDefault()},this.slides.forEach(e=>{const{element:i}=e;e.swipeInstance=y(i,this.options.swipeOptions),i.addEventListener("swipe",this.swipeListener)}),t.forEach(e=>{e.addEventListener("dragstart",this.swipeImageListener)})}onSwipe(t){const{directions:e}=t.detail,i=e.left?"next":e.right?"previous":null;i&&this[i](t)}trackContainerStyles(){return`
      overflow: hidden;
    `}transitionCss(t){const{transitionTimingFunction:e,transitionDuration:i}=this.options;return`
      transition-property: ${t};
      transition-duration: ${ze(i)};
      transition-timing-function: ${e};
    `}trackCss(){return`
      display: flex;
      position: relative;
      list-style: none;
      ${this.transition===this.slideTransition?this.transitionCss("transform"):""}
    `}slideCss(){const t=this.transition===this.fadeTransition;return`
      width: 100%;
      flex: 0 0 100%;
      ${t?this.transitionCss("opacity"):""}
      opacity: ${t?"0":"1"}
    `}getClass(t,e){const{namespace:i}=this.options;return e?`${i}--${t}`:t?`${i}__${t}`:i}createControlButton(t){const e=document.createElement("button");return e.classList.add(this.getClass("control-button")),e.classList.add(this.getClass(`control-button--${t}`)),e.classList.add(...this.options.buttonClasses),e.setAttribute("data-slider-control",t),e.setAttribute("type","button"),e.innerHTML=this.getControlContent(t),e}createControls(t){const e=document.createElement("ul"),i=document.createElement("li"),n=document.createElement("li"),o=this.createControlButton("previous"),a=this.createControlButton("next");return e.classList.add(this.getClass("controls")),i.appendChild(o),n.appendChild(a),e.appendChild(i),e.appendChild(n),o.addEventListener("click",this.previous.bind(this)),a.addEventListener("click",this.next.bind(this)),t.appendChild(e),{controls:e,previousItem:i,nextItem:n,previous:o,next:a}}createNav(t){const e=document.createElement("ul"),i=this.slides.map(this.createNavButton.bind(this)),n=i.map(o=>{const a=document.createElement("li");return a.appendChild(o),e.appendChild(a),a});return e.classList.add(this.getClass("nav")),t.appendChild(e),{nav:e,navButtons:i,navItems:n}}createNavButton(t,e){const i=document.createElement("button");return i.classList.add(this.getClass("nav-button")),i.setAttribute("type","button"),i.innerHTML=this.getNavContent(t),t.navButton=i,i.addEventListener("click",this.goto.bind(this,e)),i}getControlContent(t){const e=this.options[t==="next"?"iconClassNext":"iconClassPrevious"];return`
      <span class="${this.options.classAccessiblyHidden}">${t}</span>
      <span class="${this.getClass("control-icon")} ${e}" aria-hidden="true"></span>
    `}getNavContent(t){return`<span class="${this.options.classAccessiblyHidden}">Item ${t.number}</span>`}emit(t,e){this.options.events[t]&&this.options.events[t].apply(this,e)}};v(L,"instances",[]),v(L,"globalsInitialized",!1),v(L,"reduceMotion",!1),v(L,"defaults",{classAccessiblyHidden:"hidden-visually",namespace:"Slider",events:{},transition:!0,transitionFade:!1,transitionDuration:700,transitionDurationExit:400,transitionTimingFunction:"ease-in-out",buttonClasses:["button","button--icon"],iconClassPrevious:P("iconClassPrevious"),iconClassNext:P("iconClassNext"),swipeEnabled:!0,swipeOptions:{preventScroll:!0}});let Et=L;const Kt=[],Te=new C({type:"tabs",baseAttribute:"data-ulu-tablist"});function ni(){const s=()=>{Te.init({coreEvents:["pageModified"],withData:!0,setup({element:t,data:e,initialize:i}){De(t,e),i()}}),Kt.forEach(oi)};document.readyState==="complete"?s():window.addEventListener("load",s)}function De(s,t={}){const e=Object.assign({},t);e.vertical&&(e.allArrows=!0);const i={element:s,options:t};return i.ariaTablist=it(s,{onOpen(...n){n.unshift(i),ri.apply(null,n)},...e}),Kt.push(i),e.equalHeights&&ai(s),i}function oi({options:s,ariaTablist:t}){if(s.openByUrlHash){const{hash:e}=window.location;if(e&&e.length>1){const i=e.substring(1);t.tabs.forEach(n=>{i===n.id&&t.open(n)})}}}function ri({options:s},t,e){s.openByUrlHash&&window.history&&window.history.replaceState(null,"",`#${e.id}`)}function ai(s){const e=[...s.children].map(r=>document.querySelector(`[aria-labelledby="${r.id}"]`)),o=[...e[0].parentElement.querySelectorAll("img")].map(r=>a(r));function a(r){return new Promise(c=>{r.complete?c(r):(r.onload=c,r.onerror=c)})}Promise.all(o).then(()=>{const r=e.map(u=>{let d=u.offsetHeight;return u.hidden&&(u.hidden=!1,d=u.offsetHeight,u.setAttribute("hidden","hidden")),d}),c=Math.max(...r);e.forEach(u=>u.style.minHeight=`${c}px`)})}const k=new C({type:"theme-toggle",baseAttribute:"data-ulu-theme-toggle"}),li=k.attributeSelector("label"),ci=k.attributeSelector("icon"),Pe=k.getAttribute("remote"),Wt=k.getAttribute("init"),xe=k.getAttribute("state"),ui=s=>document.querySelectorAll(`[${Pe}="${s}"]`),Me=s=>document.querySelectorAll(`[${Pe}="${s}"]:not([${Wt}])`),Re=["target"],di=ot(Re),He=(s,t)=>s?t():null,Xt={themes:{light:{label:"Light",value:"light",iconClass:"fas fa-moon",targetClass:"theme-light",mediaQuery:"(prefers-color-scheme: light)"},dark:{label:"Dark",iconClass:"fas fa-sun",targetClass:"theme-dark",mediaQuery:"(prefers-color-scheme: dark)"}},target:"body",group:null,onChange(s){},initialState:"light",checkMediaQuery:!1,savePreference:!1,storagePrefix:"ulu-theme-",debug:!1};let qe={...Xt};function hi(s){qe=Object.assign({},qe,s)}function fi(){k.init({coreEvents:["pageModified"],withData:!0,setup({element:s,data:t,initialize:e}){je(s,t),e()}})}function je(s,t){const e=Object.assign({},Xt,t);if(!di(e)){console.error(`Missing a required option: ${Re.join(", ")}`);return}const i=e.group,n={toggle:s,options:e},o=pi(e);if(!o){console.error("Unable to resolve initial key");return}Yt(o,n),s.addEventListener("click",r),c(),document.addEventListener(T("pageModified"),c);function a(h){const m=ie(e.target)[0].dataset.uluThemeToggleState,b=mi(m,e);if(!b){console.error("Issue getting next theme key");return}Yt(b,{...n,event:h})}function r(h){a(h)}function c(){if(!i)return;Me(i).forEach(p=>{p.addEventListener("click",r),k.initializeElement(p)})}function u(){if(!i)return;Me(i).forEach(p=>{p.removeEventListener("click",r),p.removeAttribute(Wt,"")})}function d(){s.removeEventListener("click",r),s.removeAttribute(Wt,""),u(),document.removeEventListener(T("pageModified"),c)}return{destroy:d,toggle:s,options:e,toggleState:a,setState(h){Yt(h,n)}}}function Yt(s,t){if(!s){console.error("Missing key");return}const{toggle:e,options:i}=t,{themes:n,group:o}=i,a={targets:ie(i.target),toggles:[e,...o?ui(o):[]]};if(!a.targets.length||!a.toggles.length){console.error("Issue setting state, couldn't find needed elements",a);return}const r=n[s],c=bi(s,n),u={...t,key:s,elements:a,theme:r,otherThemes:c};i.debug&&k.log("Set state context",u);const d=Be(c,"targetClass"),h=Be(c,"iconClass");a.targets.forEach(p=>{p.setAttribute(xe,s),p.classList.remove(...d),p.classList.add(...at(r.targetClass))}),a.toggles.forEach(p=>{const m=p.querySelector(li),b=p.querySelector(ci);m&&(m.textContent=r.label),b&&(b.classList.remove(...h),b.classList.add(...at(r.iconClass))),p.setAttribute(xe,s)}),i.onChange&&i.onChange(u),i.savePreference&&localStorage.setItem(Ne(i),s)}function pi(s){const{savePreference:t,checkMediaQuery:e,themes:i,initialState:n}=s,o=Ne(s),a=He(t,()=>localStorage.getItem(o)),r=He(e,()=>gi(i)),c=a||r||n;return s.debug&&(k.log("Preference Saved",a),k.log("Media Query Preference",r),k.log("Initial State:",n)),c||k.logError("Failed to resolve initial theme (pass 'initialState' to options)"),c}function gi(s){const t=Object.entries(s).find(([e,i])=>{if(i.mediaQuery)return window.matchMedia(i.mediaQuery).matches});return t?t[0]:null}function mi(s,t){const{themes:e}=t,i=Object.keys(e),n=i.findIndex(a=>a===s),o=n===-1?0:(n+1)%i.length;return i[o]}function bi(s,t){return Object.entries(t).filter(([i])=>i!==s).map(([i,n])=>n)}function Be(s,t){return s.reduce((e,i)=>e.concat(at(i[t])),[])}function Ne(s){const{storagePrefix:t,group:e}=s;return e?`${t}${e}`:t}const et=new C({type:"tooltip",baseAttribute:"data-ulu-tooltip"}),vi=et.getAttribute("body"),yi=et.attributeSelector("body"),Ci=et.attributeSelector("arrow");function Ei(){et.init({coreEvents:["pageModified"],withData:!0,setup({element:s,data:t,initialize:e}){const i=typeof t=="object"?t:{};typeof t=="string"&&(i.content=t),e(),new wt({trigger:s},i)}})}const Q=class Q{constructor(t,e,i){const{trigger:n}=t;if(!n){w(this,"missing required trigger");return}this.options=Object.assign({},Q.defaults,e),this.floatingOptions=Object.assign({},Q.defaultFloatingOptions,i),this.elements={...t},this.handlers={},this.isOpen=!1,ct(n),this.setup()}setup(){this.createContentElement(),this.attachHandlers(),this.setupAccessibility()}setupAccessibility(){const{trigger:t,content:e}=this.elements,{accessible:i}=this.options;i&&t.setAttribute("aria-describedby",e.id)}destroy(){this.destroyHandlers(),this.destroyDisplay()}getInnerContent(){const{fromElement:t,content:e,isHtml:i,fromAnchor:n}=this.options;if(e)return e;if(t||n){const o=n?this.getAnchorElement():document.querySelector(t);return o?i?o.innerHTML:o.innerText:""}else w(this,"Could not resolve inner content")}getAnchorElement(){const{trigger:t}=this.elements,{href:e}=t,i=e?e.split("#")[1]:null,n=i?document.getElementById(i):null;return n||console.error("Unable to get 'fromAnchor' element",t),n}createContentElement(){const{options:t}=this,e=se(t.template(t)),i=e.querySelector(yi),n=this.getInnerContent();t.isHtml?i.innerHTML=n:i.textContent=n,e.id=lt(),t.contentClass&&e.classList.add(t.contentClass),this.elements.content=e,this.elements.contentArrow=e.querySelector(Ci),document.body.appendChild(e)}attachHandlers(){const{trigger:t}=this.elements,{showEvents:e,hideEvents:i,delay:n}=this.options;let o=null;const a=u=>{o||(o=setTimeout(()=>{this.show(u),clearTimeout(o)},n))},r=u=>{o&&(clearTimeout(o),o=null),this.hide(u)},c=u=>{u.key==="Escape"&&this.hide(u)};e.forEach(u=>{t.addEventListener(u,a)}),i.forEach(u=>{t.addEventListener(u,r)}),document.addEventListener("keydown",c),this.handlers={onShow:a,onHide:r,onDocumentKeydown:c}}destroyHandlers(){const{trigger:t}=this,{onShow:e,onHide:i,onDocumentKeydown:n}=this.handlers,{showEvents:o,hideEvents:a}=this.options;e&&o.forEach(r=>{t.removeEventListener(r,e)}),i&&a.forEach(r=>{t.removeEventListener(r,i)}),n&&document.removeEventListener("keydown",n)}setState(t,e){const i={instance:this,isOpen:t,event:e},{trigger:n,content:o}=this.elements,{openClass:a}=this.options,r=c=>c.classList[t?"add":"remove"](a);r(n),r(o),this.isOpen=t,this.options.onChange(i),n.dispatchEvent(this.createEvent("change",i)),this.destroyFloatingInstance(),t&&this.createFloatingInstance()}createEvent(t,e){return new CustomEvent(H("tooltip:"+t),{detail:e})}createFloatingInstance(){this.floatingCleanup=Ft(this.elements,this.floatingOptions)}destroyFloatingInstance(){this.floatingCleanup&&(this.floatingCleanup(),this.floatingCleanup=null)}show(t){this.setState(!0,t)}hide(t){this.setState(!1,t)}};v(Q,"defaults",{accessible:!0,content:null,openClass:"is-active",contentClass:"",isHtml:!1,fromElement:null,fromAnchor:!1,endOfDocument:!0,showEvents:["pointerenter","focus"],hideEvents:["pointerleave","blur"],delay:500,template(t){return`
        <div class="popover popover--tooltip">
          <div class="popover__inner" ${vi}>
          </div>
          <span class="popover__arrow" data-ulu-tooltip-arrow></span>
        </div>
      `},onChange(t){}}),v(Q,"defaultFloatingOptions",{});let wt=Q;const kt=class kt{constructor(t,e){this.options=Object.assign({},kt.defaults,e),this.data=t,this.blob=new Blob([t],{type:this.options.type}),this.url=URL.createObjectURL(this.blob)}destroy(){return URL.revokeObjectURL(this.url)}getUrl(){return this.url}createLink(t){const e=document.createElement("a"),i=document.createTextNode(t);return e.setAttribute("download",this.options.filename),e.setAttribute("href",this.url),e.appendChild(i),e}static isBrowserSupported(){return"FileReader"in window}};v(kt,"defaults",{filename:"filesave-file.txt",type:"text/plain;charset=utf-8"});let Gt=kt;function wi(){re({iconClassClose:"fas fa-xmark",iconClassDragX:"fas fa-solid fa-grip-lines-vertical",iconClassPrevious:"fas fa-solid fa-chevron-left",iconClassNext:"fas fa-solid fa-chevron-right"})}l.BreakpointManager=xt,l.Collapsible=ut,l.ComponentInitializer=C,l.FileSave=Gt,l.Flipcard=pt,l.OverflowScroller=mt,l.Popover=$e,l.ProgrammaticModalManager=Nt,l.Resizer=gt,l.Scrollpoint=Ct,l.Slider=Et,l.Tooltip=wt,l.classLoggerLog=A,l.classLoggerLogError=w,l.classLoggerLogWarning=Pt,l.classLoggerSet=cs,l.createFloatingUi=Ft,l.createUluEvent=B,l.dataAttributeToDatasetKey=le,l.detailsGroupInit=ps,l.detailsGroupInitializer=dt,l.detailsGroupSetupGroup=ue,l.dialogBaseAttribute=Ht,l.dialogCloseAttribute=pe,l.dialogDefaults=qt,l.dialogGetDialogOptions=be,l.dialogInit=bs,l.dialogInitializer=N,l.dialogSetDefaults=ms,l.dialogSetupDialog=me,l.dialogSetupTrigger=ge,l.dispatchCoreEvent=_,l.ensureId=ct,l.flipcardInit=Cs,l.flipcardInitializer=ft,l.floatingUiDefaults=Ee,l.fontAwesomeConfigureIcons=wi,l.getCoreEventName=T,l.getDefaultSettings=ss,l.getSetting=ae,l.getSettings=is,l.getUluEventName=H,l.gridInit=Es,l.gridInitializer=ve,l.modalBuilderBuildModal=Bt,l.modalBuilderDefaults=ye,l.modalBuilderInit=Ss,l.modalBuilderInitializer=q,l.modalBuilderSetDefaults=ws,l.newId=lt,l.overflowScrollerCreatePager=Ce,l.pageInit=As,l.popoverGetContentByTrigger=Se,l.popoverInit=Ds,l.popoverInitializer=x,l.popoverInstances=Ut,l.popoverResolve=we,l.printDetailsAttrs=bt,l.printDetailsInit=Ms,l.printInit=Bs,l.proxyClickAttachHandlers=Ie,l.proxyClickDefaults=Ae,l.proxyClickInit=Us,l.proxyClickInitializer=Le,l.proxyClickSetDefaults=Fs,l.proxyClickSetupProxy=ke,l.resolveClasses=at,l.scrollSliderInit=Ys,l.scrollSliderInitializer=vt,l.scrollpointInit=Qs,l.scrollpointInitializer=yt,l.setPositionClasses=ce,l.sliderInit=ii,l.sliderInitializer=F,l.sliderSetupSlider=Oe,l.tabsInit=ni,l.tabsInitializer=Te,l.tabsInstances=Kt,l.tabsSetup=De,l.themeToggleDefaults=Xt,l.themeToggleInit=fi,l.themeToggleInitializer=k,l.themeToggleSetDefaults=hi,l.themeToggleSetupToggle=je,l.tooltipInit=Ei,l.tooltipInitializer=et,l.updateSetting=ns,l.updateSettings=re,l.wrapSettingString=P,l.youtubePauseVideos=de,l.youtubePrepVideos=he,Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});
